!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ltmap=t():e.ltmap=t()}(window,(function(){return function(e){var t=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(e,o){!function(e,t){if(!b[e]||!M[e])return;for(var o in M[e]=!1,t)Object.prototype.hasOwnProperty.call(t,o)&&(d[o]=t[o]);0==--g&&0===v&&P()}(e,o),t&&t(e,o)};var o,r=!0,n="c2e198bf77ed96839d8a",i={},a=[],s=[];function p(e){var t=k[e];if(!t)return T;var r=function(r){return t.hot.active?(k[r]?-1===k[r].parents.indexOf(e)&&k[r].parents.push(e):(a=[e],o=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),T(r)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return T[e]},set:function(t){T[e]=t}}};for(var i in T)Object.prototype.hasOwnProperty.call(T,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,n(i));return r.e=function(e){return"ready"===c&&h("prepare"),v++,T.e(e).then(t,(function(e){throw t(),e}));function t(){v--,"prepare"===c&&(L[e]||C(e),0===v&&0===g&&P())}},r.t=function(e,t){return 1&t&&(e=r(e)),T.t(e,-2&t)},r}function l(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)r._acceptedDependencies[e[o]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":(d={})[t]=e[t],h("ready");break;case"ready":O(t);break;case"prepare":case"check":case"dispose":case"apply":(m=m||[]).push(t)}},check:S,apply:E,status:function(e){if(!e)return c;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:i[t]};return o=void 0,r}var u=[],c="idle";function h(e){c=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var f,d,y,m,g=0,v=0,L={},M={},b={};function w(e){return+e+""===e?+e:e}function S(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=1e4,t=t||1e4,new Promise((function(e,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var r=new XMLHttpRequest,i=T.p+""+n+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return o(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)o(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)o(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void o(e)}e(t)}}}))).then((function(e){if(!e)return h(_()?"ready":"idle"),null;M={},L={},b=e.c,y=e.h,h("prepare");var t=new Promise((function(e,t){f={resolve:e,reject:t}}));d={};return C(3),"prepare"===c&&0===v&&0===g&&P(),t}));var t}function C(e){b[e]?(M[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=T.p+""+e+"."+n+".hot-update.js",document.head.appendChild(t)}(e)):L[e]=!0}function P(){h("ready");var e=f;if(f=null,e)if(r)Promise.resolve().then((function(){return E(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&t.push(w(o));e.resolve(t)}}function E(t){if("ready"!==c)throw new Error("apply() is only allowed in ready status");return function t(r){var s,p,l,u,c;function f(e){for(var t=[e],o={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var n=r.pop(),i=n.id,a=n.chain;if((u=k[i])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<u.parents.length;s++){var p=u.parents[s],l=k[p];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([p]),moduleId:i,parentId:p};-1===t.indexOf(p)&&(l.hot._acceptedDependencies[i]?(o[p]||(o[p]=[]),g(o[p],[i])):(delete o[p],t.push(p),r.push({chain:a.concat([p]),id:p})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:o}}function g(e,t){for(var o=0;o<t.length;o++){var r=t[o];-1===e.indexOf(r)&&e.push(r)}}_();var v={},L=[],M={},S=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var C in d)if(Object.prototype.hasOwnProperty.call(d,C)){var P;c=w(C),P=d[C]?f(c):{type:"disposed",moduleId:C};var E=!1,O=!1,x=!1,I="";switch(P.chain&&(I="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":r.onDeclined&&r.onDeclined(P),r.ignoreDeclined||(E=new Error("Aborted because of self decline: "+P.moduleId+I));break;case"declined":r.onDeclined&&r.onDeclined(P),r.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+I));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(P),r.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+I));break;case"accepted":r.onAccepted&&r.onAccepted(P),O=!0;break;case"disposed":r.onDisposed&&r.onDisposed(P),x=!0;break;default:throw new Error("Unexception type "+P.type)}if(E)return h("abort"),Promise.reject(E);if(O)for(c in M[c]=d[c],g(L,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,c)&&(v[c]||(v[c]=[]),g(v[c],P.outdatedDependencies[c]));x&&(g(L,[P.moduleId]),M[c]=S)}var U,R=[];for(p=0;p<L.length;p++)c=L[p],k[c]&&k[c].hot._selfAccepted&&M[c]!==S&&!k[c].hot._selfInvalidated&&R.push({module:c,parents:k[c].parents.slice(),errorHandler:k[c].hot._selfAccepted});h("dispose"),Object.keys(b).forEach((function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)}));var D,j,A=L.slice();for(;A.length>0;)if(c=A.pop(),u=k[c]){var H={},N=u.hot._disposeHandlers;for(l=0;l<N.length;l++)(s=N[l])(H);for(i[c]=H,u.hot.active=!1,delete k[c],delete v[c],l=0;l<u.children.length;l++){var F=k[u.children[l]];F&&((U=F.parents.indexOf(c))>=0&&F.parents.splice(U,1))}}for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(u=k[c]))for(j=v[c],l=0;l<j.length;l++)D=j[l],(U=u.children.indexOf(D))>=0&&u.children.splice(U,1);h("apply"),void 0!==y&&(n=y,y=void 0);for(c in d=void 0,M)Object.prototype.hasOwnProperty.call(M,c)&&(e[c]=M[c]);var G=null;for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(u=k[c])){j=v[c];var z=[];for(p=0;p<j.length;p++)if(D=j[p],s=u.hot._acceptedDependencies[D]){if(-1!==z.indexOf(s))continue;z.push(s)}for(p=0;p<z.length;p++){s=z[p];try{s(j)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:c,dependencyId:j[p],error:e}),r.ignoreErrored||G||(G=e)}}}for(p=0;p<R.length;p++){var B=R[p];c=B.module,a=B.parents,o=c;try{T(c)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,originalError:e}),r.ignoreErrored||G||(G=t),G||(G=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:c,error:e}),r.ignoreErrored||G||(G=e)}}if(G)return h("fail"),Promise.reject(G);if(m)return t(r).then((function(e){return L.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return h("idle"),new Promise((function(e){e(L)}))}(t=t||{})}function _(){if(m)return d||(d={}),m.forEach(O),m=void 0,!0}function O(t){Object.prototype.hasOwnProperty.call(d,t)||(d[t]=e[t])}var k={};function T(t){if(k[t])return k[t].exports;var o=k[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=a,a=[],s),children:[]};return e[t].call(o.exports,o,o.exports,p(t)),o.l=!0,o.exports}return T.m=e,T.c=k,T.d=function(e,t,o){T.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},T.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.t=function(e,t){if(1&t&&(e=T(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(T.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)T.d(o,r,function(t){return e[t]}.bind(null,r));return o},T.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return T.d(t,"a",t),t},T.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},T.p="",T.h=function(){return n},p("+Enc")(T.s="+Enc")}({"+DP1":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletMarkerManage=void 0;var r=o("HUdc"),n=o("VTAO"),i=function(){function e(e){this.markers=[],this.pmap=e}return e.prototype.add=function(e,t,o){var i=(o=o||new r.MarkerParas).dragstartEvent,a=o.dragendEvent,s=o.clickEvent,p=!1;null!=o.draggable&&(p=o.draggable),(i||a)&&(p=!0);var l={draggable:p};if(o.element){var u=document.createElement("div");u.style.position="absolute",o.element.style.msTransform="translateX(-50%)",o.element.style.transform="translateX(-50%)",u.appendChild(o.element),l.icon=this.IconExtend(u)}var c=L.marker([t[1],t[0]],l);c.addTo(this.pmap.getMap()),p&&(c.on("dragstart",(function(e){i&&i(e)})),c.on("drag",(function(e){})),c.on("dragend",(function(e){a&&a(e)}))),c.on("click",(function(e){s&&s(e)}));var h=new n.LeafletMarker(this.pmap,e,c);return this.markers.push(h),h},e.prototype.IconExtend=function(e){return new(L.Icon.extend({createIcon:function(){return e}}))},e.prototype.removeAll=function(){for(var e=0;e<this.markers.length;e++){var t=this.markers[e];t&&t.remove()}this.markers=[]},e}();t.LeafletMarkerManage=i},"+Enc":function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||t.hasOwnProperty(o)||r(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(o("0rMx"),t),o("i6uh");var i=o("0rMx"),a=o("qP0P"),s=o("C78t"),p=o("+DP1"),l=o("Jp0D"),u=o("my7c"),c=new i.LeafletMap;map.Container.set("map",c),map.Container.set("render",new a.LeafletRender(c)),map.Container.set("popup",new s.LeafletPopupManage(c)),map.Container.set("marker",new p.LeafletMarkerManage(c)),map.Container.set("draw",new l.LeafletDraw(c)),map.Container.set("measure",new u.LeafletMeasure(c))},"0rMx":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletMap=void 0;var r=o("nC61"),n=o("eDQc"),i=o("1sVV"),a=o("ATed"),s=o("zlaT"),p=o("UpkK"),l=o("fyfL"),u=o("tTEv"),c=o("Bams"),h=function(){function e(){this.SourcesCache=[]}return e.prototype.project=function(e){var t=L.latLng(e[1],e[0]),o=this.amap.latLngToContainerPoint(t);return[o.x,o.y]},e.prototype.unproject=function(e){var t=L.point(e[0],e[1]),o=this.amap.containerPointToLatLng(t);return[o.lng,o.lat]},e.prototype.resize=function(){this.amap.invalidateSize()},e.prototype.getSource=function(e){var t=null;if(this.SourcesCache.length>0){for(var o=0,r=this.SourcesCache;o<r.length;o++){var n=r[o];n.id==e&&(t=new a.LeafletSource(e,n,this))}return t}throw new Error("souece ID: "+e+"不存在")},e.prototype.getAllLayer=function(){throw new Error("Method not implemented.")},e.prototype.getLayersBySource=function(e){throw new Error("Method not implemented.")},e.prototype.queryRenderedFeaturesByPixel=function(e,t){if(!e)return!1;var o=L.point(e[0],e[1]),r=this.amap.containerPointToLatLng(o);return this.queryRenderedFeaturesByPoint([r.lng,r.lat],t)},e.prototype.queryRenderedFeaturesByPoint=function(e,t){if(!e)return!1;if(""==t||null==t)throw new Error("layerId 不允许为空");for(var o,r=[.13351718],n=6;n<22;n++)r[n]=r[0]/Math.pow(2,n);for(var i=5,a=1e6,s=0,p=this.sourceLayer;s<p.length;s++){var l=p[s];if(l.layerId==t){L.point([e[1],e[0]]);var u=l.layer;for(var c in u._layers)if("point"==u._layers[c].feature.geometry.type.toLowerCase()||"multipoint"==u._layers[c].feature.geometry.type.toLowerCase()){var h=Math.sqrt(Math.pow(e[0]-u._layers[c].feature.geometry.coordinates[0],2)+Math.pow(e[1]-u._layers[c].feature.geometry.coordinates[1],2));h<a&&(a=h,o=u._layers[c].feature,u._layers[c].options&&u._layers[c].options.radius&&(i=u._layers[c].options.radius))}break}}return a>3.389*i*r[this.getZoom()-1]&&(o=null),o},e.prototype.init=function(e,t,o){null==(t=t||new r.MapParas).zoomControl&&(t.zoomControl=!1),this.amap=L.map(e,t).setView([t.center[1],t.center[0]],t.zoom),this.mapParam=t;var n=o?{callback:o}:void 0;this.setStyle(t.style,n)},e.prototype.setStyle=function(e,t){var o=t&&t.callback?t.callback:void 0;if(null!==e&&""!==e)if("mapbox://"===e.substring(0,9)){var r=e.replace("mapbox://styles/","");r="https://api.mapbox.com/styles/v1/"+r+"/tiles/{z}/{x}/{y}?access_token="+map.Config.MapboxAccessToken,this.updateMapUrl(r,512,o),this.url_miniMap=r}else"minemap://"===e.substring(0,10)?(this.loadMineStyle(e,o),o&&o(this)):(this.amap.setStyle(e),o&&o(this))},e.prototype.updateMapUrl=function(e,t,o){var r,n=0;512==t&&(n=-1),r=L.tileLayer(e,{tileSize:t,zoomOffset:n,crossOrigin:"anonymous"});try{this.amap.addLayer(r)}catch(e){this.amap.removeLayer(r)}o&&o(this)},e.prototype.loadMineStyle=function(e,t){var o=this,r=this,n=e.replace("minemap://",map.Config.BaseUrl);p.StyleLoadService.loadMineMapStyle(n,(function(e){for(var t=e.sources,n=Object.keys(t).sort(),i=0;i<n.length;i++){var a=n[i],s=t[a].tiles,p=t[a].tileSize||512;if("raster"==t[a].type.toLowerCase())for(var l=0;l<s.length;l++){var u,c=s[l].split("//")[1];u=/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.exec(c)?map.Config.BaseUrl.split(":")[0]+"://"+s[l].split("//")[1]:map.Config.BaseUrl+s[l].split("//")[1],o.url_miniMap=u;try{r.updateMapUrl(u,p)}catch(e){console.error(" 数据源加载错误 "+u)}}}}),(function(){throw new Error("Failed to load Style")}))},e.prototype.fullExtent=function(){var e=this.mapParam.fullExtent;e&&this.flyTo(e)},e.prototype.MiniMap=function(e){if(!this.MiniMapObj){var t={toggleDisplay:!0,position:e?e.position.split("-").join(""):"bottomleft"},o=new L.TileLayer(this.url_miniMap,{minZoom:0,maxZoom:15,attribution:"Map data &copy; OpenStreetMap contributors"});this.MiniMapObj=new L.Control.MiniMap(o,t).addTo(this.amap)}},e.prototype.getExtent=function(){var e=this.amap.getBounds();return{xmin:e._southWest.lng,ymin:e._southWest.lat,xmax:e._northEast.lng,ymax:e._northEast.lat}},e.prototype.addControl=function(e,t){if(this.amap)switch(e){case"Zoomslider":this.ZoomSliderControl=L.control.zoom(t),this.amap.addControl(this.ZoomSliderControl);break;case"AttributionControl":this.AttributionControl=L.control.attribution(t),this.amap.addControl(this.OverviewMapControl);break;case"Geolocate":this.GeolocationControl=L.Control.getPosition(),this.amap.addControl(this.GeolocationControl);break;case"flyToPoint":this.flyToPoint=this.amap.flyTo([t[1],t[0]]);break;case"Scale":this.ScaleLineControl=L.control.scale(t),this.amap.addControl(this.ScaleLineControl);break;case n.MapConstants.ControlTypes.MiniMap:this.MiniMap(t);break;case"MousePosition":L.control.mousePosition().addTo(this.amap);break;case n.MapConstants.ControlTypes.FullScreen:this.FullScreenControl||(this.FullScreenControl=new L.Control.Fullscreen,this.amap.addControl(this.FullScreenControl));break;case"Draw":this.DrawControl=L.Draw,this.amap.addControl(this.DrawControl);break;case"Navigation":this.NavigationBar||(this.NavigationBar=L.control.zoom({position:t&&t.position?t.position.split("-").join(""):"topright"}).addTo(this.amap))}},e.prototype.removeControl=function(e){if(this.amap)switch(e){case"Zoomslider":this.ZoomSliderControl&&this.amap.removeControl(this.ZoomSliderControl),this.ZoomSliderControl=null;break;case n.MapConstants.ControlTypes.MiniMap:this.MiniMapObj&&(this.MiniMapObj.remove(),this.MiniMapObj=null);break;case"MousePosition":this.MousePositionControl&&this.amap.removeControl(this.MousePositionControl),this.MousePositionControl=null;break;case n.MapConstants.ControlTypes.Navigation:this.NavigationBar&&(this.NavigationBar.remove(),this.NavigationBar=null);break;case"Geolocate":this.GeolocationControl&&this.amap.removeControl(this.GeolocationControl),this.GeolocationControl=null;break;case"AttributionControl":this.AttributionControl&&this.amap.removeControl(this.AttributionControl),this.AttributionControl=null;break;case"Scale":this.ScaleLineControl&&this.amap.removeControl(this.ScaleLineControl),this.ScaleLineControl=null;break;case n.MapConstants.ControlTypes.FullScreen:this.FullScreenControl&&(this.FullScreenControl.remove(),this.FullScreenControl=null);break;case"Rotate":this.RotateControl&&this.amap.removeControl(this.RotateControl),this.RotateControl=null;break;case"Draw":this.DrawControl&&this.amap.removeControl(this.DrawControl),this.DrawControl=null}},e.prototype.on=function(e,t,o){this.amap.on(e,t)},e.prototype.un=function(e,t,o){this.amap.un(e,t)},e.prototype.getZoom=function(){return this.amap.getZoom()},e.prototype.getCenter=function(){var e=this.amap.getCenter();return[e.lng,e.lat]},e.prototype.getMap=function(){return this.amap},e.prototype.exportPng=function(e){var t=this;this.amap.whenReady((function(o){var r=L.simpleMapScreenshoter({hidden:!0}).addTo(t.amap),n=e||"screen";r.takeScreen("blob",{caption:function(){return""}}).then((function(e){saveAs(e,n+".png")})).catch((function(e){}))}))},e.prototype.exportPdf=function(e,t){throw new Error("can not support export pdf")},e.prototype.flyTo=function(e){this.amap.flyToBounds([[e.ymin,e.xmin],[e.ymax,e.xmax]])},e.prototype.fitBounds=function(e,t){this.amap.fitBounds([[e.ymin,e.xmin],[e.ymax,e.xmax]],t)},e.prototype.easeTo=function(e){var t={animate:!0,duration:e.speed};this.amap.panTo([e.center[1],e.center[0]],t)},e.prototype.zoomToPoint=function(e,t,o){o=o||this.amap.getZoom(),this.amap.setView([t,e],o,{animate:!0})},e.prototype.zoomToLevel=function(e,t,o){var r=null;r=t&&o?[o,t]:this.amap.getCenter(),this.amap.setView(r,e,{animate:!0})},e.prototype.zoomToExtent=function(e){this.amap.fitBounds([[e[1],e[0]],[e[3],e[2]]])},e.prototype.setEdgeAutoExtend=function(e){},e.prototype.addSource=function(e,t){if(""==e)return null;this.SourcesCache.length>0&&this.SourcesCache.forEach((function(t){if(t.id==e)throw new Error("souece ID: "+e+"已存在")}));var o=new a.LeafletSource(e,t,this);return this.SourcesCache.push({id:e,sourcePara:t}),o},e.prototype.addLayer=function(e,t,o){if(""==e)return null;this.LayersCache&&this.LayersCache.length>0&&this.LayersCache.forEach((function(t){if(t.id==e)throw new Error("Layer ID: "+e+"已添加")}));var r,n=o,i=this.SourcesCache.find((function(e){return e.id==t}));if(null==i)throw new Error("Source : "+t+"不存在");r=i.sourcePara.serverType?this.getLayerByServerEngin(i.sourcePara):this.getLayerByDataType(i.sourcePara,n);try{r.addTo(this.amap)}catch(e){this.amap.removeLayer(r)}var a=new s.LeafletLayer(this.amap,e,r,i,t);return this.LayersCache?this.LayersCache.push({id:e,layer:r,style:""}):this.LayersCache=[{id:e,layer:r,style:""}],"geojson"==i.sourcePara.type&&this.addSourceLayer(t,e,r,n),a},e.prototype.getSouce=function(e){throw new Error("Method not implemented.")},e.prototype.getLayer=function(e){throw new Error("Method not implemented.")},e.prototype.getLayers=function(e){throw new Error("Method not implemented.")},e.prototype.getLayerByServerEngin=function(e){var t;switch(e.serverType||""){case c.ServerTypeEnum.ARC_WMS:t=u.LeafletArcLayer.WMS(e);break;case c.ServerTypeEnum.ARC_WFS:t=u.LeafletArcLayer.WFS(e);break;case c.ServerTypeEnum.GEO_WMS:t=l.LeafletGeoLayer.WMS(e);break;default:throw new Error("Unsupported source  engine: "+e.serverType)}return t},e.prototype.getLayerByDataType=function(e,t){var o,r=t;switch(e.type){case"raster":o=i.LeafletSourceUtil.setupRasterLayer(e);break;case"geojson":o=i.LeafletSourceUtil.setupGeoJSONLayer(e,r);break;default:throw new Error("Unsupported souece type: "+e.type)}return o},e.prototype.getSourceLayer=function(){return this.sourceLayer},e.prototype.removeSourceLayerById=function(e){for(var t=0;t<this.sourceLayer.length;t++){var o=this.sourceLayer[t];if(e==o.sourceId)return this.sourceLayer.splice(t,1),o}return null},e.prototype.addSourceLayer=function(e,t,o,r){this.sourceLayer?this.sourceLayer.push({sourceId:e,layerId:t,layer:o,style:r}):this.sourceLayer=[{sourceId:e,layerId:t,layer:o,style:r}]},e.prototype.updateSourceOfLayer=function(e){var t=this.removeSourceLayerById(e.id);if(null!=t){this.amap.removeLayer(t.layer);var o=this.getLayerByDataType(e.source,t.style);this.addSourceLayer(t.sourceId,t.layerId,o,t.style),this.amap.addLayer(o)}},e}();t.LeafletMap=h},"1sVV":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletSourceUtil=void 0;var r=function(){function e(){}return e.setupRasterLayer=function(e){var t=e.url;return L.tileLayer(t,{attribution:null,opacity:1})},e.setupGeoJSONLayer=function(t,o){var r;return t.url?r=new L.TileLayer.GeoJSON(t.url):t.data&&(r=L.geoJSON(t.data,{onEachFeature:function(e,t){e.properties&&e.properties.htmlIndex&&t.bindPopup(e.properties.htmlIndex+"")},style:function(){if("line"==o.type||"fill"==o.type)return{color:o.paint["line-color"]||o.paint["fill-outline-color"],lineJoin:o.paint["line-join"],lineCap:o.paint["line-cap"],lineColor:o.paint["line-color"],width:o.paint["line-width"],fill:"fill"===o.type,fillColor:o.paint["fill-color"],fillOpacity:o.paint["fill-opacity"]}},pointToLayer:function(t,r){return"symbol"==o.type?L.marker(r,{icon:e.iconExtend(t,o)}):L.circleMarker(r,{radius:3*o.paint["circle-radius"].base||5,stroke:!1,color:"red",fill:!0,fillColor:o.paint["circle-color"],fillOpacity:o.paint["circle-opacity"]})}})),r},e.iconExtend=function(e,t){var o=document.createElement("div");return o.className="text-marker",o.innerHTML=e.properties.title,o.style.width="32px",o.style.height="32px",o.style.borderRadius="50%",o.style.cursor="pointer",o.style.color=t.paint["text-color"],new(L.Icon.extend({createIcon:function(){return o}}))},e}();t.LeafletSourceUtil=r},ATed:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletSource=void 0;var r=function(){function e(e,t,o){this.id=e,this.source=t,this.map=o}return e.prototype.getId=function(){return this.id},e.prototype.getType=function(){return this.source.type},e.prototype.getUrl=function(){return this.source.tiles},e.prototype.setData=function(e){this.source.data=e,this.map.updateSourceOfLayer(this)},e}();t.LeafletSource=r},Bams:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerTypeEnum=void 0,function(e){e.ARC_WMS="11",e.ARC_WMTS="12",e.ARC_WFS="13",e.ARC_TMS="14",e.GEO_WMS="21",e.GEO_WMTS="22",e.GEO_WFS="23",e.GEO_TMS="24",e.SUP_WMS="31",e.SUP_WMTS="32",e.SUP_WFS="33",e.SUP_TMS="34",e.MINE_WMTS="40"}(t.ServerTypeEnum||(t.ServerTypeEnum={}))},C78t:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletPopupManage=void 0;var r=o("ClEM"),n=o("irmm"),i=function(){function e(e){this.popups=[],this.map=e}return e.prototype.addTextPopup=function(e,t,o,i){(i=i||new r.PopupParas).id=e,i.offset=new L.point(0,0);var a=L.popup(i);a.setLatLng([t[1],t[0]]).setContent(o).addTo(this.map.getMap()),i.closeEvent&&a.on("close",i.closeEvent),i.openEvent&&a.on("open",i.closeEvent);var s=new n.LeafletPopup(this.map,e,a);return this.popups.push(s),s},e.prototype.addHtmlPopup=function(e,t,o,i){(i=i||new r.PopupParas).id=e,i.offset=new L.point(0,0);var a=L.popup(i);a.setLatLng([t[1],t[0]]).setContent(o).addTo(this.map.getMap()),i.closeEvent&&a.on("close",i.closeEvent),i.openEvent&&a.on("open",i.closeEvent);var s=new n.LeafletPopup(this.map,e,a);return this.popups.push(s),s},e.prototype.addDomPopup=function(e,t,o,i){(i=i||new r.PopupParas).id=e,i.offset=new L.point(0,0);var a=L.popup(i);a.setLatLng([t[1],t[0]]).setContent(o).addTo(this.map.getMap()),i.closeEvent&&a.on("close",i.closeEvent),i.openEvent&&a.on("open",i.closeEvent);var s=new n.LeafletPopup(this.map,e,a);return this.popups.push(s),s},e.prototype.removeAll=function(){for(var e=0;e<this.popups.length;e++){var t=this.popups[e];t&&t.remove()}this.popups=[]},e}();t.LeafletPopupManage=i},ClEM:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupParas=void 0;var r=function(){this.closeButton=!0,this.closeOnClick=!0,this.anchor="bottom",this.offset=[0,0],this.className="",this.maxWidth="240px",this.closeEvent=null,this.openEvent=null,this.popupID=""};t.PopupParas=r},HUdc:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerParas=void 0;var r=function(){this.element=null,this.anchor="bottom",this.offset=[0,0],this.color="#3FB1CE",this.draggable=!1,this.dragstartEvent=null,this.dragendEvent=null,this.clickEvent=null};t.MarkerParas=r},Jp0D:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletDraw=void 0;var r=o("iHm6"),n=function(){function e(e){this.layers=[],this.curMode=null,this.map=e}return e.prototype.start=function(e,t){var o=this;switch(this.Draw||(this.Draw=L.Draw),e){case"point":this.marker||(this.marker=new this.Draw.Marker(this.map.getMap())),this.marker.enable();break;case"line":this.polygonLine||(this.polygonLine=new this.Draw.Polyline(this.map.getMap())),this.polygonLine.enable();break;case"polygon":this.polygon||(this.polygon=new this.Draw.Polygon(this.map.getMap())),this.polygon.enable()}this.map.getMap().off("draw:created").on("draw:created",(function(e){var t=e.layer;t.addTo(o.map.getMap()),o.layers.push(t),o.geoJson=e.layer.toGeoJSON()})),this.map.getMap().off("draw:drawstop").on("draw:drawstop",(function(e){t&&t(o.geoJson)}))},e.prototype.edit=function(e,t){var o=this;if(e){var n=null;if(e.geometry.type===r.Constants.geojsonTypes.POINT){var i=e.geometry.coordinates;n=L.marker([i[1],i[0]],{})}else if(e.geometry.type===r.Constants.geojsonTypes.LINE_STRING){i=e.geometry.coordinates;for(var a=[],s=0;s<i.length;s++)a.push([i[s][1],i[s][0]]);n=new L.Polyline(a)}else{if(e.geometry.type!==r.Constants.geojsonTypes.POLYGON)throw new Error("不支持MULTI_空间类型！");i=e.geometry.coordinates[0];var p=[];for(s=0;s<i.length;s++)p.push([i[s][1],i[s][0]]);n=new L.Polygon([p])}n&&(this.layers.push(n),this.map.getMap().addLayer(n),n.editing.enable(),this.map.getMap().off("draw:editvertex").on("draw:editvertex",(function(e){o.geoJson=n.toGeoJSON(),t&&t(o.geoJson)})),this.map.getMap().off("draw:editmove").on("draw:editmove",(function(e){o.geoJson=n.toGeoJSON(),t&&t(o.geoJson)})))}},e.prototype.addPoint=function(e,t){this.polygon._enabled?this.polygon.addVertex([t,e]):this.polygonLine&&this.polygonLine.addVertex([t,e])},e.prototype.delPoint=function(){this.polygon&&this.polygon._enabled&&this.polygon.deleteLastVertex(),this.polygonLine&&this.polygonLine._enabled&&this.polygonLine.deleteLastVertex()},e.prototype.end=function(){this.polygon&&this.polygon._enabled&&this.polygon.completeShape(),this.polygonLine&&this.polygonLine._enabled&&this.polygonLine.completeShape();for(var e=0,t=this.layers.length;e<t;e++)this.layers[e].editing.disable()},e.prototype.clear=function(){for(var e=0;e<this.layers.length;e++)this.map.getMap().removeLayer(this.layers[e])},e.prototype.hasGeometry=function(){return!(!this.polygon._enabled&&!this.polygonLine._enabled)},e.prototype.getDarwing=function(){return!(!this.polygon._enabled&&!this.polygonLine._enabled)},e.prototype.getGeometry=function(){return this.geoJson},e.prototype.getLayer=function(){return this.layers[this.layers.length-1]},e}();t.LeafletDraw=n},UpkK:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleLoadService=void 0;var r=function(){function e(){}return e.loadStyle=function(e,t,o){map.Http.get(e,(function(e){t&&t(e)}),(function(e){o&&o(e)}))},e.loadFMMapStyle=function(e,t,o){var r=this,n=e.split("/");map.Config.solution=n[n.length-1],map.Http.post(e,{browser:"1",terminal:"1",memory:1024,kernel:"mapbox"},(function(e){if(e.code)o&&o(e);else try{var n=r.parseFmMapStyle(e);t&&t(n)}catch(e){o&&o(e)}}),(function(e){o&&o(e)}))},e.mergeStyle=function(e,t){if(e){if(!t)return e;for(var o in e.sources||(e.sources={}),t.sources||(t.sources={}),t.sources)e.sources[o]=t.sources[o];return e.layers||(e.layers=[]),t.layers||(t.layers=[]),t.layers.forEach((function(t){e.layers.push(t)})),e}},e.parseFmMapStyle=function(e){var t=this,o=function(o){var n=e.sources[o].tiles;if(null!=n&&n.length>0){var i=[];n.forEach((function(e){if(null!=e){var o=t.makeFmSourceURL(e);i.push(o)}})),e.sources[o].tiles=i}var a=e.sources[o].url;if(null!=a){var s=r.makeFmSourceURL(a);e.sources[o].url=s}var p=e.sources[o].data;if(null!=p){var l=r.makeFmSourceURL(p);e.sources[o].data=l}},r=this;for(var n in e.sources)o(n);var i=this.normalizeFmSpriteURL(e.sprite),a=e.layers.concat([]),s=this.normalizeFmGlyphsURL(e.glyphs,"");return e={version:8,sprite:i,glyphs:s,sources:e.sources,layers:a}},e.makeFmSourceURL=function(e){return e.startsWith("fmdata://")?e.replace("fmdata://",map.Config.dataUrl):e},e.normalizeFmSpriteURL=function(e){if(!this.isFmMapURL(e)||!map.Config.BaseUrl)return e;var t=this.parseUrl(e);return map.Config.BaseUrl+"sprite/"+t.authority+t.path},e.normalizeFmGlyphsURL=function(e,t){if(!this.isFmMapURL(e)||!map.Config.BaseUrl)return e;var o=this.parseUrl(e);return map.Config.BaseUrl+"fonts/{fontstack}"+o.path.substr(o.path.lastIndexOf("/"))+".pbf"},e.isFmMapURL=function(e){return 0===e.indexOf("fmmap://")||0===e.indexOf("fm://")},e.loadMineMapStyle=function(e,t,o){var r=this,n=e.split("/"),i=map.Config.solution=n[n.length-1],a=map.Config.adapterStyleIDS;if(a.length>0&&a.indexOf(i)>-1||map.Config.openAdapter){var s=this.getMapType();""!==s&&(e+="/"+s)}this.loadStyle(e,(function(e){if(e.errcode)o&&o(e);else try{var n=r.parseMineMapStyle(e);t&&t(n)}catch(e){o&&o(e)}}))},e.getMapType=function(){var e="",t=navigator.userAgent.toLowerCase();if(t.indexOf("msie")>0)return e="l";if(t.indexOf("trident")>0){var o=t.match(/trident\/[\d.]+/gi)[0].split("/");switch(o[0]+" "+o[1]){case"trident 4.0":case"trident 5.0":case"trident 6.0":return e="l"}if(window.ActiveXObject||"ActiveXObject"in window)try{var r=new ActiveXObject("WbemScripting.SWbemLocator").ConnectServer("."),n=this.cpuInfo(r),i=this.raminfo(r);e=n<=4&&i<=4096?"l":n<=4&&i>4096&&i<16384?"m":n>=4&&i>=16384?"h":"l"}catch(e){console.log("未启用ActiveXObject")}return e}var a=window.navigator,s=0,p=0;return a.deviceMemory&&(s=a.deviceMemory),a.hardwareConcurrency&&(p=a.hardwareConcurrency),e=p<=4&&s<=4?"l":p<=4&&s>4&&s<16?"m":p>=8&&s>=16?"h":"l"},e.cpuInfo=function(e){for(var t=e.ExecQuery("SELECT * FROM Win32_Processor"),o=new Enumerator(t),r=0;!o.atEnd();o.moveNext()){r=o.item().NumberOfCores}return r},e.raminfo=function(e){for(var t=new Enumerator(e.ExecQuery("SELECT * FROM Win32_PhysicalMemory")),o=[],r=0;!t.atEnd();t.moveNext())o[r++]={cap:t.item().Capacity/1024/1024,speed:t.item().Speed};for(var n=0,i=0;i<o.length;i++)n+=o[i].cap;return console.log(n),n},e.parseMineMapStyle=function(e){var t=[];for(var o in e.sources){var r=e.sources[o].tiles[0];if(this.isMinemapURL(r)){var n=this.parseTile(r);if(!n)continue;var i=this.makeMineSourceURL(n,map.Config.MineAccessToken,map.Config.solution);t.push({id:o,url:i,type:e.sources[o].type,tileSize:e.sources[o].tileSize,scheme:e.sources[o].scheme})}else t.push({id:o,url:r,type:e.sources[o].type,tileSize:e.sources[o].tileSize,scheme:e.sources[o].scheme})}for(var a=this.normalizeMineSpriteURL(e.sprite,"","",""),s={},p=0;p<t.length;p++)s[t[p].id]={type:t[p].type,tiles:[t[p].url]},t[p].tileSize&&(s[t[p].id].tileSize=t[p].tileSize),t[p].scheme&&(s[t[p].id].scheme=t[p].scheme);var l=e.layers.concat([]);for(p=0;p<l.length;p++){if(l[p].filter)for(var u=l[p].filter,c=0;c<u.length;c++)Array.isArray(u[c])&&("!arrin"===u[c][0]&&(u[c][0]="!in"),"arrin"===u[c][0]&&(u[c][0]="in"));"extrusion"===l[p].type&&(l[p]=JSON.parse(JSON.stringify(l[p]).replace(/extrusion/g,"fill-extrusion"))),"sprite"!==l[p].type&&"histogram"!==l[p].type&&"airline"!==l[p].type||(l.splice(p,1),p--),l[p].paint&&("fill-water"in l[p].paint&&delete l[p].paint["fill-water"],"line-border-color"in l[p].paint&&delete l[p].paint["line-border-color"],"line-border-width"in l[p].paint&&delete l[p].paint["line-border-width"],"line-border-opacity"in l[p].paint&&delete l[p].paint["line-border-opacity"]),l[p].layout&&"border-visibility"in l[p].layout&&delete l[p].layout["border-visibility"]}return e={version:8,sprite:a,glyphs:this.normalizeMineGlyphsURL(e.glyphs,""),sources:s,layers:l}},e.makeMineSourceURL=function(e,t,o,r){switch(e.protocol){case"minemap":var n=this.parseUrl(map.Config.SRC_URL);e.protocol=n.protocol,e.authority=n.authority;break;case"minemapdata":var i=this.parseUrl(map.Config.API_URL);e.path=i.path+e.authority+e.path,e.protocol=i.protocol,e.authority=i.authority;break;case"minemapdatad":var a=this.parseUrl(map.Config.DYN_URL);e.path=a.path+e.authority+e.path,e.protocol=a.protocol,e.authority=a.authority;break;case"minemapdatam":var s=this.parseUrl(map.Config.MERGE_URL);e.path=s.path+e.authority+e.path,e.protocol=s.protocol,e.authority=s.authority;break;case"minemapdatao":var p=this.parseUrl(map.Config.OTHER_URL);e.path=p.path+e.authority+e.path,e.protocol=p.protocol,e.authority=p.authority}if(!map.Config.REQUIRE_ACCESS_TOKEN)return this.formatUrl(e);if(t=t||map.Config.MineAccessToken,o=o||map.Config.solution,r=r||map.Config.DATA_VERSION,!t)throw new Error("需要申请accessToken. ");return e.params.push("token="+t),e.params.push("solu="+o),r&&e.params.push("version="+r),this.formatUrl(e)},e.isMinemapURL=function(e){return 0===e.indexOf("minemap:")||0===e.indexOf("minemapdata:")||0===e.indexOf("minemapdatad:")||0===e.indexOf("minemapdatam:")||0===e.indexOf("minemapdatao:")},e.normalizeMineSpriteURL=function(e,t,o,r){if(!this.isMinemapURL(e)&&!map.Config.spriteUrl)return e+""+t+o;var n=this.parseUrl(e);return n.path=map.Config.SRC_URL+"sprite/sprite"+t+o,map.Config.spriteUrl&&map.Config.spriteUrl+""+t+o||n.path},e.normalizeMineGlyphsURL=function(e,t){if(!this.isMinemapURL(e)&&!map.Config.fontsUrl)return e;var o=this.parseUrl(e);return map.Config.fontsUrl&&map.Config.fontsUrl+"/{fontstack}"+o.path.substr(o.path.lastIndexOf("/"))+".pbf"||map.Config.SRC_URL+"fonts/{fontstack}"+o.path.substr(o.path.lastIndexOf("/"))+".pbf"},e.parseUrl=function(e){var t=e.match(/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/);if(!t){var o=e.match(/^\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/);if(!o)throw new Error("Unable to parse URL object");return{protocol:"",authority:o[1],path:o[2]||"/",params:o[3]?o[3].split("&"):[]}}return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}},e.formatUrl=function(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol&&e.protocol.length>0?e.protocol+"://"+e.authority+e.path+t:window.document.location.protocol+"//"+e.authority+e.path+t},e.parseTile=function(e){if(!e)return e;if(!this.isMinemapURL(e))return e;var t=e.split(":");if(t.length<2)return e;for(var o=t[1].split("/"),r="",n=2;n<o.length;n++)r+="/"+o[n];return{protocol:t[0],path:r,authority:o[1],params:[]}},e}();t.StyleLoadService=r},VTAO:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletMarker=void 0;var r=function(){function e(e,t,o){this.pmap=e,this.leafletMarker=o,this.id=t,this.popup=null,this.leafletPopupManage=map.Container.get("popup")}return e.prototype.getLngLat=function(){return[this.leafletMarker.getLatLng().lng,this.leafletMarker.getLatLng().lat]},e.prototype.updateElement=function(e){e.style.position="relative";var t=L.Icon.extend({createIcon:function(){return e}});this.leafletMarker.setIcon(new t)},e.prototype.update=function(e){this.leafletMarker.setLatLng([e[1],e[0]]),this.popup&&this.popup.update(e)},e.prototype.addTextPopup=function(e,t){var o;return null!=this.popup&&this.popup.remove(),t&&t.closeEvent&&this.leafletMarker.on("popupclose",t.closeEvent),t&&t.openEvent&&this.leafletMarker.on("popupopen",t.openEvent),o=t&&t.popupID?t.popupID:this.id+"popup",this.popup=this.leafletPopupManage.addTextPopup(o,[this.leafletMarker.getLatLng().lng,this.leafletMarker.getLatLng().lat],e,t),this.leafletMarker.bindPopup(this.popup.getLeafletPopup()),this.popup},e.prototype.addHtmlPopup=function(e,t){var o;return null!=this.popup&&this.popup.remove(),t&&t.offset?t.offset:[0,0],t&&t.closeEvent&&this.leafletMarker.on("popupclose",t.closeEvent),t&&t.openEvent&&this.leafletMarker.on("popupopen",t.openEvent),o=t&&t.popupID?t.popupID:this.id+"popup",this.popup=this.leafletPopupManage.addHtmlPopup(o,[this.leafletMarker.getLatLng().lng,this.leafletMarker.getLatLng().lat],e,t),this.leafletMarker.bindPopup(this.popup.getLeafletPopup()),this.popup},e.prototype.addDomPopup=function(e,t){var o;return null!=this.popup&&this.popup.remove(),t&&t.offset?t.offset:[0,0],t&&t.closeEvent&&this.leafletMarker.on("popupclose",t.closeEvent),t&&t.openEvent&&this.leafletMarker.on("popupopen",t.openEvent),o=t&&t.popupID?t.popupID:this.id+"popup",this.popup=this.leafletPopupManage.addDomPopup(o,[this.leafletMarker.getLatLng().lng,this.leafletMarker.getLatLng().lat],e,t),this.leafletMarker.bindPopup(this.popup.getLeafletPopup()),this.popup},e.prototype.getPopup=function(){return this.popup},e.prototype.togglePopup=function(){this.leafletMarker.togglePopup()},e.prototype.getElement=function(){return this.leafletMarker.getElement()},e.prototype.remove=function(){this.leafletMarker.remove(),this.removePopup()},e.prototype.removePopup=function(){this.popup&&this.popup.remove()},e}();t.LeafletMarker=r},eDQc:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapConstants=void 0;var r=function(){function e(){}return e.ControlTypes={Navigation:"Navigation",Scale:"Scale",Geolocate:"Geolocate",FullScreen:"FullScreen",MiniMap:"MiniMap"},e.EventTypes={click:"click",dblclick:"dblclick",movestart:"movestart",moveend:"moveend",zoomstart:"zoomstart",zoomend:"zoomend"},e}();t.MapConstants=r},fyfL:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletGeoLayer=void 0;var r=function(){function e(){}return e.WMS=function(e){var t=e.tiles&&e.tiles.length>0?e.tiles[0]:e.url;return L.tileLayer.wms(t,{layers:e.layerName,format:"image/png",transparent:!0,attribution:e.attribution||""})},e.WMTS=function(e){var t=e.url+"?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER="+e.layerName+"&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=image/png&TILECOL={x}&TILEROW={y}";return L.tileLayer(t)},e.TMS=function(e){var t=e.tiles&&e.tiles.length>0?e.tiles[0]:e.url;return t=t+"/1.0.0/"+e.layerName+"/tileset/@png/{z}/{x}/{y}.png",L.tileLayer(t,{tms:!0})},e}();t.LeafletGeoLayer=r},i6uh:function(e,t){},iHm6:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Constants=void 0;var r=function(){function e(){}return e.geojsonTypes={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},e.meta={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},e.LAT_MIN=-90,e.LAT_RENDERED_MIN=-85,e.LAT_MAX=90,e.LAT_RENDERED_MAX=85,e.LNG_MIN=-270,e.LNG_MAX=270,e}();t.Constants=r},irmm:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletPopup=void 0;var r=function(){function e(e,t,o){this.map=e,this.leafletPopup=o,this.id=t}return e.prototype.updateContentByText=function(e){this.leafletPopup.setContent(e)},e.prototype.updateContentByHtml=function(e){this.leafletPopup.setContent(e)},e.prototype.updateContentByDom=function(e){this.leafletPopup.setContent(e)},e.prototype.getLeafletPopup=function(){return this.leafletPopup},e.prototype.remove=function(){this.leafletPopup.remove()},e.prototype.update=function(e){this.leafletPopup.setLatLng([e[1],e[0]])},e.prototype.isOpen=function(){return this.leafletPopup.isOpen()},e}();t.LeafletPopup=r},my7c:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletMeasure=void 0;var r=function(){function e(e){this.points=[],this.measureType="",this.layers=L.layerGroup(),this.polygon=[],this.map=e}return e.prototype.lineMeasure=function(){this.measureType="line",this.init()},e.prototype.areaMeasure=function(){this.measureType="area",this.init()},e.prototype.clear=function(){this.remove()},e.prototype.init=function(){var e=this;this.points=[],this.polygon=[],this.map.getMap().on("click",(function(t){e.click(t)})).on("dblclick",(function(t){e.dblclick(t)}))},e.prototype.click=function(e){var t=this;if(this.map.getMap().doubleClickZoom.disable(),this.points.push(e.latlng),this.points.length>1&&"line"==this.measureType)return this.dblclick(e),!1;this.map.getMap().on("mousemove",(function(e){t.mousemove(e)}))},e.prototype.mousemove=function(e){this.points.push(e.latlng),this.polygon&&this.map.getMap().removeLayer(this.polygon),this.polygon=L.polygon(this.points,{showMeasurements:!0,color:"red"}),this.polygon.addTo(this.layers),this.layers.addTo(this.map.getMap()),this.points.pop()},e.prototype.dblclick=function(e){this.map.getMap().off("click").off("mousemove").off("dblclick")},e.prototype.remove=function(){this.layers.remove(),this.polygon.remove&&this.polygon.remove(),this.points=[],this.polygon=[],this.layers._layers={}},e}();t.LeafletMeasure=r},nC61:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapParas=void 0;var r=function(){this.projection="EPSG:4326",this.zoom=10,this.maxZoom=24,this.minZoom=1,this.center=[113.26388,23.12946],this.style="mapbox://styles/mapbox/outdoors-v10",this.fullExtent=null,this.preserveDrawingBuffer=!0,this.strategy=["mapboxgl","openlayers","leaflet","cesium"],this.controls=["Scale","Navigation"],this.zoomControl=!1,this.doubleTouch=!1};t.MapParas=r},qP0P:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletRender=void 0;var r=function(){function e(e){this.highlightSourceId="highlightF",this.Highlight_Point="Highlight_Point",this.Highlight_Line="Highlight_Line",this.Highlight_Polygon="Highlight_Polygon",this.HighlightLayer="",this.highlightData="",this.map=e}return e.prototype.highlight=function(e,t){e&&(this.highlightData=e,this.addHighlightLayerByType(e.geometry.type,t))},e.prototype.clearHighlight=function(e){this.map.getMap().getSource(this.highlightSourceId)&&this.map.getMap().getSource(this.highlightSourceId).setData({type:"FeatureCollection",features:[]}),this.map.getMap().getLayer(this.Highlight_Point)&&this.map.getMap().removeLayer(this.Highlight_Point),this.map.getMap().getLayer(this.Highlight_Line)&&this.map.getMap().removeLayer(this.Highlight_Line),this.map.getMap().getLayer(this.Highlight_Polygon)&&this.map.getMap().removeLayer(this.Highlight_Polygon)},e.prototype.clear=function(){this.HighlightLayer&&this.HighlightLayer.remove()},e.prototype.addHighlightLayerByType=function(e,t){switch(e){case"Point":case"MultiPoint":this.addHighlightPointLayer(t);break;case"LineString":case"MultiLineString":this.addHighlightLineLayer(t);break;case"Polygon":case"MultiPolygon":this.addHighlightPolygonLayer(t)}},e.prototype.addHighlightPointLayer=function(e){var t;t=e&&e.style?{radius:e.style.radius||4,fillColor:e.style.fillColor||"#ff7800",color:e.style.radius||"#ff0000",weight:e.style.radius||1,opacity:e.style.radius||1,fillOpacity:e.style.fillOpacity||.8}:{radius:4,fillColor:"#ff7800",color:"#ff0000",weight:1,opacity:1,fillOpacity:.8},this.addLayer(t)},e.prototype.addHighlightLineLayer=function(e){var t;t=e&&e.style?{color:e.style.radius||"#ff0000",weight:e.style.radius||1,opacity:e.style.radius||1}:{color:"#ff0000",weight:1,opacity:1},this.addLayer(t)},e.prototype.addHighlightPolygonLayer=function(e){var t;t=e&&e.style?{color:e.style.radius||"#ff0000"}:{color:"#ff0000"},this.addLayer(t)},e.prototype.addLayer=function(e){this.HighlightLayer&&this.clear(),this.HighlightLayer=L.geoJSON(this.highlightData,{style:e}),this.HighlightLayer.addTo(this.map.getMap())},e}();t.LeafletRender=r},tTEv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletArcLayer=void 0;var r=function(){function e(){}return e.WMS=function(e){var t=e.tiles&&e.tiles.length>0?e.tiles[0]:e.url;return L.tileLayer.wms(t,{format:"image/png",transparent:!0,layers:e.layerName,attribution:e.attribution||""})},e.WFS=function(e){var t=e.url;return L.esri.featureLayer({url:t})},e.TMS=function(e){var t=e.tiles&&e.tiles.length>0?e.tiles[0]:e.url;return L.tileLayer(t+"/1.0.0/"+e.layerName+"/tileset/@png/{z}/{x}/{y}.png",{tms:!0})},e}();t.LeafletArcLayer=r},zlaT:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafletLayer=void 0;var r=function(){function e(e,t,o,r,n){this.amap=e,this.layerId=t,this.layer=o,this.type=r.sourcePara.type,this.group="",this.sourceId=n}return e.prototype.getType=function(){return this.type},e.prototype.getId=function(){return this.layerId},e.prototype.setPaintProperty=function(e,t){throw new Error("Method not implemented.")},e.prototype.setLayoutProperty=function(e,t){throw new Error("Method not implemented.")},e.prototype.setFilter=function(e){throw new Error("Method not implemented.")},e.prototype.setStyle=function(e){this.amap.getLayer(this.layerId).setStyle(e)},e.prototype.getStyle=function(){return this.amap.getLayer(this.layerId).getStyle()},e.prototype.getFilter=function(){return this.amap.getLayer(this.layerId).getFilter()},e.prototype.setVisible=function(e){var t=this.amap.getLayer(this.layerId);e&&t?this.amap.addLayer(t):t||this.amap.removeLayer(t)},e.prototype.setGroup=function(e){this.group=e,this.amap.getLayer(this.layerId).groupEx(e)},e.prototype.getGroup=function(){return this.group},e.prototype.setIndex=function(e){throw new Error("Method not implemented.")},e.prototype.getIndex=function(){throw new Error("Method not implemented.")},e.prototype.groupEx=function(e){return new L.layer.extent({group:e})},e}();t.LeafletLayer=r}})}));