!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.olmap=e():t.olmap=e()}(window,(function(){return function(t){var e=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(t,r){!function(t,e){if(!b[t]||!M[t])return;for(var r in M[t]=!1,e)Object.prototype.hasOwnProperty.call(e,r)&&(d[r]=e[r]);0==--y&&0===v&&S()}(t,r),e&&e(t,r)};var r,o=!0,n="c2e198bf77ed96839d8a",i={},a=[],s=[];function u(t){var e=k[t];if(!e)return L;var o=function(o){return e.hot.active?(k[o]?-1===k[o].parents.indexOf(t)&&k[o].parents.push(t):(a=[t],r=o),-1===e.children.indexOf(o)&&e.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+t),a=[]),L(o)},n=function(t){return{configurable:!0,enumerable:!0,get:function(){return L[t]},set:function(e){L[t]=e}}};for(var i in L)Object.prototype.hasOwnProperty.call(L,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,n(i));return o.e=function(t){return"ready"===p&&h("prepare"),v++,L.e(t).then(e,(function(t){throw e(),t}));function e(){v--,"prepare"===p&&(w[t]||x(t),0===v&&0===y&&S())}},o.t=function(t,e){return 1&e&&(t=o(t)),L.t(t,-2&e)},o}function l(e){var o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(t,e){if(void 0===t)o._selfAccepted=!0;else if("function"==typeof t)o._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)o._acceptedDependencies[t[r]]=e||function(){};else o._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)o._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)o._declinedDependencies[t[e]]=!0;else o._declinedDependencies[t]=!0},dispose:function(t){o._disposeHandlers.push(t)},addDisposeHandler:function(t){o._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=o._disposeHandlers.indexOf(t);e>=0&&o._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(d={})[e]=t[e],h("ready");break;case"ready":_(e);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(e)}},check:C,apply:E,status:function(t){if(!t)return p;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:i[e]};return r=void 0,o}var c=[],p="idle";function h(t){p=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var f,d,m,g,y=0,v=0,w={},M={},b={};function P(t){return+t+""===t?+t:t}function C(t){if("idle"!==p)throw new Error("check() is only allowed in idle status");return o=t,h("check"),(e=1e4,e=e||1e4,new Promise((function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var o=new XMLHttpRequest,i=L.p+""+n+".hot-update.json";o.open("GET",i,!0),o.timeout=e,o.send(null)}catch(t){return r(t)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)t();else if(200!==o.status&&304!==o.status)r(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(o.responseText)}catch(t){return void r(t)}t(e)}}}))).then((function(t){if(!t)return h(O()?"ready":"idle"),null;M={},w={},b=t.c,m=t.h,h("prepare");var e=new Promise((function(t,e){f={resolve:t,reject:e}}));d={};return x(6),"prepare"===p&&0===v&&0===y&&S(),e}));var e}function x(t){b[t]?(M[t]=!0,y++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=L.p+""+t+"."+n+".hot-update.js",document.head.appendChild(e)}(t)):w[t]=!0}function S(){h("ready");var t=f;if(f=null,t)if(o)Promise.resolve().then((function(){return E(o)})).then((function(e){t.resolve(e)}),(function(e){t.reject(e)}));else{var e=[];for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&e.push(P(r));t.resolve(e)}}function E(e){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function e(o){var s,u,l,c,p;function f(t){for(var e=[t],r={},o=e.map((function(t){return{chain:[t],id:t}}));o.length>0;){var n=o.pop(),i=n.id,a=n.chain;if((c=k[i])&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<c.parents.length;s++){var u=c.parents[s],l=k[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===e.indexOf(u)&&(l.hot._acceptedDependencies[i]?(r[u]||(r[u]=[]),y(r[u],[i])):(delete r[u],e.push(u),o.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:r}}function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];-1===t.indexOf(o)&&t.push(o)}}O();var v={},w=[],M={},C=function(){console.warn("[HMR] unexpected require("+S.moduleId+") to disposed module")};for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)){var S;p=P(x),S=d[x]?f(p):{type:"disposed",moduleId:x};var E=!1,_=!1,T=!1,I="";switch(S.chain&&(I="\nUpdate propagation: "+S.chain.join(" -> ")),S.type){case"self-declined":o.onDeclined&&o.onDeclined(S),o.ignoreDeclined||(E=new Error("Aborted because of self decline: "+S.moduleId+I));break;case"declined":o.onDeclined&&o.onDeclined(S),o.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+S.moduleId+" in "+S.parentId+I));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(S),o.ignoreUnaccepted||(E=new Error("Aborted because "+p+" is not accepted"+I));break;case"accepted":o.onAccepted&&o.onAccepted(S),_=!0;break;case"disposed":o.onDisposed&&o.onDisposed(S),T=!0;break;default:throw new Error("Unexception type "+S.type)}if(E)return h("abort"),Promise.reject(E);if(_)for(p in M[p]=d[p],y(w,S.outdatedModules),S.outdatedDependencies)Object.prototype.hasOwnProperty.call(S.outdatedDependencies,p)&&(v[p]||(v[p]=[]),y(v[p],S.outdatedDependencies[p]));T&&(y(w,[S.moduleId]),M[p]=C)}var j,D=[];for(u=0;u<w.length;u++)p=w[u],k[p]&&k[p].hot._selfAccepted&&M[p]!==C&&!k[p].hot._selfInvalidated&&D.push({module:p,parents:k[p].parents.slice(),errorHandler:k[p].hot._selfAccepted});h("dispose"),Object.keys(b).forEach((function(t){!1===b[t]&&function(t){delete installedChunks[t]}(t)}));var A,R,F=w.slice();for(;F.length>0;)if(p=F.pop(),c=k[p]){var U={},B=c.hot._disposeHandlers;for(l=0;l<B.length;l++)(s=B[l])(U);for(i[p]=U,c.hot.active=!1,delete k[p],delete v[p],l=0;l<c.children.length;l++){var G=k[c.children[l]];G&&((j=G.parents.indexOf(p))>=0&&G.parents.splice(j,1))}}for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(c=k[p]))for(R=v[p],l=0;l<R.length;l++)A=R[l],(j=c.children.indexOf(A))>=0&&c.children.splice(j,1);h("apply"),void 0!==m&&(n=m,m=void 0);for(p in d=void 0,M)Object.prototype.hasOwnProperty.call(M,p)&&(t[p]=M[p]);var N=null;for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(c=k[p])){R=v[p];var X=[];for(u=0;u<R.length;u++)if(A=R[u],s=c.hot._acceptedDependencies[A]){if(-1!==X.indexOf(s))continue;X.push(s)}for(u=0;u<X.length;u++){s=X[u];try{s(R)}catch(t){o.onErrored&&o.onErrored({type:"accept-errored",moduleId:p,dependencyId:R[u],error:t}),o.ignoreErrored||N||(N=t)}}}for(u=0;u<D.length;u++){var Y=D[u];p=Y.module,a=Y.parents,r=p;try{L(p)}catch(t){if("function"==typeof Y.errorHandler)try{Y.errorHandler(t)}catch(e){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:e,originalError:t}),o.ignoreErrored||N||(N=e),N||(N=t)}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:p,error:t}),o.ignoreErrored||N||(N=t)}}if(N)return h("fail"),Promise.reject(N);if(g)return e(o).then((function(t){return w.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}));return h("idle"),new Promise((function(t){t(w)}))}(e=e||{})}function O(){if(g)return d||(d={}),g.forEach(_),g=void 0,!0}function _(e){Object.prototype.hasOwnProperty.call(d,e)||(d[e]=t[e])}var k={};function L(e){if(k[e])return k[e].exports;var r=k[e]={i:e,l:!1,exports:{},hot:l(e),parents:(s=a,a=[],s),children:[]};return t[e].call(r.exports,r,r.exports,u(e)),r.l=!0,r.exports}return L.m=t,L.c=k,L.d=function(t,e,r){L.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},L.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},L.t=function(t,e){if(1&e&&(t=L(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(L.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)L.d(r,o,function(e){return t[e]}.bind(null,o));return r},L.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return L.d(e,"a",e),e},L.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},L.p="",L.h=function(){return n},u("DTYU")(L.s="DTYU")}({"0/QR":function(t,e,r){t.exports=function(){"use strict";function t(t,o,n,i,a){!function t(r,o,n,i,a){for(;i>n;){if(i-n>600){var s=i-n+1,u=o-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(r,o,Math.max(n,Math.floor(o-u*c/s+p)),Math.min(i,Math.floor(o+(s-u)*c/s+p)),a)}var h=r[o],f=n,d=i;for(e(r,n,o),a(r[i],h)>0&&e(r,n,i);f<d;){for(e(r,f,d),f++,d--;a(r[f],h)<0;)f++;for(;a(r[d],h)>0;)d--}0===a(r[n],h)?e(r,n,d):e(r,++d,i),d<=o&&(n=d+1),o<=d&&(i=d-1)}}(t,o,n||0,i||t.length-1,a||r)}function e(t,e,r){var o=t[e];t[e]=t[r],t[r]=o}function r(t,e){return t<e?-1:t>e?1:0}var o=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,r){if(!r)return e.indexOf(t);for(var o=0;o<e.length;o++)if(r(t,e[o]))return o;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,o,n){n||(n=d(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var i=e;i<r;i++){var a=t.children[i];s(n,t.leaf?o(a):a)}return n}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,r,o,n,i){for(var a=[r,o];a.length;)if(!((o=a.pop())-(r=a.pop())<=n)){var s=r+Math.ceil((o-r)/n/2)*n;t(e,s,r,o,i),a.push(r,s,s,o)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(t){var e=this.data,r=[];if(!f(t,e))return r;for(var o=this.toBBox,n=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?o(a):a;f(t,s)&&(e.leaf?r.push(a):h(t,s)?this._all(a,r):n.push(a))}e=n.pop()}return r},o.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var r=[];e;){for(var o=0;o<e.children.length;o++){var n=e.children[o],i=e.leaf?this.toBBox(n):n;if(f(t,i)){if(e.leaf||h(t,i))return!0;r.push(n)}}e=r.pop()}return!1},o.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},o.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},o.prototype.clear=function(){return this.data=d([]),this},o.prototype.remove=function(t,e){if(!t)return this;for(var r,o,i,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),o=u[u.length-1],r=l.pop(),i=!0),a.leaf){var c=n(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}i||a.leaf||!h(a,s)?o?(r++,a=o.children[r],i=!1):a=null:(u.push(a),l.push(r),r=0,o=a,a=a.children[0])}return this},o.prototype.toBBox=function(t){return t},o.prototype.compareMinX=function(t,e){return t.minX-e.minX},o.prototype.compareMinY=function(t,e){return t.minY-e.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(t){return this.data=t,this},o.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},o.prototype._build=function(t,e,r,o){var n,a=r-e+1,s=this._maxEntries;if(a<=s)return i(n=d(t.slice(e,r+1)),this.toBBox),n;o||(o=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,o-1))),(n=d([])).leaf=!1,n.height=o;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));m(t,e,r,l,this.compareMinX);for(var c=e;c<=r;c+=l){var p=Math.min(c+l-1,r);m(t,c,p,u,this.compareMinY);for(var h=c;h<=p;h+=u){var f=Math.min(h+u-1,p);n.children.push(this._build(t,h,f,o-1))}}return i(n,this.toBBox),n},o.prototype._chooseSubtree=function(t,e,r,o){for(;o.push(e),!e.leaf&&o.length-1!==r;){for(var n=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),p=(h=t,f=u,(Math.max(f.maxX,h.maxX)-Math.min(f.minX,h.minX))*(Math.max(f.maxY,h.maxY)-Math.min(f.minY,h.minY))-l);p<i?(i=p,n=l<n?l:n,a=u):p===i&&l<n&&(n=l,a=u)}e=a||e.children[0]}var h,f;return e},o.prototype._insert=function(t,e,r){var o=r?t:this.toBBox(t),n=[],i=this._chooseSubtree(o,this.data,e,n);for(i.children.push(t),s(i,o);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(o,n,e)},o.prototype._split=function(t,e){var r=t[e],o=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,o);var a=this._chooseSplitIndex(r,n,o),s=d(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},o.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(t,e,r){for(var o,n,i,s,u,l,p,h=1/0,f=1/0,d=e;d<=r-e;d++){var m=a(t,0,d,this.toBBox),g=a(t,d,r,this.toBBox),y=(n=m,i=g,s=Math.max(n.minX,i.minX),u=Math.max(n.minY,i.minY),l=Math.min(n.maxX,i.maxX),p=Math.min(n.maxY,i.maxY),Math.max(0,l-s)*Math.max(0,p-u)),v=c(m)+c(g);y<h?(h=y,o=d,f=v<f?v:f):y===h&&v<f&&(f=v,o=d)}return o||r-e},o.prototype._chooseSplitAxis=function(t,e,r){var o=t.leaf?this.compareMinX:u,n=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,r,o)<this._allDistMargin(t,e,r,n)&&t.children.sort(o)},o.prototype._allDistMargin=function(t,e,r,o){t.children.sort(o);for(var n=this.toBBox,i=a(t,0,e,n),u=a(t,r-e,r,n),l=p(i)+p(u),c=e;c<r-e;c++){var h=t.children[c];s(i,t.leaf?n(h):h),l+=p(i)}for(var f=r-e-1;f>=e;f--){var d=t.children[f];s(u,t.leaf?n(d):d),l+=p(u)}return l},o.prototype._adjustParentBBoxes=function(t,e,r){for(var o=r;o>=0;o--)s(e[o],t)},o.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},o}()},"34V/":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var o=function(){function t(){}return t.getLayers=function(t,e){var r=map.Config.BaseUrl+"/styles/layers/"+map.Config.solution;map.Http.post(r,{browser:"1",terminal:"1",memory:1024,kernel:"mapbox"},t,e)},t}();e.DataUtils=o},"3XrA":function(t,e,r){"use strict";function o(t,e,r){void 0===r&&(r={});var o={type:"Feature"};return(0===r.id||r.id)&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.properties=e||{},o.geometry=t,o}function n(t,e,r){return void 0===r&&(r={}),o({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:t},e,r)}function a(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function u(t,e,r){return void 0===r&&(r={}),o({type:"MultiLineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),o({type:"MultiPoint",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),o({type:"MultiPolygon",coordinates:t},e,r)}function p(t,r){void 0===r&&(r="kilometers");var o=e.factors[r];if(!o)throw new Error(r+" units is invalid");return t*o}function h(t,r){void 0===r&&(r="kilometers");var o=e.factors[r];if(!o)throw new Error(r+" units is invalid");return t/o}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=o,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return n(t,e)})),r)},e.polygon=i,e.polygons=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return i(t,e)})),r)},e.lineString=a,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return a(t,e)})),r)},e.featureCollection=s,e.multiLineString=u,e.multiPoint=l,e.multiPolygon=c,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),o({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=p,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return p(h(t,e),r)},e.convertArea=function(t,r,o){if(void 0===r&&(r="meters"),void 0===o&&(o="kilometers"),!(t>=0))throw new Error("area must be a positive number");var n=e.areaFactors[r];if(!n)throw new Error("invalid original units");var i=e.areaFactors[o];if(!i)throw new Error("invalid final units");return t/n*i},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!d(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},"4tPE":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlPopupManage=void 0;var o=r("ClEM"),n=r("LMXj"),i=function(){function t(t){this.popups=[],this.map=t}return t.prototype.addTextPopup=function(t,e,r,i){(i=i||new o.PopupParas).id=t;var a=document.createTextNode(r),s=null,u=this.createPopupContainer(t,i,a,(function(){s&&s.remove()})),l=new ol.Overlay(i);return l.setElement(u),l.setPosition(e),this.map.getMap().addOverlay(l),s=new n.OlPopup(this.map,t,l),this.popups.push(s),s},t.prototype.addHtmlPopup=function(t,e,r,i){(i=i||new o.PopupParas).id=t;var a=document.createElement("div");a.innerHTML=r;var s=null,u=this.createPopupContainer(t,i,a,(function(){s&&s.remove()})),l=new ol.Overlay(i);return l.setElement(u),l.setPosition(e),this.map.getMap().addOverlay(l),s=new n.OlPopup(this.map,t,l),this.popups.push(s),s},t.prototype.addDomPopup=function(t,e,r,i){(i=i||new o.PopupParas).id=t;var a=null,s=this.createPopupContainer(t,i,r,(function(){a&&a.remove()})),u=new ol.Overlay(i);return u.setElement(s),u.setPosition(e),this.map.getMap().addOverlay(u),a=new n.OlPopup(this.map,t,u),this.popups.push(a),a},t.prototype.createPopupContainer=function(t,e,r,o){var n=document.createElement("div");n.id=t;var i=e&&e.className?"ol-popup "+e.className:"ol-popup";n.className=i;var a=e&&e.maxWidth?e.maxWidth:"240px";n.style.maxWidth=a,n.style.zIndex="1001";var s=document.createElement("div");if(s.className="ol-popup-content",!e||0!=e.closeButton){var u=document.createElement("input");u.type="button",u.value="×",u.className="ol-popup-close-button";var l=e&&e.closeEvent?e.closeEvent:null;u.addEventListener("click",(function(){l&&l(),o&&o()}),!0),s.appendChild(u)}var c=document.createElement("div");return c.id=t+"custom",c.appendChild(r),s.appendChild(c),n.appendChild(s),n},t.prototype.removeAll=function(){for(var t=0;t<this.popups.length;t++){var e=this.popups[t];e&&e.isOpen()&&e.remove()}this.popups=[]},t}();e.OlPopupManage=i},"5Q0C":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlEvent=void 0;var o=r("jYz8"),n=function(){function t(){}return t.clickEvent=function(t,e,r){this.commonEvent(t,"click",e,r)},t.mouseMoveEvent=function(t,e,r){this.commonEvent(t,"pointermove",e,r)},t.commonEvent=function(t,e,r,n){r.on(e,(function(e){var r=new o.EventResult;e&&(r.type=t,r.lngLat={lng:e.coordinate[0],lat:e.coordinate[1]},r.point={x:e.pixel[0],y:e.pixel[1]},r.preventDefault=e.preventDefault),n&&n(r)}))},t}();e.OlEvent=n},"5XcQ":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeojsonUtils=void 0;var o=function(){function t(){}return t.getPointBoundingBox=function(t){for(var e,r,o=[360,180,0,0],n=0;n<t.length;n++)t[0]instanceof Array?(r=t[n][0],e=t[n][1],o[0]=o[0]<r?o[0]:r,o[1]=o[1]<e?o[1]:e,o[2]=o[2]>r?o[2]:r,o[3]=o[3]>e?o[3]:e):(o[0]=t[0],o[1]=t[1],o[2]=t[0],o[3]=t[1]);return o},t.getPolygonBoundingBox=function(t){for(var e,r=[360,180,0,0],o=0;o<t.length;o++){e=1===t.length?t[0][0][0]instanceof Array?t[0]:t:t[o];for(var n=0;n<e.length;n++){var i=this.getLineBoundingBox(e[n]);r=this.getMaxBounds(r,i)}}return r},t.getLineBoundingBox=function(t){for(var e,r=[360,180,0,0],o=0;o<t.length;o++){e=t[0][0]instanceof Array?t[o]:t;for(var n=0;n<e.length;n++){var i=this.getPointBoundingBox(e[n]);r=this.getMaxBounds(r,i)}}return r},t.getGeojsonBoundingBox=function(t){var e=[360,180,0,0];if(t)if("FeatureCollection"==t.type)for(var r=0;r<t.features.length;r++){var o=this.getGeojsonBoundingBox(t.features[r]);e=this.getMaxBounds(e,o)}else if("Feature"==t.type)switch(t.geometry.type){case"Point":case"MultiPoint":e=this.getPointBoundingBox(t.geometry.coordinates);break;case"LineString":case"MultiLineString":e=this.getLineBoundingBox(t.geometry.coordinates);break;case"Polygon":case"MultiPolygon":e=this.getPolygonBoundingBox(t.geometry.coordinates)}else if("GeometryCollection"==t.type)for(r=0;r<t.geometries.length;r++){o=[360,180,0,0];switch(t.geometries[r].type){case"Point":case"MultiPoint":o=this.getPointBoundingBox(t.geometries[r].coordinates);break;case"LineString":case"MultiLineString":o=this.getLineBoundingBox(t.geometries[r].coordinates);break;case"Polygon":case"MultiPolygon":o=this.getPolygonBoundingBox(t.geometries[r].coordinates)}e=this.getMaxBounds(e,o)}return e},t.getGeometryBoundingBox=function(t){var e=[360,180,0,0];if(t)switch(t.type){case"Point":case"MultiPoint":e=this.getPointBoundingBox(t.coordinates);break;case"LineString":case"MultiLineString":e=this.getLineBoundingBox(t.coordinates);break;case"Polygon":case"MultiPolygon":e=this.getPolygonBoundingBox(t.coordinates)}return e},t.getMaxBounds=function(t,e){var r=[0,0,0,0];return r[0]=t[0]<e[0]?t[0]:e[0],r[1]=t[1]<e[1]?t[1]:e[1],r[2]=t[2]>e[2]?t[2]:e[2],r[3]=t[3]>e[3]?t[3]:e[3],r},t}();e.GeojsonUtils=o},"5rOH":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("xl7n"),n=r("3XrA");e.default=function(t,e,r){void 0===r&&(r={});var i=o.getCoord(t),a=o.getCoord(e),s=n.degreesToRadians(a[1]-i[1]),u=n.degreesToRadians(a[0]-i[0]),l=n.degreesToRadians(i[1]),c=n.degreesToRadians(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(l)*Math.cos(c);return n.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),r.units)}},"9tAk":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("3XrA");function n(t,e,r){if(null!==t)for(var o,i,a,s,u,l,c,p,h=0,f=0,d=t.type,m="FeatureCollection"===d,g="Feature"===d,y=m?t.features.length:1,v=0;v<y;v++){u=(p=!!(c=m?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var w=0;w<u;w++){var M=0,b=0;if(null!==(s=p?c.geometries[w]:c)){l=s.coordinates;var P=s.type;switch(h=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===e(l,f,v,M,b))return!1;f++,M++;break;case"LineString":case"MultiPoint":for(o=0;o<l.length;o++){if(!1===e(l[o],f,v,M,b))return!1;f++,"MultiPoint"===P&&M++}"LineString"===P&&M++;break;case"Polygon":case"MultiLineString":for(o=0;o<l.length;o++){for(i=0;i<l[o].length-h;i++){if(!1===e(l[o][i],f,v,M,b))return!1;f++}"MultiLineString"===P&&M++,"Polygon"===P&&b++}"Polygon"===P&&M++;break;case"MultiPolygon":for(o=0;o<l.length;o++){for(b=0,i=0;i<l[o].length;i++){for(a=0;a<l[o][i].length-h;a++){if(!1===e(l[o][i][a],f,v,M,b))return!1;f++}b++}M++}break;case"GeometryCollection":for(o=0;o<s.geometries.length;o++)if(!1===n(s.geometries[o],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function s(t,e){var r,o,n,i,a,s,u,l,c,p,h=0,f="FeatureCollection"===t.type,d="Feature"===t.type,m=f?t.features.length:1;for(r=0;r<m;r++){for(s=f?t.features[r].geometry:d?t.geometry:t,l=f?t.features[r].properties:d?t.properties:{},c=f?t.features[r].bbox:d?t.bbox:void 0,p=f?t.features[r].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,n=0;n<a;n++)if(null!==(i=u?s.geometries[n]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,h,l,c,p))return!1;break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)if(!1===e(i.geometries[o],h,l,c,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,l,c,p))return!1;h++}}function u(t,e){s(t,(function(t,r,n,i,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(o.feature(t,n,{bbox:i,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:s,coordinates:t.coordinates[l]};if(!1===e(o.feature(c,n),r,l))return!1}}))}function l(t,e){u(t,(function(t,r,i){var a=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,p=0;return!1!==n(t,(function(n,s,h,f,d){if(void 0===u||r>l||f>c||d>p)return u=n,l=r,c=f,p=d,void(a=0);var m=o.lineString([u,n],t.properties);if(!1===e(m,r,i,d,a))return!1;a++,u=n}))&&void 0}}}))}function c(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,r,n){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===e(o.lineString(a[s],t.properties),r,n,s))return!1}}}))}e.coordEach=n,e.coordReduce=function(t,e,r,o){var i=r;return n(t,(function(t,o,n,a,s){i=0===o&&void 0===r?t:e(i,t,o,n,a,s)}),o),i},e.propEach=i,e.propReduce=function(t,e,r){var o=r;return i(t,(function(t,n){o=0===n&&void 0===r?t:e(o,t,n)})),o},e.featureEach=a,e.featureReduce=function(t,e,r){var o=r;return a(t,(function(t,n){o=0===n&&void 0===r?t:e(o,t,n)})),o},e.coordAll=function(t){var e=[];return n(t,(function(t){e.push(t)})),e},e.geomEach=s,e.geomReduce=function(t,e,r){var o=r;return s(t,(function(t,n,i,a,s){o=0===n&&void 0===r?t:e(o,t,n,i,a,s)})),o},e.flattenEach=u,e.flattenReduce=function(t,e,r){var o=r;return u(t,(function(t,n,i){o=0===n&&0===i&&void 0===r?t:e(o,t,n,i)})),o},e.segmentEach=l,e.segmentReduce=function(t,e,r){var o=r,n=!1;return l(t,(function(t,i,a,s,u){o=!1===n&&void 0===r?t:e(o,t,i,a,s,u),n=!0})),o},e.lineEach=c,e.lineReduce=function(t,e,r){var o=r;return c(t,(function(t,n,i,a){o=0===n&&void 0===r?t:e(o,t,n,i,a)})),o},e.findSegment=function(t,e){if(e=e||{},!o.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),u=u||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),o.lineString([l[s],l[s+1]],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),o.lineString([l[a][s],l[a][s+1]],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s-1),o.lineString([l[i][s],l[i][s+1]],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s-1),o.lineString([l[i][a][s],l[i][a][s+1]],u,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!o.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),u=u||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return o.point(l,u,e);case"MultiPoint":return i<0&&(i=l.length+i),o.point(l[i],u,e);case"LineString":return s<0&&(s=l.length+s),o.point(l[s],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),o.point(l[a][s],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),o.point(l[i][s],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s),o.point(l[i][a][s],u,e)}throw new Error("geojson is invalid")}},AO3a:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlRender=void 0;var o=function(){function t(t){this.inited=!1,this.map=t}return t.prototype.highlight=function(t,e){var r;this.init(e),r=e&&0==e.isGeoJson?t:(new ol.format.GeoJSON).readFeature(t),this.hFeature(r,this,e)},t.prototype.clearHighlight=function(t){this.featureOverlaySource.clear(),this.curHighlight=null},t.prototype.clear=function(){this.vectorSoruce.clear(),this.map.getMap().getOverlays().clear(),this.featureOverlaySource.clear(),this.curHighlight=null},t.prototype.init=function(t){var e=this;if(!this.inited){if(this.inited=!0,this.image=new ol.style.Circle({radius:5,fill:null,stroke:new ol.style.Stroke({color:"red",width:1})}),this.styles={Point:new ol.style.Style({image:this.image}),LineString:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2})}),MultiLineString:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2})}),MultiPoint:new ol.style.Style({image:this.image}),MultiPolygon:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"})}),Polygon:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",lineDash:[2],width:2}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"})}),GeometryCollection:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"}),image:new ol.style.Circle({radius:10,fill:null,stroke:new ol.style.Stroke({color:"green"})})}),Circle:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"})})},this.vectorSoruce=new ol.source.Vector({wrapX:!1}),this.vectorLayer=new ol.layer.Vector({source:this.vectorSoruce,style:function(t){return e.styles[t.getGeometry().getType()]}}),this.featureOverlaySource=new ol.source.Vector({wrapX:!1}),this.featureOverlayLayer=new ol.layer.Vector({source:this.featureOverlaySource,style:new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:2}),fill:new ol.style.Fill({color:"rgba(200, 0, 0, 0.5)"})})}),t&&t.showIndex>=0)this.map.getMap().getLayers().insertAt(t.showIndex,this.vectorLayer);else this.map.getMap().addLayer(this.vectorLayer);if(t&&t.highlightIndex>=0)this.map.getMap().getLayers().insertAt(t.highlightIndex,this.featureOverlayLayer);else this.map.getMap().addLayer(this.featureOverlayLayer)}},t.prototype.hFeature=function(t,e,r){if(!t)return e.curHighlight&&e.featureOverlaySource.removeFeature(e.curHighlight),void(e.curHighlight=t);t!==e.curHighlight&&(e.curHighlight&&e.featureOverlaySource.removeFeature(e.curHighlight),t&&(r&&r.style&&e.featureOverlayLayer.setStyle(r.style),e.featureOverlaySource.addFeature(t)),e.curHighlight=t)},t}();e.OlRender=o},BiYP:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("9tAk");function n(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(i(t[r]))}return e}function i(t){var e,r,o,n,i,s,u=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(o=l-2,n=l-1,i=0):s===l-1?(o=l-1,n=0,i=1):(o=s,n=s+1,i=s+2),e=t[o],r=t[n],u+=(a(t[i][0])-a(e[0]))*Math.sin(a(r[1]));u=6378137*u*6378137/2}return u}function a(t){return t*Math.PI/180}e.default=function(t){return o.geomReduce(t,(function(t,e){return t+function(t){var e,r=0;switch(t.type){case"Polygon":return n(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)r+=n(t.coordinates[e]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}},CPuE:function(t,e,r){"use strict";r.r(e);var o=r("c8DY"),n=r.n(o),i=r("DDBq"),a=r("d2j8");e.default=function(t,e){if(e=e||{},!Object(a.d)(e))throw new Error("options is invalid");var r=e.concavity||1/0,o=[];if(Object(i.a)(t,(function(t){o.push([t[0],t[1]])})),!o.length)return null;var s=n()(o,r);return s.length>3?Object(a.h)([s]):null}},ClEM:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupParas=void 0;var o=function(){this.closeButton=!0,this.closeOnClick=!0,this.anchor="bottom",this.offset=[0,0],this.className="",this.maxWidth="240px",this.closeEvent=null,this.openEvent=null,this.popupID=""};e.PopupParas=o},DDBq:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("d2j8");function o(t,e,r){if(null!==t)for(var n,i,a,s,u,l,c,p,h=0,f=0,d=t.type,m="FeatureCollection"===d,g="Feature"===d,y=m?t.features.length:1,v=0;v<y;v++){u=(p=!!(c=m?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var w=0;w<u;w++){var M=0,b=0;if(null!==(s=p?c.geometries[w]:c)){l=s.coordinates;var P=s.type;switch(h=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===e(l,f,v,M,b))return!1;f++,M++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],f,v,M,b))return!1;f++,"MultiPoint"===P&&M++}"LineString"===P&&M++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-h;i++){if(!1===e(l[n][i],f,v,M,b))return!1;f++}"MultiLineString"===P&&M++,"Polygon"===P&&b++}"Polygon"===P&&M++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for("MultiPolygon"===P&&(b=0),i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-h;a++){if(!1===e(l[n][i][a],f,v,M,b))return!1;f++}b++}M++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}},DTYU:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||o(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r("w3ur"),e),r("rI18"),r("uYpz");var i=r("w3ur"),a=r("AO3a"),s=r("4tPE"),u=r("Ui/j"),l=r("VVgW"),c=r("gI2k"),p=new i.OlMap;map.Container.set("map",p),map.Container.set("render",new a.OlRender(p)),map.Container.set("popup",new s.OlPopupManage(p)),map.Container.set("marker",new u.OlMarkerManage(p)),map.Container.set("draw",new l.OlDraw(p)),map.Container.set("measure",new c.OlMeasure(p))},Er5v:function(t,e){t.exports=function(t,e){for(var r=t[0],o=t[1],n=!1,i=0,a=e.length-1;i<e.length;a=i++){var s=e[i][0],u=e[i][1],l=e[a][0],c=e[a][1];u>o!=c>o&&r<(l-s)*(o-u)/(c-u)+s&&(n=!n)}return n}},Ertq:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return n}));r("d2j8");function o(t){if(!t)throw new Error("coord is required");if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates;if(Array.isArray(t)&&t.length>=2&&void 0===t[0].length&&void 0===t[1].length)return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function n(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}},"FTm/":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hat=void 0;var o=function(){function t(){}return t.hat=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(e),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(e)*o;var n=r-Math.floor(r),i="";for(o=0;o<Math.floor(r);o++){i=Math.floor(Math.random()*e).toString(e)+i}if(n){var a=Math.pow(e,n);i=Math.floor(Math.random()*a).toString(e)+i}var s=parseInt(i,e);return s!==1/0&&s>=Math.pow(2,t)?this.hat(t,e):i},t}();e.Hat=o},HDVh:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0;var o=r("FTm/"),n=function(){function t(t){this.type="Feature",this.geometry={coordinates:[],type:""},this.id=o.Hat.hat(),this.properties={},this.properties.id=this.id}return t.prototype.setCoordinates=function(t){this.geometry.coordinates=t},t.prototype.getCoordinates=function(){return this.geometry.coordinates},t.prototype.setProperty=function(t,e){this.properties[t]=e},t}();e.Feature=n},HMQD:function(t,e,r){"use strict";r.r(e);var o=r("CPuE"),n=r("DDBq"),i=r("d2j8");var a=function(t,e){var r=0,o=0,a=0;return Object(n.a)(t,(function(t){r+=t[0],o+=t[1],a++}),!0),Object(i.g)([r/a,o/a],e)},s=r("Ertq");e.default=function t(e,r){switch(Object(s.b)(e)){case"Point":return e;case"Polygon":var u=[];Object(n.a)(e,(function(t){u.push(t)}));var l,c,p,h,f,d,m,g,y=a(e,r),v=y.geometry.coordinates,w=0,M=0,b=0,P=u.map((function(t){return[t[0]-v[0],t[1]-v[1]]}));for(l=0;l<u.length-1;l++)h=(c=P[l])[0],d=c[1],f=(p=P[l+1])[0],b+=g=h*(m=p[1])-f*d,w+=(h+f)*g,M+=(d+m)*g;if(0===b)return y;var C=1/(6*(.5*b));return Object(i.g)([v[0]+C*w,v[1]+C*M],r);default:var x=Object(o.default)(e);return x?t(x,r):a(e,r)}}},HUdc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerParas=void 0;var o=function(){this.element=null,this.anchor="bottom",this.offset=[0,0],this.color="#3FB1CE",this.draggable=!1,this.dragstartEvent=null,this.dragendEvent=null,this.clickEvent=null};e.MarkerParas=o},LBaD:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlMarker=void 0;var o=r("XxOt"),n=function(){function t(t,e,r,o){this.popupParas=null,this.popupTtype="0",this.pmap=t,this.olMarker=r,this.id=e,this.popup=null,this.options=o,this.olPopupManage=map.Container.get("popup")}return t.prototype.update=function(t){this.olMarker.setPosition(t),this.popup&&this.popup.update(t)},t.prototype.addTextPopup=function(t,e){return null!=this.popup&&this.popup.remove(),this.popupContent=t,this.popupParas=e,this.popupTtype="1",this.popup=this.olPopupManage.addTextPopup(this.id,this.olMarker.getPosition(),t,e),this.popup},t.prototype.addHtmlPopup=function(t,e){return null!=this.popup&&this.popup.remove(),this.popupContent=t,this.popupParas=e,this.popupTtype="2",this.popup=this.olPopupManage.addHtmlPopup(this.id,this.olMarker.getPosition(),t,e),this.popup},t.prototype.addDomPopup=function(t,e){return null!=this.popup&&this.popup.remove(),this.popupContent=t,this.popupParas=e,this.popupTtype="3",this.popup=this.olPopupManage.addDomPopup(this.id,this.olMarker.getPosition(),t,e),this.popup},t.prototype.getLngLat=function(){return this.olMarker.getPosition()},t.prototype.getPopup=function(){return this.popup},t.prototype.togglePopup=function(){this.popup&&this.popup.isOpen()?this.popup.remove():"1"===this.popupTtype?this.addTextPopup(this.popupContent,this.popupParas):"2"===this.popupTtype?this.addHtmlPopup(this.popupContent,this.popupParas):"3"===this.popupTtype&&this.addDomPopup(this.popupContent,this.popupParas)},t.prototype.getElement=function(){return this.olMarker.getElement()},t.prototype.updateElement=function(t){if(this.olMarker){this.olMarker.setElement(t);var e=this;o.OlMarkerUtil.addEventListener(this.pmap.getMap(),this.olMarker,t,this.options,(function(t){e.update(t)})),this.options.element=t}},t.prototype.remove=function(){this.pmap.getMap().removeOverlay(this.olMarker),this.removePopup()},t.prototype.removePopup=function(){this.popup&&this.popup.remove()},t}();e.OlMarker=n},LMXj:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlPopup=void 0;var o=function(){function t(t,e,r){this.map=t,this.olPopup=r,this.id=e}return t.prototype.remove=function(){this.map.getMap().removeOverlay(this.olPopup)},t.prototype.update=function(t){this.olPopup.setPosition(t)},t.prototype.updateContentByText=function(t){var e=document.createTextNode(t);this.updateContent(e)},t.prototype.updateContentByHtml=function(t){var e=document.createElement("div");e.innerHTML=t,this.updateContent(e)},t.prototype.updateContentByDom=function(t){this.updateContent(t)},t.prototype.updateContent=function(t){var e=document.getElementById(this.id+"custom");if(e){for(var r=e.childNodes,o=r.length-1;o>=0;o--)e.removeChild(r[o]);e.appendChild(t)}},t.prototype.isOpen=function(){return!!this.map.getMap().getOverlayById(this.id)},t}();e.OlPopup=o},MDZM:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerraformerUtils=void 0;var o=function(){function t(){}return t.ArctoGeojson=function(t,e){return Terraformer.ArcGIS.parse(t,e)},t.GeojsonToArc=function(t,e){return Terraformer.ArcGIS.convert(t,e)},t.GeoGeometryToWkt=function(t){return Terraformer.WKT.convert(t)},t.WktToGeoGeometry=function(t){return Terraformer.WKT.parse(t)},t.ArcToGeoCollection=function(e){if(null==e||e.length<0)return null;var r=[];return e.forEach((function(e){var o={},n=t.ArctoGeojson(e.geometry);o.properties=e.attributes,o.type="Feature",o.geometry=n,r.push(o)})),{type:"FeatureCollection",features:r}},t.ArcToGeoJson=function(t){if(null==t)return null;var e=this.ArctoGeojson(t.geometry);return{properties:t.attributes?t.attributes:{},type:"Feature",geometry:e}},t}();e.TerraformerUtils=o},QaYo:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapControlParas=void 0;var o=function(){this.position="bottom-right",this.maxWidth=80,this.unit="metric"};e.MapControlParas=o},"Ui/j":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlMarkerManage=void 0;var o=r("HUdc"),n=r("LBaD"),i=r("XxOt"),a=function(){function t(t){this.markers=[],this.pmap=t}return t.prototype.add=function(t,e,r){var a=document.createElement("div");a.id="ol_marker",a.className="ol-marker";var s=(r=r||new o.MarkerParas).element;s||(s=a);var u=new ol.Overlay(r);u.setElement(s),u.setPosition(e),this.pmap.getMap().addOverlay(u);var l=new n.OlMarker(this.pmap,t,u,r);return i.OlMarkerUtil.addEventListener(this.pmap.getMap(),u,s,r,(function(t){l.update(t)})),this.markers.push(l),l},t.prototype.removeAll=function(){for(var t=0;t<this.markers.length;t++){var e=this.markers[t];e&&e.remove()}this.markers=[]},t}();e.OlMarkerManage=a},UpkK:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StyleLoadService=void 0;var o=function(){function t(){}return t.loadStyle=function(t,e,r){map.Http.get(t,(function(t){e&&e(t)}),(function(t){r&&r(t)}))},t.loadFMMapStyle=function(t,e,r){var o=this,n=t.split("/");map.Config.solution=n[n.length-1],map.Http.post(t,{browser:"1",terminal:"1",memory:1024,kernel:"mapbox"},(function(t){if(t.code)r&&r(t);else try{var n=o.parseFmMapStyle(t);e&&e(n)}catch(t){r&&r(t)}}),(function(t){r&&r(t)}))},t.mergeStyle=function(t,e){if(t){if(!e)return t;for(var r in t.sources||(t.sources={}),e.sources||(e.sources={}),e.sources)t.sources[r]=e.sources[r];return t.layers||(t.layers=[]),e.layers||(e.layers=[]),e.layers.forEach((function(e){t.layers.push(e)})),t}},t.parseFmMapStyle=function(t){var e=this,r=function(r){var n=t.sources[r].tiles;if(null!=n&&n.length>0){var i=[];n.forEach((function(t){if(null!=t){var r=e.makeFmSourceURL(t);i.push(r)}})),t.sources[r].tiles=i}var a=t.sources[r].url;if(null!=a){var s=o.makeFmSourceURL(a);t.sources[r].url=s}var u=t.sources[r].data;if(null!=u){var l=o.makeFmSourceURL(u);t.sources[r].data=l}},o=this;for(var n in t.sources)r(n);var i=this.normalizeFmSpriteURL(t.sprite),a=t.layers.concat([]),s=this.normalizeFmGlyphsURL(t.glyphs,"");return t={version:8,sprite:i,glyphs:s,sources:t.sources,layers:a}},t.makeFmSourceURL=function(t){return t.startsWith("fmdata://")?t.replace("fmdata://",map.Config.dataUrl):t},t.normalizeFmSpriteURL=function(t){if(!this.isFmMapURL(t)||!map.Config.BaseUrl)return t;var e=this.parseUrl(t);return map.Config.BaseUrl+"sprite/"+e.authority+e.path},t.normalizeFmGlyphsURL=function(t,e){if(!this.isFmMapURL(t)||!map.Config.BaseUrl)return t;var r=this.parseUrl(t);return map.Config.BaseUrl+"fonts/{fontstack}"+r.path.substr(r.path.lastIndexOf("/"))+".pbf"},t.isFmMapURL=function(t){return 0===t.indexOf("fmmap://")||0===t.indexOf("fm://")},t.loadMineMapStyle=function(t,e,r){var o=this,n=t.split("/"),i=map.Config.solution=n[n.length-1],a=map.Config.adapterStyleIDS;if(a.length>0&&a.indexOf(i)>-1||map.Config.openAdapter){var s=this.getMapType();""!==s&&(t+="/"+s)}this.loadStyle(t,(function(t){if(t.errcode)r&&r(t);else try{var n=o.parseMineMapStyle(t);e&&e(n)}catch(t){r&&r(t)}}))},t.getMapType=function(){var t="",e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>0)return t="l";if(e.indexOf("trident")>0){var r=e.match(/trident\/[\d.]+/gi)[0].split("/");switch(r[0]+" "+r[1]){case"trident 4.0":case"trident 5.0":case"trident 6.0":return t="l"}if(window.ActiveXObject||"ActiveXObject"in window)try{var o=new ActiveXObject("WbemScripting.SWbemLocator").ConnectServer("."),n=this.cpuInfo(o),i=this.raminfo(o);t=n<=4&&i<=4096?"l":n<=4&&i>4096&&i<16384?"m":n>=4&&i>=16384?"h":"l"}catch(t){console.log("未启用ActiveXObject")}return t}var a=window.navigator,s=0,u=0;return a.deviceMemory&&(s=a.deviceMemory),a.hardwareConcurrency&&(u=a.hardwareConcurrency),t=u<=4&&s<=4?"l":u<=4&&s>4&&s<16?"m":u>=8&&s>=16?"h":"l"},t.cpuInfo=function(t){for(var e=t.ExecQuery("SELECT * FROM Win32_Processor"),r=new Enumerator(e),o=0;!r.atEnd();r.moveNext()){o=r.item().NumberOfCores}return o},t.raminfo=function(t){for(var e=new Enumerator(t.ExecQuery("SELECT * FROM Win32_PhysicalMemory")),r=[],o=0;!e.atEnd();e.moveNext())r[o++]={cap:e.item().Capacity/1024/1024,speed:e.item().Speed};for(var n=0,i=0;i<r.length;i++)n+=r[i].cap;return console.log(n),n},t.parseMineMapStyle=function(t){var e=[];for(var r in t.sources){var o=t.sources[r].tiles[0];if(this.isMinemapURL(o)){var n=this.parseTile(o);if(!n)continue;var i=this.makeMineSourceURL(n,map.Config.MineAccessToken,map.Config.solution);e.push({id:r,url:i,type:t.sources[r].type,tileSize:t.sources[r].tileSize,scheme:t.sources[r].scheme})}else e.push({id:r,url:o,type:t.sources[r].type,tileSize:t.sources[r].tileSize,scheme:t.sources[r].scheme})}for(var a=this.normalizeMineSpriteURL(t.sprite,"","",""),s={},u=0;u<e.length;u++)s[e[u].id]={type:e[u].type,tiles:[e[u].url]},e[u].tileSize&&(s[e[u].id].tileSize=e[u].tileSize),e[u].scheme&&(s[e[u].id].scheme=e[u].scheme);var l=t.layers.concat([]);for(u=0;u<l.length;u++){if(l[u].filter)for(var c=l[u].filter,p=0;p<c.length;p++)Array.isArray(c[p])&&("!arrin"===c[p][0]&&(c[p][0]="!in"),"arrin"===c[p][0]&&(c[p][0]="in"));"extrusion"===l[u].type&&(l[u]=JSON.parse(JSON.stringify(l[u]).replace(/extrusion/g,"fill-extrusion"))),"sprite"!==l[u].type&&"histogram"!==l[u].type&&"airline"!==l[u].type||(l.splice(u,1),u--),l[u].paint&&("fill-water"in l[u].paint&&delete l[u].paint["fill-water"],"line-border-color"in l[u].paint&&delete l[u].paint["line-border-color"],"line-border-width"in l[u].paint&&delete l[u].paint["line-border-width"],"line-border-opacity"in l[u].paint&&delete l[u].paint["line-border-opacity"]),l[u].layout&&"border-visibility"in l[u].layout&&delete l[u].layout["border-visibility"]}return t={version:8,sprite:a,glyphs:this.normalizeMineGlyphsURL(t.glyphs,""),sources:s,layers:l}},t.makeMineSourceURL=function(t,e,r,o){switch(t.protocol){case"minemap":var n=this.parseUrl(map.Config.SRC_URL);t.protocol=n.protocol,t.authority=n.authority;break;case"minemapdata":var i=this.parseUrl(map.Config.API_URL);t.path=i.path+t.authority+t.path,t.protocol=i.protocol,t.authority=i.authority;break;case"minemapdatad":var a=this.parseUrl(map.Config.DYN_URL);t.path=a.path+t.authority+t.path,t.protocol=a.protocol,t.authority=a.authority;break;case"minemapdatam":var s=this.parseUrl(map.Config.MERGE_URL);t.path=s.path+t.authority+t.path,t.protocol=s.protocol,t.authority=s.authority;break;case"minemapdatao":var u=this.parseUrl(map.Config.OTHER_URL);t.path=u.path+t.authority+t.path,t.protocol=u.protocol,t.authority=u.authority}if(!map.Config.REQUIRE_ACCESS_TOKEN)return this.formatUrl(t);if(e=e||map.Config.MineAccessToken,r=r||map.Config.solution,o=o||map.Config.DATA_VERSION,!e)throw new Error("需要申请accessToken. ");return t.params.push("token="+e),t.params.push("solu="+r),o&&t.params.push("version="+o),this.formatUrl(t)},t.isMinemapURL=function(t){return 0===t.indexOf("minemap:")||0===t.indexOf("minemapdata:")||0===t.indexOf("minemapdatad:")||0===t.indexOf("minemapdatam:")||0===t.indexOf("minemapdatao:")},t.normalizeMineSpriteURL=function(t,e,r,o){if(!this.isMinemapURL(t)&&!map.Config.spriteUrl)return t+""+e+r;var n=this.parseUrl(t);return n.path=map.Config.SRC_URL+"sprite/sprite"+e+r,map.Config.spriteUrl&&map.Config.spriteUrl+""+e+r||n.path},t.normalizeMineGlyphsURL=function(t,e){if(!this.isMinemapURL(t)&&!map.Config.fontsUrl)return t;var r=this.parseUrl(t);return map.Config.fontsUrl&&map.Config.fontsUrl+"/{fontstack}"+r.path.substr(r.path.lastIndexOf("/"))+".pbf"||map.Config.SRC_URL+"fonts/{fontstack}"+r.path.substr(r.path.lastIndexOf("/"))+".pbf"},t.parseUrl=function(t){var e=t.match(/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/);if(!e){var r=t.match(/^\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/);if(!r)throw new Error("Unable to parse URL object");return{protocol:"",authority:r[1],path:r[2]||"/",params:r[3]?r[3].split("&"):[]}}return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}},t.formatUrl=function(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol&&t.protocol.length>0?t.protocol+"://"+t.authority+t.path+e:window.document.location.protocol+"//"+t.authority+t.path+e},t.parseTile=function(t){if(!t)return t;if(!this.isMinemapURL(t))return t;var e=t.split(":");if(e.length<2)return t;for(var r=e[1].split("/"),o="",n=2;n<r.length;n++)o+="/"+r[n];return{protocol:e[0],path:o,authority:r[1],params:[]}},t}();e.StyleLoadService=o},VVgW:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlDraw=void 0;var o=r("vbmK"),n=r("g+WE"),i=r("o0BB"),a=function(){function t(t){this.inited=!1,this.drawing=!1,this.pmap=t}return t.prototype.init=function(){this.inited||(this.measureSource=new ol.source.Vector({wrapX:!1}),this.style=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255,255,255,0.2)"}),stroke:new ol.style.Stroke({color:"#fbb03b",lineDash:[.2,2],width:2})}))},t.prototype.start=function(t){this.init(),this.clear(),this.end();var e=this.pmap.getMap(),r="Point";"point"===t?r="Point":"line"===t?r="LineString":"polygon"===t&&(r="Polygon");var o=this;this.curDraw=new ol.interaction.Draw({source:this.measureSource,type:r,style:this.style}),this.curDraw.on("drawend",(function(t){o.onDrawend(t,o)}),o),this.curDraw.on("drawstart",(function(t){o.onDrawstart(t,o)}),o),e.addInteraction(this.curDraw),this.drawing=!0},t.prototype.edit=function(t){},t.prototype.onDrawstart=function(t,e){e.sketch=t.feature,e.sketch.getGeometry().on("change",(function(t){t.target}))},t.prototype.onDrawend=function(t,e){e.sketch=null,e.end()},t.prototype.addPoint=function(t){this.drawing&&(null!=this.sketch&&this.sketch.getGeometry().getCoordinates().push(t))},t.prototype.delPoint=function(){this.drawing&&this.curDraw.removeLastPoint()},t.prototype.end=function(){var t=this.pmap.getMap();null!=this.curDraw&&t.removeInteraction(this.curDraw),this.drawing=!1},t.prototype.clear=function(){this.measureSource.clear(),this.pmap.getMap().getOverlays().clear()},t.prototype.hasGeometry=function(){return null!=this.sketch&&null!=this.sketch.getGeometry()},t.prototype.getDarwing=function(){return this.drawing},t.prototype.getGeometry=function(){if(!this.drawing)return null;if(null!=this.sketch){var t=this.sketch.getGeometry(),e=t.getCoordinates();if(t instanceof ol.geom.Polygon)return new i.Polygon(e);if(t instanceof ol.geom.LineString)return new n.LineString(e);if(t instanceof ol.geom.Point)return new o.Point(e)}return null},t}();e.OlDraw=a},XxOt:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlMarkerUtil=void 0;var o=function(){function t(){}return t.addEventListener=function(t,e,r,o,n){if(o.clickEvent){var i=o.clickEvent;r.addEventListener("click",(function(){i()}),!0)}if(1==o.draggable){var a;t.getInteractions().forEach((function(t){t instanceof ol.interaction.DragPan&&(a=t)}));var s=o.dragstartEvent;r.addEventListener("mousedown",(function(){var t=e.getPosition();a.setActive(!1),e.set("dragging",!0),console.info("start dragging"),s&&s(t)}));var u=o.dragendEvent;r.addEventListener("mouseup",(function(){var t=e.getPosition();a.setActive(!0),e.set("dragging",!1),console.info("stop dragging"),u&&u(t)})),t.on("pointermove",(function(r){if(e.get("dragging")){var o=t.getPixelFromCoordinate(r.coordinate),i=o[0],a=o[1],s=t.getCoordinateFromPixel([i,a]);e.setPosition(s),n&&n(s)}}))}},t}();e.OlMarkerUtil=o},ZJ7J:function(t,e,r){!function(t){"use strict";const e=134217729;function r(t,e,r,o,n){let i,a,s,u,l=e[0],c=o[0],p=0,h=0;c>l==c>-l?(i=l,l=e[++p]):(i=c,c=o[++h]);let f=0;if(p<t&&h<r)for(c>l==c>-l?(s=i-((a=l+i)-l),l=e[++p]):(s=i-((a=c+i)-c),c=o[++h]),i=a,0!==s&&(n[f++]=s);p<t&&h<r;)c>l==c>-l?(s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++p]):(s=i-((a=i+c)-(u=a-i))+(c-u),c=o[++h]),i=a,0!==s&&(n[f++]=s);for(;p<t;)s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++p],i=a,0!==s&&(n[f++]=s);for(;h<r;)s=i-((a=i+c)-(u=a-i))+(c-u),c=o[++h],i=a,0!==s&&(n[f++]=s);return 0===i&&0!==f||(n[f++]=i),f}function o(t){return new Float64Array(t)}const n=o(4),i=o(8),a=o(12),s=o(16),u=o(4);t.orient2d=function(t,o,l,c,p,h){const f=(o-h)*(l-p),d=(t-p)*(c-h),m=f-d;if(0===f||0===d||f>0!=d>0)return m;const g=Math.abs(f+d);return Math.abs(m)>=33306690738754716e-32*g?m:-function(t,o,l,c,p,h,f){let d,m,g,y,v,w,M,b,P,C,x,S,E,O,_,k,L,T;const I=t-p,j=l-p,D=o-h,A=c-h;v=(_=(b=I-(M=(w=e*I)-(w-I)))*(C=A-(P=(w=e*A)-(w-A)))-((O=I*A)-M*P-b*P-M*C))-(x=_-(L=(b=D-(M=(w=e*D)-(w-D)))*(C=j-(P=(w=e*j)-(w-j)))-((k=D*j)-M*P-b*P-M*C))),n[0]=_-(x+v)+(v-L),v=(E=O-((S=O+x)-(v=S-O))+(x-v))-(x=E-k),n[1]=E-(x+v)+(v-k),v=(T=S+x)-S,n[2]=S-(T-v)+(x-v),n[3]=T;let R=function(t,e){let r=e[0];for(let t=1;t<4;t++)r+=e[t];return r}(0,n),F=22204460492503146e-32*f;if(R>=F||-R>=F)return R;if(d=t-(I+(v=t-I))+(v-p),g=l-(j+(v=l-j))+(v-p),m=o-(D+(v=o-D))+(v-h),y=c-(A+(v=c-A))+(v-h),0===d&&0===m&&0===g&&0===y)return R;if(F=11093356479670487e-47*f+33306690738754706e-32*Math.abs(R),(R+=I*y+A*d-(D*g+j*m))>=F||-R>=F)return R;v=(_=(b=d-(M=(w=e*d)-(w-d)))*(C=A-(P=(w=e*A)-(w-A)))-((O=d*A)-M*P-b*P-M*C))-(x=_-(L=(b=m-(M=(w=e*m)-(w-m)))*(C=j-(P=(w=e*j)-(w-j)))-((k=m*j)-M*P-b*P-M*C))),u[0]=_-(x+v)+(v-L),v=(E=O-((S=O+x)-(v=S-O))+(x-v))-(x=E-k),u[1]=E-(x+v)+(v-k),v=(T=S+x)-S,u[2]=S-(T-v)+(x-v),u[3]=T;const U=r(4,n,4,u,i);v=(_=(b=I-(M=(w=e*I)-(w-I)))*(C=y-(P=(w=e*y)-(w-y)))-((O=I*y)-M*P-b*P-M*C))-(x=_-(L=(b=D-(M=(w=e*D)-(w-D)))*(C=g-(P=(w=e*g)-(w-g)))-((k=D*g)-M*P-b*P-M*C))),u[0]=_-(x+v)+(v-L),v=(E=O-((S=O+x)-(v=S-O))+(x-v))-(x=E-k),u[1]=E-(x+v)+(v-k),v=(T=S+x)-S,u[2]=S-(T-v)+(x-v),u[3]=T;const B=r(U,i,4,u,a);v=(_=(b=d-(M=(w=e*d)-(w-d)))*(C=y-(P=(w=e*y)-(w-y)))-((O=d*y)-M*P-b*P-M*C))-(x=_-(L=(b=m-(M=(w=e*m)-(w-m)))*(C=g-(P=(w=e*g)-(w-g)))-((k=m*g)-M*P-b*P-M*C))),u[0]=_-(x+v)+(v-L),v=(E=O-((S=O+x)-(v=S-O))+(x-v))-(x=E-k),u[1]=E-(x+v)+(v-k),v=(T=S+x)-S,u[2]=S-(T-v)+(x-v),u[3]=T;const G=r(B,a,4,u,s);return s[G-1]}(t,o,l,c,p,h,g)},t.orient2dfast=function(t,e,r,o,n,i){return(e-i)*(r-n)-(t-n)*(o-i)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},aaTa:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));class o{constructor(t=[],e=n){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,o=e[t];for(;t>0;){const n=t-1>>1,i=e[n];if(r(o,i)>=0)break;e[t]=i,t=n}e[t]=o}_down(t){const{data:e,compare:r}=this,o=this.length>>1,n=e[t];for(;t<o;){let o=1+(t<<1),i=e[o];const a=o+1;if(a<this.length&&r(e[a],i)<0&&(o=a,i=e[a]),r(i,n)>=0)break;e[t]=i,t=o}e[t]=n}}function n(t,e){return t<e?-1:t>e?1:0}},c8DY:function(t,e,r){"use strict";var o=r("0/QR"),n=r("aaTa"),i=r("Er5v");const a=r("ZJ7J").orient2d;function s(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;var n=function(t){for(var e=t[0],r=t[0],o=t[0],n=t[0],a=0;a<t.length;a++){var s=t[a];s[0]<e[0]&&(e=s),s[0]>o[0]&&(o=s),s[1]<r[1]&&(r=s),s[1]>n[1]&&(n=s)}var u=[e,r,o,n],l=u.slice();for(a=0;a<t.length;a++)i(t[a],u)||l.push(t[a]);return function(t){t.sort(w);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&f(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var o=[],n=t.length-1;n>=0;n--){for(;o.length>=2&&f(o[o.length-2],o[o.length-1],t[n])<=0;)o.pop();o.push(t[n])}return o.pop(),e.pop(),e.concat(o)}(l)}(t),a=new o(16);a.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},a.compareMinX=function(t,e){return t[0]-e[0]},a.compareMinY=function(t,e){return t[1]-e[1]},a.load(t);for(var s,l=[],c=0;c<n.length;c++){var p=n[c];a.remove(p),s=m(p,s),l.push(s)}var h=new o(16);for(c=0;c<l.length;c++)h.insert(d(l[c]));for(var y=e*e,v=r*r;l.length;){var M=l.shift(),b=M.p,P=M.next.p,C=g(b,P);if(!(C<v)){var x=C/y;(p=u(a,M.prev.p,b,P,M.next.next.p,x,h))&&Math.min(g(p,b),g(p,P))<=x&&(l.push(M),l.push(m(p,M)),a.remove(p),h.remove(M),h.insert(d(M)),h.insert(d(M.next)))}}M=s;var S=[];do{S.push(M.p),M=M.next}while(M!==s);return S.push(M.p),S}function u(t,e,r,o,i,a,s){for(var u=new n([],l),p=t.data;p;){for(var f=0;f<p.children.length;f++){var d=p.children[f],m=p.leaf?y(d,r,o):c(r,o,d);m>a||u.push({node:d,dist:m})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),v=g.node,w=y(v,e,r),M=y(v,o,i);if(g.dist<w&&g.dist<M&&h(r,v,s)&&h(o,v,s))return v}(p=u.pop())&&(p=p.node)}return null}function l(t,e){return t.dist-e.dist}function c(t,e,r){if(p(t,r)||p(e,r))return 0;var o=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===o)return 0;var n=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===n)return 0;var i=v(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===i)return 0;var a=v(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===a?0:Math.min(o,n,i,a)}function p(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function h(t,e,r){for(var o,n,i,a,s=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),p=r.search({minX:s,minY:u,maxX:l,maxY:c}),h=0;h<p.length;h++)if(o=p[h].p,n=p[h].next.p,i=t,o!==(a=e)&&n!==i&&f(o,n,i)>0!=f(o,n,a)>0&&f(i,a,o)>0!=f(i,a,n)>0)return!1;return!0}function f(t,e,r){return a(t[0],t[1],e[0],e[1],r[0],r[1])}function d(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function m(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function g(t,e){var r=t[0]-e[0],o=t[1]-e[1];return r*r+o*o}function y(t,e,r){var o=e[0],n=e[1],i=r[0]-o,a=r[1]-n;if(0!==i||0!==a){var s=((t[0]-o)*i+(t[1]-n)*a)/(i*i+a*a);s>1?(o=r[0],n=r[1]):s>0&&(o+=i*s,n+=a*s)}return(i=t[0]-o)*i+(a=t[1]-n)*a}function v(t,e,r,o,n,i,a,s){var u,l,c,p,h=r-t,f=o-e,d=a-n,m=s-i,g=t-n,y=e-i,v=h*h+f*f,w=h*d+f*m,M=d*d+m*m,b=h*g+f*y,P=d*g+m*y,C=v*M-w*w,x=C,S=C;0===C?(l=0,x=1,p=P,S=M):(p=v*P-w*b,(l=w*P-M*b)<0?(l=0,p=P,S=M):l>x&&(l=x,p=P+w,S=M)),p<0?(p=0,-b<0?l=0:-b>v?l=x:(l=-b,x=v)):p>S&&(p=S,-b+w<0?l=0:-b+w>v?l=x:(l=-b+w,x=v));var E=(1-(c=0===p?0:p/S))*n+c*a-((1-(u=0===l?0:l/x))*t+u*r),O=(1-c)*i+c*s-((1-u)*e+u*o);return E*E+O*O}function w(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}t.exports=s,t.exports.default=s},d2j8:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"g",(function(){return i})),r.d(e,"h",(function(){return a})),r.d(e,"f",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"i",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return p})),r.d(e,"d",(function(){return h}));var o={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325};function n(t,e,r){if(!h(r=r||{}))throw new Error("options is invalid");var o=r.bbox,n=r.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");o&&f(o),n&&d(n);var i={type:"Feature"};return n&&(i.id=n),o&&(i.bbox=o),i.properties=e||{},i.geometry=t,i}function i(t,e,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function a(t,e,r){if(!t)throw new Error("coordinates is required");for(var o=0;o<t.length;o++){var i=t[o];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++){if(0===o&&0===a&&!p(i[0][0])||!p(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:t},e,r)}function s(t,e,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!p(t[0][1])||!p(t[0][1]))throw new Error("coordinates must contain numbers");return n({type:"LineString",coordinates:t},e,r)}function u(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var r=o[e||"kilometers"];if(!r)throw new Error(e+" units is invalid");return t/r}function l(t){if(null==t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function c(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function h(t){return!!t&&t.constructor===Object}function f(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))}function d(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},eDQc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapConstants=void 0;var o=function(){function t(){}return t.ControlTypes={Navigation:"Navigation",Scale:"Scale",Geolocate:"Geolocate",FullScreen:"FullScreen",MiniMap:"MiniMap"},t.EventTypes={click:"click",dblclick:"dblclick",movestart:"movestart",moveend:"moveend",zoomstart:"zoomstart",zoomend:"zoomend"},t}();e.MapConstants=o},ffcd:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransformUtils=void 0;var o=function(){function t(){}return t.BD09ToGCJ2=function(t,e){var r=t-.0065,o=e-.006,n=Math.sqrt(r*r+o*o)-2e-5*Math.sin(o*this.x_PI),i=Math.atan2(o,r)-3e-6*Math.cos(r*this.x_PI);return[n*Math.cos(i),n*Math.sin(i)]},t.GCJ2ToBD09=function(t,e){var r=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*this.x_PI),o=Math.atan2(e,t)+3e-6*Math.cos(t*this.x_PI);return[r*Math.cos(o)+.0065,r*Math.sin(o)+.006]},t.WGSToGCJ2=function(t,e){if(this.out_of_china(t,e))return[t,e];var r=this.transformLat(t-105,e-35),o=this.transformLon(t-105,e-35),n=e/180*this.PI,i=Math.sin(n);i=1-this.ee*i*i;var a=Math.sqrt(i);return r=180*r/(this.a*(1-this.ee)/(i*a)*this.PI),[t+(o=180*o/(this.a/a*Math.cos(n)*this.PI)),e+r]},t.GCJ2ToWGS=function(t,e){if(this.out_of_china(t,e))return[t,e];var r=this.transformLat(t-105,e-35),o=this.transformLon(t-105,e-35),n=e/180*this.PI,i=Math.sin(n);i=1-this.ee*i*i;var a=Math.sqrt(i);return r=180*r/(this.a*(1-this.ee)/(i*a)*this.PI),[2*t-(t+(o=180*o/(this.a/a*Math.cos(n)*this.PI))),2*e-(e+r)]},t.transformLat=function(t,e){var r=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return r+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,r+=2*(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))/3,r+=2*(160*Math.sin(e/12*this.PI)+320*Math.sin(e*this.PI/30))/3},t.transformLon=function(t,e){var r=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return r+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,r+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,r+=2*(150*Math.sin(t/12*this.PI)+300*Math.sin(t/30*this.PI))/3},t.out_of_china=function(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1},t.BD09ToWGS=function(t,e){var r=this.BD09ToGCJ2(t,e);return this.GCJ2ToWGS(r[0],r[1])},t.WGSToBD09=function(t,e){var r=this.WGSToGCJ2(t,e);return this.GCJ2ToBD09(r[0],r[1])},t.lonLat2Mercator=function(t,e){var r=20037508.34*t/180,o=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return[r,o=20037508.34*o/180]},t.Mercator2lonLat=function(t,e){var r=e/20037508.34*180;return[t/20037508.34*180,r=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2)]},t.x_PI=52.35987755982988,t.PI=3.141592653589793,t.a=6378245,t.ee=.006693421622965943,t}();e.TransformUtils=o},"g+WE":function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineString=void 0;var i=r("HDVh"),a=r("iHm6"),s=function(t){function e(e){var r=t.call(this,e)||this;return r.geometry.type=a.Constants.geojsonTypes.LINE_STRING,r.geometry.coordinates=e,r}return n(e,t),e.prototype.isValid=function(){return this.geometry.coordinates.length>1},e.prototype.addCoordinate=function(t,e,r){var o=parseInt(t,10);this.geometry.coordinates.splice(o,0,[e,r])},e.prototype.getCoordinate=function(t){var e=parseInt(t,10);return this.geometry.coordinates[e]},e.prototype.removeCoordinate=function(t){this.geometry.coordinates.splice(parseInt(t,10),1)},e.prototype.updateCoordinate=function(t,e,r){var o=parseInt(t,10);this.geometry.coordinates[o]=[e,r]},e}(i.Feature);e.LineString=s},gI2k:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlMeasure=void 0;var o=function(){function t(t){this.DEFAULT_RADIUS=6371008.8,this.hasInit=!1,this.map=t}return t.prototype.lineMeasure=function(){this.init(),this.createMeasureTooltip(this.map.getMap()),this.drawLine(this.map.getMap(),this.onDrawstart,this.onDrawend,this)},t.prototype.areaMeasure=function(){this.init(),this.createMeasureTooltip(this.map.getMap()),this.drawPolygon(this.map.getMap(),this.onDrawstart,this.onDrawend,this)},t.prototype.clear=function(){this.stopDraw(),this.measureSource.clear(),this.map.getMap().getOverlays().clear()},t.prototype.init=function(){this.hasInit||(this.hasInit=!0,this.measureSource=new ol.source.Vector({wrapX:!1}),this.measureLayer=new ol.layer.Vector({source:this.measureSource,zIndex:100,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})})}),this.map.getMap().addLayer(this.measureLayer))},t.prototype.stopDraw=function(){null!=this.curDraw&&this.map.getMap().removeInteraction(this.curDraw)},t.prototype.drawLine=function(t,e,r,o){null!=this.curDraw&&t.removeInteraction(this.curDraw),this.addInteraction(t,"LineString",e,r,o)},t.prototype.drawPolygon=function(t,e,r,o){null!=this.curDraw&&t.removeInteraction(this.curDraw),this.addInteraction(t,"Polygon",e,r,o)},t.prototype.addInteraction=function(t,e,r,o,n){this.curDraw=new ol.interaction.Draw({source:this.measureSource,type:e,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255,255,255,0.2)"}),stroke:new ol.style.Stroke({color:"rgba(0,0,0,0.5)",lineDash:[10,10],width:2}),image:new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"rgba(0,0,0,0.7)"}),fill:new ol.style.Fill({color:"rgba(255,255,255,0.2)"})})})}),this.curDraw.on("drawend",(function(t){null!=o&&o(t,n)}),n),this.curDraw.on("drawstart",(function(t){null!=r&&r(t,n)}),n),t.addInteraction(this.curDraw)},t.prototype.onDrawstart=function(t,e){e.sketch=t.feature;var r=t.coordinate;e.sketch.getGeometry().on("change",(function(t){var o,n=t.target;n instanceof ol.geom.Polygon?(o=e.formatArea(n),r=n.getInteriorPoint().getCoordinates()):n instanceof ol.geom.LineString&&(o=e.formatLength(n),r=n.getLastCoordinate()),e.measureTooltipElement.innerHTML=o,e.measureTooltip.setPosition(r)}))},t.prototype.onDrawend=function(t,e){e.measureTooltipElement.className="tooltip tooltip-static",e.measureTooltip.setOffset([0,-7]),e.sketch=null,e.measureTooltipElement=null,e.createMeasureTooltip(e.map.getMap()),e.stopDraw()},t.prototype.formatLength=function(t){var e=this.map.getMap().getView().getProjection(),r=this.getLength(t,{projection:e});return r>1e3?Math.round(r/1e3*100)/100+' 千米 <span style="cursor: pointer;color: #ff0000;font-size: 12px;">清除测距</span>':Math.round(100*r)/100+' 米 <span style="cursor: pointer;color: #ff0000;font-size: 12px;">清除测距</span>'},t.prototype.formatArea=function(t){var e=this.map.getMap().getView().getProjection(),r=this.getArea(t,{projection:e});return r>1e4?Math.round(r/1e6*100)/100+' 平方千米 <span style="cursor: pointer;color: #ff0000;font-size: 12px;">清除面积</span>':Math.round(100*r)/100+' 平方米 <span style="cursor: pointer;color: #ff0000;font-size: 12px;">清除面积</span>'},t.prototype.createMeasureTooltip=function(t){this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltipElement.addEventListener("click",this.clear.bind(this)),this.measureTooltip=new ol.Overlay({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),t.addOverlay(this.measureTooltip)},t.prototype.getLength=function(t,e){var r=e||{},o=r.radius||this.DEFAULT_RADIUS,n=r.projection||"EPSG:3857",i=t.getType();"GeometryCollection"!==i&&(t=t.clone().transform(n,"EPSG:4326"));var a,s,u,l,c,p,h=0;switch(i){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":a=t.getCoordinates(),h=this.getLengthInternal(a,o);break;case"MultiLineString":case"Polygon":for(u=0,l=(a=t.getCoordinates()).length;u<l;++u)h+=this.getLengthInternal(a[u],o);break;case"MultiPolygon":for(u=0,l=(a=t.getCoordinates()).length;u<l;++u)for(c=0,p=(s=a[u]).length;c<p;++c)h+=this.getLengthInternal(s[c],o);break;case"GeometryCollection":var f=t.getGeometries();for(u=0,l=f.length;u<l;++u)h+=this.getLength(f[u],e);break;default:throw new Error("Unsupported geometry type: "+i)}return h},t.prototype.getArea=function(t,e){var r=e||{},o=r.radius||this.DEFAULT_RADIUS,n=r.projection||"EPSG:3857",i=t.getType();"GeometryCollection"!==i&&(t=t.clone().transform(n,"EPSG:4326"));var a,s,u,l,c,p,h=0;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(a=t.getCoordinates(),h=Math.abs(this.getAreaInternal(a[0],o)),u=1,l=a.length;u<l;++u)h-=Math.abs(this.getAreaInternal(a[u],o));break;case"MultiPolygon":for(u=0,l=(a=t.getCoordinates()).length;u<l;++u)for(s=a[u],h+=Math.abs(this.getAreaInternal(s[0],o)),c=1,p=s.length;c<p;++c)h-=Math.abs(this.getAreaInternal(s[c],o));break;case"GeometryCollection":var f=t.getGeometries();for(u=0,l=f.length;u<l;++u)h+=this.getArea(f[u],e);break;default:throw new Error("Unsupported geometry type: "+i)}return h},t.prototype.getLengthInternal=function(t,e){for(var r=0,o=0,n=t.length;o<n-1;++o)r+=this.getDistance(t[o],t[o+1],e);return r},t.prototype.getAreaInternal=function(t,e){for(var r=0,o=t.length,n=t[o-1][0],i=t[o-1][1],a=0;a<o;a++){var s=t[a][0],u=t[a][1];r+=this.toRadians(s-n)*(2+Math.sin(this.toRadians(i))+Math.sin(this.toRadians(u))),n=s,i=u}return r*e*e/2},t.prototype.getDistance=function(t,e,r){var o=r||this.DEFAULT_RADIUS,n=this.toRadians(t[1]),i=this.toRadians(e[1]),a=(i-n)/2,s=this.toRadians(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},t.prototype.toRadians=function(t){return t*Math.PI/180},t}();e.OlMeasure=o},iHm6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0;var o=function(){function t(){}return t.geojsonTypes={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},t.meta={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},t.LAT_MIN=-90,t.LAT_RENDERED_MIN=-85,t.LAT_MAX=90,t.LAT_RENDERED_MAX=85,t.LNG_MIN=-270,t.LNG_MAX=270,t}();e.Constants=o},itw6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EvenType=void 0,function(t){t.CLICK="click",t.MOUSE_MOVE="mousemove"}(e.EvenType||(e.EvenType={}))},jYz8:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventResult=void 0;var o=function(){this.lngLat={lng:null,lat:null},this.point={x:null,y:null},this.type="",this.preventDefault=null};e.EventResult=o},nC61:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapParas=void 0;var o=function(){this.projection="EPSG:4326",this.zoom=10,this.maxZoom=24,this.minZoom=1,this.center=[113.26388,23.12946],this.style="mapbox://styles/mapbox/outdoors-v10",this.fullExtent=null,this.preserveDrawingBuffer=!0,this.strategy=["mapboxgl","openlayers","leaflet","cesium"],this.controls=["Scale","Navigation"],this.zoomControl=!1,this.doubleTouch=!1};e.MapParas=o},o0BB:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var i=r("HDVh"),a=r("iHm6"),s=function(t){function e(e){var r=t.call(this,e)||this;return r.geometry.type=a.Constants.geojsonTypes.POLYGON,r.geometry.coordinates=e,r}return n(e,t),e.prototype.isValid=function(){return 0!==this.geometry.coordinates.length&&this.geometry.coordinates.every((function(t){return t.length>2}))},e.prototype.incomingCoords=function(t){this.geometry.coordinates=t.map((function(t){return t.slice(0,-1)}))},e.prototype.setCoordinates=function(t){this.geometry.coordinates=t},e.prototype.addCoordinate=function(t,e,r){var o=t.split(".").map((function(t){return parseInt(t,10)}));this.geometry.coordinates[o[0]].splice(o[1],0,[e,r])},e.prototype.removeCoordinate=function(t){var e=t.split(".").map((function(t){return parseInt(t,10)})),r=this.geometry.coordinates[e[0]];r&&(r.splice(e[1],1),r.length<3&&this.geometry.coordinates.splice(e[0],1))},e.prototype.getCoordinate=function(t){var e=t.split(".").map((function(t){return parseInt(t,10)}));return this.geometry.coordinates[e[0]][e[1]]},e.prototype.getCoordinates=function(){return this.geometry.coordinates.map((function(t){return t.concat([t[0]])}))},e.prototype.updateCoordinate=function(t,e,r){var o=t.split("."),n=parseInt(o[0],10),i=parseInt(o[1],10);void 0===this.geometry.coordinates[n]&&(this.geometry.coordinates[n]=[]),this.geometry.coordinates[n][i]=[e,r]},e}(i.Feature);e.Polygon=s},rI18:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("34V/"),n=r("5XcQ"),i=r("MDZM"),a=r("ffcd"),s=r("tN60");map.Container.set("DataUtils",o.DataUtils),map.Container.set("GeojsonUtils",n.GeojsonUtils),map.Container.set("TerraformerUtils",i.TerraformerUtils),map.Container.set("TransformUtils",a.TransformUtils),map.Container.set("TurfUtils",s.TurfUtils)},tN60:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TurfUtils=void 0;var n=o(r("BiYP")),i=o(r("tOww")),a=o(r("HMQD")),s=function(){function t(){}return t.turfArea=function(t){return n.default(t)},t.turfLength=function(t,e){return i.default(t,e)},t.turfCenterOfMass=function(t,e){return a.default(t,e)},t}();e.TurfUtils=s},tOww:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r("5rOH")),i=r("9tAk");e.default=function(t,e){return void 0===e&&(e={}),i.segmentReduce(t,(function(t,r){var o=r.geometry.coordinates;return t+n.default(o[0],o[1],e)}),0)}},uYpz:function(t,e){},vbmK:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var i=r("HDVh"),a=r("iHm6"),s=function(t){function e(e){var r=t.call(this,e)||this;return r.geometry.type=a.Constants.geojsonTypes.POINT,r.geometry.coordinates=e,r}return n(e,t),e.prototype.isValid=function(){return"number"==typeof this.geometry.coordinates[0]&&"number"==typeof this.geometry.coordinates[1]},e.prototype.updateCoordinate=function(t,e,r){this.geometry.coordinates=3===arguments.length?[e,r]:[t,e]},e.prototype.getCoordinate=function(){return this.getCoordinates()},e}(i.Feature);e.Point=s},w3ur:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OlMap=void 0;var o=r("nC61"),n=r("QaYo"),i=r("eDQc"),a=r("UpkK"),s=r("itw6"),u=r("5Q0C"),l=function(){function t(){this.SourcesCache=[],this.projection=""}return t.prototype.init=function(t,e,r){e=e||new o.MapParas,this.projection=e.projection;var n={resolutions:this.getdefaultResolutions(this.projection)};if(map.Factory.copy(e,n,!0),this.pmap=new ol.Map({target:t,controls:ol.control.defaults({attributionOptions:{collapsible:!1},attribution:!1,rotate:!1,zoom:!1}),view:new ol.View(n)}),this.mapParam=e,this.setStyle(e.style),e.controls&&e.controls.length>0)for(var a=0;a<e.controls.length;a++){var s=e.controls[a];s===i.MapConstants.ControlTypes.Scale&&this.addControl(i.MapConstants.ControlTypes.Scale,{maxWidth:80,unit:"metric"}),s===i.MapConstants.ControlTypes.Navigation&&this.addControl(i.MapConstants.ControlTypes.Navigation,{position:"bottom-right"})}var u=this;this.pmap.once("postrender",(function(){r&&r(u)}))},t.prototype.resize=function(){this.pmap.updateSize()},t.prototype.setStyle=function(t){null!==t&&""!==t&&this.setStyleEx(t)},t.prototype.setStyleEx=function(t){"string"==typeof t?t.startsWith("mapbox://")?this.loadMapboxStyle(t):t.startsWith("fm://")?this.loadFmStyle(t):t.startsWith("minemap://")?this.loadMineStyle(t):this.loadStyle(t):this.loadStyle(t)},t.prototype.loadStyle=function(t){mapboxGlStyleSpecificationForOl.OlMapboxIndex.loadOlByMbStyle(this.pmap,t).then((function(){})).catch((function(){throw new Error("Failed to set Style")}))},t.prototype.loadFmStyle=function(t){var e=this,r=t.replace("fm://",map.Config.BaseUrl);a.StyleLoadService.loadFMMapStyle(r,(function(t){e.loadStyle(t)}),(function(){throw new Error("Failed to load Style")}))},t.prototype.loadMineStyle=function(t){var e=this,r=t.replace("minemap://",map.Config.BaseUrl);a.StyleLoadService.loadMineMapStyle(r,(function(t){e.loadStyle(t)}),(function(){throw new Error("Failed to load Style")}))},t.prototype.loadMapboxStyle=function(t){var e=t.replace("mapbox://styles/","");e="https://api.mapbox.com/styles/v1/"+e+"?access_token="+map.Config.MapboxAccessToken,this.loadStyle(e)},t.prototype.fullExtent=function(){var t=this.mapParam.fullExtent;t&&this.flyTo(t)},t.prototype.getExtent=function(){var t=this.pmap.getView().calculateExtent(this.pmap.getSize());return{xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]}},t.prototype.addControl=function(t,e){if(e=e||new n.MapControlParas,this.pmap)switch(t){case"Zoomslider":if(this.ZoomSliderControl)return;this.ZoomSliderControl=new ol.control.ZoomSlider(e),this.pmap.addControl(this.ZoomSliderControl);break;case"Rotate":if(this.RotateControl)return;this.RotateControl=new ol.control.Rotate(e),this.pmap.addControl(this.RotateControl);break;case"AttributionControl":if(this.AttributionControl)return;this.AttributionControl=new ol.control.Attribution(e),this.pmap.addControl(this.AttributionControl);break;case"MousePosition":if(this.MousePositionControl)return;this.MousePositionControl=new ol.control.MousePosition(e),this.pmap.addControl(this.MousePositionControl);break;case i.MapConstants.ControlTypes.MiniMap:if(this.OverviewMapControl)return;"top-right"===e.position?e.className="ol-overviewmap ol-overviewmap-top-right":"top-left"===e.position?e.className="ol-overviewmap ol-overviewmap-top-left":"bottom-right"===e.position?e.className="ol-overviewmap ol-overviewmap-bottom-right":"bottom-left"===e.position&&(e.className="ol-overviewmap ol-overviewmap-bottom-left"),this.OverviewMapControl=new ol.control.OverviewMap(e),this.pmap.addControl(this.OverviewMapControl);break;case i.MapConstants.ControlTypes.Navigation:if(this.ZoomControl)return;"top-right"===e.position?e.className="ol-zoom-top-right":"top-left"===e.position?e.className="ol-zoom-top-left":"bottom-right"===e.position?e.className="ol-zoom-bottom-right":"bottom-left"===e.position&&(e.className="ol-zoom-bottom-left"),this.ZoomControl=new ol.control.Zoom(e),this.pmap.addControl(this.ZoomControl);break;case i.MapConstants.ControlTypes.Geolocate:break;case i.MapConstants.ControlTypes.Scale:if(this.ScaleLineControl)return;this.ScaleLineControl=new ol.control.ScaleLine(e),this.pmap.addControl(this.ScaleLineControl);break;case i.MapConstants.ControlTypes.FullScreen:if(this.FullScreenControl)return;"top-right"===e.position?e.className="ol-full-screen-top-right":"top-left"===e.position?e.className="ol-full-screen-top-left":"bottom-right"===e.position?e.className="ol-full-screen-bottom-right":"bottom-left"===e.position&&(e.className="ol-full-screen-bottom-left"),this.FullScreenControl=new ol.control.FullScreen(e),this.pmap.addControl(this.FullScreenControl)}},t.prototype.removeControl=function(t){if(this.pmap)switch(t){case"Zoomslider":this.ZoomSliderControl&&this.pmap.removeControl(this.ZoomSliderControl),this.ZoomSliderControl=null;break;case i.MapConstants.ControlTypes.MiniMap:this.OverviewMapControl&&this.pmap.removeControl(this.OverviewMapControl),this.OverviewMapControl=null;break;case"MousePosition":this.MousePositionControl&&this.pmap.removeControl(this.MousePositionControl),this.MousePositionControl=null;break;case i.MapConstants.ControlTypes.Navigation:this.ZoomControl&&this.pmap.removeControl(this.ZoomControl),this.ZoomControl=null;break;case"Geolocate":this.GeolocationControl&&this.pmap.removeControl(this.GeolocationControl),this.GeolocationControl=null;break;case"AttributionControl":this.AttributionControl&&this.pmap.removeControl(this.AttributionControl),this.AttributionControl=null;break;case"Scale":this.ScaleLineControl&&this.pmap.removeControl(this.ScaleLineControl),this.ScaleLineControl=null;break;case i.MapConstants.ControlTypes.FullScreen:this.FullScreenControl&&this.pmap.removeControl(this.FullScreenControl),this.FullScreenControl=null;break;case"Rotate":this.RotateControl&&this.pmap.removeControl(this.RotateControl),this.RotateControl=null}},t.prototype.on=function(t,e,r){switch(t){case s.EvenType.CLICK:u.OlEvent.clickEvent(s.EvenType.CLICK,this.pmap,e);break;case s.EvenType.MOUSE_MOVE:u.OlEvent.mouseMoveEvent(s.EvenType.MOUSE_MOVE,this.pmap,e);break;default:"zoomstart"===t&&(t="movestart"),"zoomend"===t&&(t="moveend"),this.pmap.on(t,e)}},t.prototype.un=function(t,e,r){"zoomstart"===t&&(t="movestart"),"zoomend"===t&&(t="moveend"),this.pmap.un(t,e)},t.prototype.getZoom=function(){return this.pmap.getView().getZoom()},t.prototype.getCenter=function(){var t=this.pmap.getView().calculateExtent(this.pmap.getSize());return ol.extent.getCenter(t)},t.prototype.getMap=function(){return this.pmap},t.prototype.exportPng=function(t){var e=this.pmap;e.once("rendercomplete",(function(e){var r=document.getElementsByClassName("ol-layer")[0].childNodes[0];navigator.msSaveBlob?navigator.msSaveBlob(r.msToBlob(),t+".png"):r.toBlob((function(e){"undefined"!=typeof saveAs?saveAs(e,t+".png"):map.Factory.loadJS(map.Factory.filePath+"script/utils/FileSaver.min.js",(function(){saveAs(e,t+".png")}))}))})),e.renderSync()},t.prototype.exportPdf=function(t,e){var r=this;this.pmap.once("rendercomplete",(function(o){var n=document.getElementsByClassName("ol-layer")[0].childNodes[0],i=e&&e.width?e.width:n.width,a=e&&e.height?e.height:n.height;"undefined"!=typeof jsPDF?r.savepdf(n,t,i,a):map.Factory.loadJS(map.Factory.filePath+"script/utils/jspdf.min.js",(function(){r.savepdf(n,t,i,a)}))})),this.pmap.renderSync()},t.prototype.savepdf=function(t,e,r,o){var n=new jsPDF({orientation:r>o?"l":"p",unit:"mm",format:[r,o],compress:!0});n.addImage(t.toDataURL("image/png"),"png",0,0,r,o,null,"FAST"),n.save(e+".pdf")},t.prototype.flyTo=function(t){var e=[t.xmin,t.ymin,t.xmax,t.ymax];this.pmap.getView().fit(e,{size:this.pmap.getSize(),padding:[0,0,0,0],constrainResolution:!1,nearest:!1,minResolution:0,callback:function(){}})},t.prototype.fitBounds=function(t,e){this.getMap().getView().fit(t,e)},t.prototype.easeTo=function(t){var e=t.zoom||this.getZoom();this.getMap().getView().animate({center:t.center,zoom:e})},t.prototype.zoomToPoint=function(t,e,r){r=r||this.getZoom(),this.getMap().getView().animate({center:[t,e],zoom:r})},t.prototype.zoomToLevel=function(t,e,r){var o=null;o=e&&r?[e,r]:this.getCenter(),this.getMap().getView().animate({center:o,zoom:t})},t.prototype.zoomToExtent=function(t){this.getMap().getView().fit(t)},t.prototype.setEdgeAutoExtend=function(t){},t.prototype.addSource=function(t,e){return""==t||this.SourcesCache.length>0&&this.SourcesCache.forEach((function(e){if(e.id==t)throw new Error("souece ID: "+t+"已存在")})),null},t.prototype.addLayer=function(t,e,r,o){if(""==t)return null;this.LayersCache.length>0&&this.LayersCache.forEach((function(e){if(e.id==t)throw new Error("Layer ID: "+t+"已添加")}));var n=this.SourcesCache.find((function(t){return t.id==e}));if(null==n)throw new Error("Source : "+e+"不存在");return e=n.sourcePara.serverType?mapboxGlStyleSpecificationForOl.OlLayerUtil.getlayer(n.sourcePara):this.getSourceByType(n.sourcePara),null},t.prototype.getAllLayer=function(){throw new Error("Method not implemented.")},t.prototype.getSource=function(t){return null},t.prototype.getLayer=function(t){return null},t.prototype.getLayers=function(t){return null},t.prototype.getLayersBySource=function(t){return null},t.prototype.getSourceByType=function(t){var e;switch(t.type){case"vector":e=mapboxGlStyleSpecificationForOl.OlMapboxIndex.setupVectorSource(t,this.projection);break;case"raster":e=mapboxGlStyleSpecificationForOl.OlMapboxIndex.setupRasterSource(t,this.projection);break;case"geojson":e=mapboxGlStyleSpecificationForOl.OlMapboxIndex.setupGeoJSONSource(t,this.projection);break;default:throw new Error("Unsupported souece type: "+t.type)}return e},t.prototype.getdefaultResolutions=function(t){return"EPSG:4326"==t?this.defaultResolutions():this.defaultMecResolutions()},t.prototype.defaultResolutions=function(){for(var t=[],e=360/512;t.length<=22;e/=2)t.push(e);return t},t.prototype.defaultMecResolutions=function(){for(var t=[],e=78271.51696401172;t.length<=22;e/=2)t.push(e);return t},t.prototype.queryRenderedFeaturesByPixel=function(t,e,r){return null},t.prototype.queryRenderedFeaturesByPoint=function(t,e,r){throw new Error("Method not implemented.")},t.prototype.project=function(t){return this.pmap.getPixelFromCoordinate(t)},t.prototype.unproject=function(t){return this.pmap.getCoordinateFromPixel(t)},t}();e.OlMap=l},xl7n:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("3XrA");e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&o.isNumber(e[0])&&o.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var o=0,n=t.features;o<n.length;o++){var i=n[o];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+i.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}}})}));