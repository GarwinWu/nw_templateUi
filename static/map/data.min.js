!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.data=t():e.data=t()}(window,function(){return function(e){var t=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(e,o){!function(e,t){if(!E[e]||!_[e])return;for(var o in _[e]=!1,t)Object.prototype.hasOwnProperty.call(t,o)&&(y[o]=t[o]);0==--g&&0===v&&w()}(e,o),t&&t(e,o)};var o,n=!0,r="aa46a078fb2a329114f4",a=1e4,i={},c=[],s=[];function d(e){var t=O[e];if(!t)return P;var n=function(n){return t.hot.active?(O[n]?-1===O[n].parents.indexOf(e)&&O[n].parents.push(e):(c=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),P(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var a in P)Object.prototype.hasOwnProperty.call(P,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===p&&f("prepare"),v++,P.e(e).then(t,function(e){throw t(),e});function t(){v--,"prepare"===p&&(C[e]||R(e),0===v&&0===g&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),P.t(e,-2&t)},n}function u(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,o){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=o||function(){};else t._acceptedDependencies[e]=o||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._declinedDependencies[e[o]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var o=t._disposeHandlers.indexOf(e);o>=0&&t._disposeHandlers.splice(o,1)},check:I,apply:b,status:function(e){if(!e)return p;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[e]};return o=void 0,t}var l=[],p="idle";function f(e){p=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var m,y,h,g=0,v=0,C={},_={},E={};function S(e){return+e+""===e?+e:e}function I(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return n=e,f("check"),(t=a,t=t||1e4,new Promise(function(e,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var n=new XMLHttpRequest,a=P.p+""+r+".hot-update.json";n.open("GET",a,!0),n.timeout=t,n.send(null)}catch(e){return o(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)o(new Error("Manifest request to "+a+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)o(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void o(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;_={},C={},E=e.c,h=e.h,f("prepare");var t=new Promise(function(e,t){m={resolve:e,reject:t}});y={};return R(1),"prepare"===p&&0===v&&0===g&&w(),t});var t}function R(e){E[e]?(_[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=P.p+""+e+"."+r+".hot-update.js",document.head.appendChild(t)}(e)):C[e]=!0}function w(){f("ready");var e=m;if(m=null,e)if(n)Promise.resolve().then(function(){return b(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&t.push(S(o));e.resolve(t)}}function b(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var o,n,a,s,d;function u(e){for(var t=[e],o={},n=t.map(function(e){return{chain:[e],id:e}});n.length>0;){var r=n.pop(),a=r.id,i=r.chain;if((s=O[a])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(s.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<s.parents.length;c++){var d=s.parents[c],u=O[d];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([d]),moduleId:a,parentId:d};-1===t.indexOf(d)&&(u.hot._acceptedDependencies[a]?(o[d]||(o[d]=[]),l(o[d],[a])):(delete o[d],t.push(d),n.push({chain:i.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:o}}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var m={},g=[],v={},C=function(){console.warn("[HMR] unexpected require("+I.moduleId+") to disposed module")};for(var _ in y)if(Object.prototype.hasOwnProperty.call(y,_)){var I;d=S(_);var R=!1,w=!1,b=!1,D="";switch((I=y[_]?u(d):{type:"disposed",moduleId:_}).chain&&(D="\nUpdate propagation: "+I.chain.join(" -> ")),I.type){case"self-declined":t.onDeclined&&t.onDeclined(I),t.ignoreDeclined||(R=new Error("Aborted because of self decline: "+I.moduleId+D));break;case"declined":t.onDeclined&&t.onDeclined(I),t.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+I.moduleId+" in "+I.parentId+D));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(I),t.ignoreUnaccepted||(R=new Error("Aborted because "+d+" is not accepted"+D));break;case"accepted":t.onAccepted&&t.onAccepted(I),w=!0;break;case"disposed":t.onDisposed&&t.onDisposed(I),b=!0;break;default:throw new Error("Unexception type "+I.type)}if(R)return f("abort"),Promise.reject(R);if(w)for(d in v[d]=y[d],l(g,I.outdatedModules),I.outdatedDependencies)Object.prototype.hasOwnProperty.call(I.outdatedDependencies,d)&&(m[d]||(m[d]=[]),l(m[d],I.outdatedDependencies[d]));b&&(l(g,[I.moduleId]),v[d]=C)}var N,V=[];for(n=0;n<g.length;n++)d=g[n],O[d]&&O[d].hot._selfAccepted&&v[d]!==C&&V.push({module:d,errorHandler:O[d].hot._selfAccepted});f("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&function(e){delete installedChunks[e]}(e)});for(var T,k,M=g.slice();M.length>0;)if(d=M.pop(),s=O[d]){var j={},A=s.hot._disposeHandlers;for(a=0;a<A.length;a++)(o=A[a])(j);for(i[d]=j,s.hot.active=!1,delete O[d],delete m[d],a=0;a<s.children.length;a++){var B=O[s.children[a]];B&&((N=B.parents.indexOf(d))>=0&&B.parents.splice(N,1))}}for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=O[d]))for(k=m[d],a=0;a<k.length;a++)T=k[a],(N=s.children.indexOf(T))>=0&&s.children.splice(N,1);for(d in f("apply"),r=h,v)Object.prototype.hasOwnProperty.call(v,d)&&(e[d]=v[d]);var L=null;for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=O[d])){k=m[d];var U=[];for(n=0;n<k.length;n++)if(T=k[n],o=s.hot._acceptedDependencies[T]){if(-1!==U.indexOf(o))continue;U.push(o)}for(n=0;n<U.length;n++){o=U[n];try{o(k)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:k[n],error:e}),t.ignoreErrored||L||(L=e)}}}for(n=0;n<V.length;n++){var G=V[n];d=G.module,c=[d];try{P(d)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(o){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:o,originalError:e}),t.ignoreErrored||L||(L=o),L||(L=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||L||(L=e)}}return L?(f("fail"),Promise.reject(L)):(f("idle"),new Promise(function(e){e(g)}))}var O={};function P(t){if(O[t])return O[t].exports;var o=O[t]={i:t,l:!1,exports:{},hot:u(t),parents:(s=c,c=[],s),children:[]};return e[t].call(o.exports,o,o.exports,d(t)),o.l=!0,o.exports}return P.m=e,P.c=O,P.d=function(e,t,o){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(P.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)P.d(o,n,function(t){return e[t]}.bind(null,n));return o},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="",P.h=function(){return r},d("hfLc")(P.s="hfLc")}({"/Cjj":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.id="",this.name="",this.address="",this.type="",this.typecode="",this.typeinfo="",this.location="",this.naviLocation="",this.tel="",this.pcode="",this.citycode="",this.adcode="",this.pname="",this.cityname="",this.adname="",this.info=""};t.PoiInfo=n},"/VWe":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("1Csm"),r=function(){function e(){this.geoAttrSearch=new n.GeoAttributeWfsBaseService}return e.prototype.keyGeoSearch=function(e,t,o){var n="";n=0!=e.contains?e.keyField+" LIKE '%"+e.keyWord+"%'":"string"==typeof e.keyWord?e.keyField+" = '"+e.keyWord+"'":e.keyField+" = "+e.keyWord;var r={baseUrl:e.baseUrl,where:n,layerName:e.layerName,queryFields:e.queryFields};this.geoAttrSearch.attributeGeoSearch(r,t,o)},e}();t.GeoKeyWfsBaseService=r},"/obT":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.DrivingPolicy={RECOMMEND:0,LEAST_DISTANCE:1,FIRST_TRAFFIC:2,ECONOMY:3,OFTEN_WALK:4,BEST_OFTEN_WALK:5,ALL:6},e}();t.default=n},"1Csm":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("K2nT"),r=o("sCEe"),a=o("JpjK"),i=function(){function e(){}return e.prototype.attributeGeoSearch=function(e,t,o){var i=e.where.replace(/%/gi,"%25"),c=e.baseUrl+"?service=WFS&request=GetFeature&version=1.0.0&typename="+e.layerName+"&outputFormat=application/json&exceptions=application/json";e.inExtent&&e.extent&&(i=e.geometryField?i+" AND BBOX("+e.geometryField:i+" AND BBOX(geom",i+=","+e.extent.xmin+","+e.extent.ymin+","+e.extent.xmax+","+e.extent.ymax+")"),e.queryFields&&(c+="&propertyName="+e.queryFields),c+="&cql_filter="+i;var s=new a.SearchResult;map.Http.get(c,function(e){if(e&&e.features&&e.features.length>0){var o=new r.GeoJson;o.type=e.type;var a=0;e.features.forEach(function(e){var t=new n.Feture;t.type=e.type,t.properties=e.properties,t.geometry=e.geometry,o.features[a]=t,a++}),s.data=o,s.code="0"}t&&t(s)},function(e){if(s.code="-1",s.errmsg="属性查询失败!",!o)throw new Error(e);o(s)})},e}();t.GeoAttributeWfsBaseService=i},"6fU2":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.count=0,this.pois=[]};t.GeocodeList=n},A5yE:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=[],t}return r(t,e),t}(o("Bw0s").BaseResult);t.TipsSearchResult=a},Ahi2:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.type=""};t.Geometry=n},B5wp:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.id=0,this.distance=0,this.time=0,this.routelatlon="",this.name="",this.description="",this.turncode=0,this.turntype=0,this.turnlatlon="",this.turnDescription="",this.tmc=[]};t.DrivingItem=n},Bw0s:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.code="",this.errmsg=""};t.BaseResult=n},C37a:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Eed/"),r=function(){function e(){}return e.prototype.driving=function(e,t,o,r){"mine"===e&&n.MineSearchBaseService.Driving(t,o,r)},e}();t.LbsData=r},"Eed/":function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o("fEPK"),a=o("Vk3Q"),i=o("raKV"),c=o("B5wp"),s=o("MOZn"),d=n(o("/obT")),u=function(){function e(){}return e.Driving=function(e,t,o){var n=this,r=e.type||4,i=new a.DrivingResult,c=this.assemUrl(e);map.Http.get(c,function(o){if(!o||"0"!=o.errcode)throw new Error(o.errmsg);var a;if(i.code="0",1==r||o.data.length>1)i.data.count=o.data.length||0,i.data.rows=n.assemData(o.data,r),t&&t(i);else{a=n.assemData(o.data,r);var c=n.getOtherPolicy(r);e.type=c[0];var s=n.assemUrl(e);map.Http.get(s,function(o){if(!o||"0"!=o.errcode)throw new Error(o.errmsg);if(o.data&&o.data.rows&&o.data.rows.length>0){var r=n.assemData(o.data,c[0]);a[0].routelatlon!==r[0].routelatlon&&a.push(r[0])}e.type=c[1];var s=n.assemUrl(e);map.Http.get(s,function(e){if(!e||"0"!=e.errcode)throw new Error(e.errmsg);if(e.data&&e.data.rows&&e.data.rows.length>0){var o=n.assemData(e.data,c[0]);a.length>1?a[0].routelatlon!==o[0].routelatlon&&a[1].routelatlon!==o[0].routelatlon&&a.push(o[0]):1==a.length&&a[0].routelatlon!==o[0].routelatlon&&a.push(o[0])}i.data.count=a.length,i.data.rows=a,t&&t(i)})})}},function(e){if(i.code="-1",i.errmsg="驾车路径查询失败!",!o)throw new Error(e);o(i)})},e.assemUrl=function(e){var t={},o="";return 2==map.Config.SERVICE_VERSION?(o=map.Config.SERVICE_URL+"/route/driving3?",t={token:map.Config.MineAccessToken||"",sPoint:e.startPoint,ePoint:e.endPoint,wayPoints:e.wayPoints||"",st:this.tranferPolicy(e.type||4)}):3==map.Config.SERVICE_VERSION?(o=map.Config.SERVICE_URL+"/route/driving?",t={token:map.Config.MineAccessToken||"",sPoint:e.startPoint,ePoint:e.endPoint,wayPoints:e.wayPoints||"",type:e.type||0}):3.1===map.Config.SERVICE_VERSION?(o=map.Config.SERVICE_URL+"/lbs/route/driving3?",t={token:map.Config.MineAccessToken||"",sPoint:e.startPoint,ePoint:e.endPoint,wayPoints:e.wayPoints||"",type:e.type||0}):3.2===map.Config.SERVICE_VERSION&&(o=map.Config.SERVICE_URL+"/route/driving?",t={token:map.Config.MineAccessToken||"",sPoint:e.startPoint,ePoint:e.endPoint,wayPoints:e.wayPoints||"",type:e.type||0}),o+=r.UrlParamUtils.joinParamToUrl(t)},e.assemData=function(e,t){var o=[];if(2==map.Config.SERVICE_VERSION){if(e.rows&&e.rows.length>0)for(var n=0;n<e.rows.length;n++){var r=new i.DrivingInfo,a=e.rows[n];r.duration=a.duration,r.distance=a.distance,r.routelatlon=a.routelatlon,r.type=a.type||t;for(var d=0;d<a.item.length;d++){var u=a.item[d];(f=new c.DrivingItem).id=u.id,f.distance=u.distance,f.routelatlon=u.routelatlon,f.name=u.streetName,f.description=u.strguide,f.turncode=this.tranferTurnCode(u.turncode),f.turntype=u.turntype,f.turnlatlon=u.turnlatlon;for(var l=0;l<u.tmc.length;l++){var p=u.tmc[l];(m=new s.DrivingTmc).level=p.level,m.route=p.route,f.tmc.push(m)}r.item.push(f)}o.push(r)}}else if(3==map.Config.SERVICE_VERSION){if(e.rows&&e.rows.length>0)for(n=0;n<e.rows.length;n++){r=new i.DrivingInfo,a=e.rows[n];r.duration=a.duration,r.redlight=a.redlight,r.distance=a.distance,r.routelatlon=a.routelonlat,r.type=a.type||t;for(d=0;d<a.item.length;d++){u=a.item[d];(f=new c.DrivingItem).id=u.id,f.distance=u.distance,f.routelatlon=u.routelonlat,f.time=u.time,f.name=u.name,f.description=u.description,f.turncode=u.turncode,f.turntype=u.turntype,f.turnlatlon=u.turnlonlat,f.turnDescription=u.turnDescription;for(l=0;l<u.tmc.length;l++){p=u.tmc[l];(m=new s.DrivingTmc).level=p.level,m.route=p.route,f.tmc.push(m)}r.item.push(f)}o.push(r)}}else if(3.1==map.Config.SERVICE_VERSION){if(e.rows&&e.rows.length>0)for(n=0;n<e.rows.length;n++){r=new i.DrivingInfo,a=e.rows[n];r.duration=a.duration,r.redlight=a.redlight,r.distance=a.distance,r.routelatlon=a.routelonlat,r.type=a.type||t;for(d=0;d<a.item.length;d++){u=a.item[d];(f=new c.DrivingItem).id=u.id,f.distance=u.distance,f.routelatlon=u.routelonlat,f.time=u.time,f.name=u.name,f.description=u.description,f.turncode=u.turncode,f.turntype=u.turntype,f.turnlatlon=u.turnlonlat,f.turnDescription=u.turnDescription;for(l=0;l<u.tmc.length;l++){p=u.tmc[l];(m=new s.DrivingTmc).level=p.level,m.route=p.route,f.tmc.push(m)}r.item.push(f)}o.push(r)}}else if(3.2==map.Config.SERVICE_VERSION&&e.rows&&e.rows.length>0)for(n=0;n<e.rows.length;n++){r=new i.DrivingInfo,a=e.rows[n];r.duration=a.duration,r.redlight=a.redlight,r.distance=a.distance,r.routelatlon=a.routelonlat,r.type=a.type||t;for(d=0;d<a.item.length;d++){var f;u=a.item[d];(f=new c.DrivingItem).id=u.id,f.distance=u.distance,f.routelatlon=u.routelonlat,f.time=u.time,f.name=u.name,f.description=u.description,f.turncode=u.turncode,f.turntype=u.turntype,f.turnlatlon=u.turnlonlat,f.turnDescription=u.turnDescription;for(l=0;l<u.tmc.length;l++){var m;p=u.tmc[l];(m=new s.DrivingTmc).level=p.level,m.route=p.route,f.tmc.push(m)}r.item.push(f)}o.push(r)}return o},e.tranferTurnCode=function(e){var t=4;switch(e){case 0:break;case 1:t=7;break;case 2:case 12:case 13:t=2;break;case 3:case 14:case 15:t=6;break;case 4:case 8:t=0;break;case 5:case 9:t=4;break;case 6:t=1;break;case 7:case 10:case 11:t=5;break;case 16:t=8}return t},e.tranferPolicy=function(e){var t=4;switch(e){case d.default.DrivingPolicy.RECOMMEND:t=4;break;case d.default.DrivingPolicy.LEAST_DISTANCE:t=1;break;case d.default.DrivingPolicy.FIRST_TRAFFIC:t=0;break;case d.default.DrivingPolicy.ECONOMY:t=5}return t},e.getOtherPolicy=function(e){var t=[];return d.default.DrivingPolicy.FIRST_TRAFFIC===e||d.default.DrivingPolicy.ECONOMY===e?(t.push(d.default.DrivingPolicy.RECOMMEND),t.push(d.default.DrivingPolicy.LEAST_DISTANCE)):d.default.DrivingPolicy.LEAST_DISTANCE===e?(t.push(d.default.DrivingPolicy.RECOMMEND),t.push(d.default.DrivingPolicy.FIRST_TRAFFIC)):d.default.DrivingPolicy.RECOMMEND===e?(t.push(d.default.DrivingPolicy.LEAST_DISTANCE),t.push(d.default.DrivingPolicy.FIRST_TRAFFIC)):(t.push(d.default.DrivingPolicy.RECOMMEND),t.push(d.default.DrivingPolicy.LEAST_DISTANCE)),t},e}();t.MineSearchBaseService=u},FX6T:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("sCEe"),r=o("JpjK"),a=function(){function e(){}return e.prototype.keyArcSearch=function(e,t,o){var a=0!=e.contains,i=e.baseUrl+"/find?f=json&searchText="+e.keyWord+"&returnGeometry=true&layers="+e.layerName+"&contains="+a;e.queryFields&&(i+="&searchFields="+e.queryFields);var c=new r.SearchResult;map.Http.get(i,function(e){e&&e.results&&e.results.length>0&&(e.results.forEach(function(e){var t={};map.Factory.toLowerCopy(e.attributes,t,!0),e.attributes=t}),map.Factory.Utils("TerraformerUtils",function(o){var r=new n.GeoJson;r=o.ArcToGeoCollection(e.results),c.data=r,c.code="0",t&&t(c)}))},function(e){if(c.code="-1",c.errmsg="属性查询失败!",!o)throw new Error(e);o(c)})},e}();t.ArcKeyWmsBaseService=a},G0Ff:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={},t}return r(t,e),t}(o("Bw0s").BaseResult);t.MinePoiDetail=a},GNuO:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o("QcOd")),a=o("fEPK"),i=o("A5yE"),c=o("v0m7"),s=o("QmK0"),d=o("Qepj"),u=o("lteu"),l=o("n6ck"),p=o("kfoI"),f=o("G0Ff"),m=function(){function e(){}return e.suggestSearch=function(e,t,o){var n=this,r=new i.TipsSearchResult,a=this.assemSuggetUrl(e);map.Http.get(a,function(a){switch(map.Config.SERVICE_VERSION){case 2:case 3:if(!a||"0"!=a.errcode)return r.code="-1",r.errmsg=a.errmsg,void(o&&o(r));r.code="0";var i=a.data;(c=n.assemSuggestData(i)).pageIndex=e.page||1,r.data=c;break;case 3.1:if("0"==a.statusCode||"2"==a.statusCode)return r.code="-1",r.errmsg=a.statusInfo,void(o&&o(r));r.code="0",(c=n.assemSuggestData(a)).pageIndex=1,r.data=c;break;case 3.2:if("0"!=a.errcode)return r.code="-1",r.errmsg=a.statusInfo,void(o&&o(r));var c;r.code="0",(c=n.assemSuggestData(a)).pageIndex=1,r.data=c}t&&t(r)},function(e){if(r.code="-1",r.errmsg="提示性查询服务异常!",!o)throw new Error(e);o(r)})},e.assemSuggetUrl=function(e){var t,o;return 2===map.Config.SERVICE_VERSION?(t={keywords:r.default.ToDBC(e.key),city:e.adCode},o=map.Config.SERVICE_URL+"/search/suggest?"):3===map.Config.SERVICE_VERSION?(t={token:map.Config.MineAccessToken||"",key:r.default.ToDBC(e.key),adCode:e.adCode,cityName:e.cityName||null,location:e.location||null,page:e.page||1,count:e.count||10},o=map.Config.SERVICE_URL+"/search/tips?"):3.1===map.Config.SERVICE_VERSION?(t={token:map.Config.MineAccessToken||"",keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,curr_location:e.location||null,page_size:e.count||10,is_country_search:e.country_search||!1},o=map.Config.SERVICE_URL+"/lbs/search/suggest?"):3.2===map.Config.SERVICE_VERSION&&(t={token:map.Config.MineAccessToken||"",keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,location:e.location||null,page_size:e.count||10,show_type_brance:e.show_type_brance||!1},o=map.Config.SERVICE_URL+"/search/suggest?"),o+=a.UrlParamUtils.joinParamToUrl(t)},e.assemSuggestData=function(e){var t=new c.TipsList;if(2===map.Config.SERVICE_VERSION){t.count=e.total,t.recomadcode=e.recomadcode||"";for(var o=[],n=0;n<e.rows.length;n++){var a=new s.TipsInfo,i=e.rows[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.location||"",a.navLocation=i.location||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.type=i.type||"",o.push(a)}t.pois=o}else if(3===map.Config.SERVICE_VERSION){if(t.count=e.count,t.recomadcode=e.recomadcode||"",e.rows.length>0){for(o=[],n=0;n<e.rows.length;n++){a=new s.TipsInfo,i=e.rows[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.coordinates||"",a.navLocation=i.coordinates||"",a.tel=i.tel||"",a.adcode=i.adcode||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.country||"",o.push(a)}t.pois=o}}else if(3.1===map.Config.SERVICE_VERSION){t.count=e.total;o=[];if(e.pois&&e.pois.length>0){t.recomadcode=e.pois[0].city;for(n=0;n<e.pois.length;n++){a=new s.TipsInfo,i=e.pois[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.showLocation||"",a.navLocation=i.location||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.type=i.standbyTypeName||"",a.typecode=i.standbyTypeCode||"",o.push(a)}t.pois=o}}else if(3.2===map.Config.SERVICE_VERSION){t.count=e.total;o=[];if(e.list&&e.list.length>0){t.recomadcode=e.list[0].city;for(n=0;n<e.list.length;n++){a=new s.TipsInfo,i=e.list[n];a.id=i.id||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.showLocation||"",a.navLocation=i.location||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.type=i.standbyTypeName||"",a.typecode=i.standbyTypeCode||"",a.source=i.source||"",a.adcode=i.adcode||"",a.isSearch=i.isSearch||!1,o.push(a)}t.pois=o}}return t},e.keySearch=function(e,t,o){var n=this,r=this.assemKeyUrl(e),a=new d.MinePoiSearchResult;map.Http.get(r,function(r){switch(map.Config.SERVICE_VERSION){case 2:case 3:if(!r||"0"!=r.errcode)return a.code="-1",a.errmsg=r.errmsg,void(o&&o(a));a.code="0";var i=r.data,c=n.assemKeyData(i,e.page);a.data=c;break;case 3.1:if("0"==r.statusCode||"2"==r.statusCode)return a.code="-1",a.errmsg=r.statusInfo,void(o&&o(a));a.code="0";c=n.assemKeyData(r,e.page);a.data=c;break;case 3.2:if("0"!=r.errcode)return a.code="-1",a.errmsg=r.statusInfo,void(o&&o(a));a.code="0";c=n.assemKeyData(r,e.page);a.data=c}t&&t(a)},function(e){if(a.code="-1",a.errmsg="关键字查询服务异常!",!o)throw new Error(e);o(a)})},e.assemKeyUrl=function(e){var t,o;return 2===map.Config.SERVICE_VERSION?(t={keywords:r.default.ToDBC(e.key),city:e.adCode,location:e.location||"",search_type:"for_keywords",page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/search/keyword2?"):3===map.Config.SERVICE_VERSION?(t={token:map.Config.MineAccessToken||"",key:r.default.ToDBC(e.key),adCode:e.adCode,cityName:e.cityName||null,page:e.page||1,count:e.count||10},o=map.Config.SERVICE_URL+"/search/keyword?"):3.1===map.Config.SERVICE_VERSION?(t={token:map.Config.MineAccessToken||"",language:"zh_CN",keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,location:e.location||"",zoom:12,search_type:"for_keywords",page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/lbs/search/keyword2?"):3.2===map.Config.SERVICE_VERSION&&(t={token:map.Config.MineAccessToken||"",keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,location:e.location||"","filters.kind":e.type||null,"filters.distance":e.range||null,"filters.source":e.source||null,sort:e.sort||null,page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/search/keyword?"),o+=a.UrlParamUtils.joinParamToUrl(t)},e.assemKeyData=function(e,t){var o=new u.MinePoiList;if(2===map.Config.SERVICE_VERSION){if(o.count=e.total,o.pageIndex=e.page_num||t||1,e.pois.length>0){for(var n=[],a=0;a<e.pois.length;a++){var i=new l.MinePoiInfo,c=e.pois[a];i.id=c.nid||"",i.name=r.default.ToCDB(c.name||""),i.address=r.default.ToCDB(c.address||""),i.location=c.location||"",i.tel=c.phone||"",i.adcode=c.adcode||"",i.pname=c.province||"",i.cityname=c.city||"",i.adname=c.district||"",i.type=c.typeName||"",n.push(i)}o.pois=n}}else if(3===map.Config.SERVICE_VERSION){if(o.count=e.count,o.pageIndex=t||1,e.rows.length>0){for(n=[],a=0;a<e.rows.length;a++){i=new l.MinePoiInfo,c=e.rows[a];i.id=c.nid||"",i.name=r.default.ToCDB(c.name||""),i.address=r.default.ToCDB(c.address||""),i.location=c.coordinates||"",i.tel=c.tel||"",i.adcode=c.adcode||"",i.pname=c.province||"",i.cityname=c.city||"",i.adname=c.country||"",n.push(i)}o.pois=n}}else if(3.1===map.Config.SERVICE_VERSION){o.count=e.total,o.pageIndex=t||1;n=[];if(e.pois&&e.pois.length>0)for(a=0;a<e.pois.length;a++){i=new l.MinePoiInfo,c=e.pois[a];i.id=c.nid||"",i.name=r.default.ToCDB(c.name||""),i.address=r.default.ToCDB(c.address||""),i.location=c.location||"",i.naviLocation=c.naviLocation||"",i.tel=c.phone||"",i.citycode=e.currentDistrict.adcode||"",i.adcode=c.adcode||"",i.pname=c.province||"",i.cityname=c.city||"",i.adname=c.district||"",i.distance=c.distance||0,i.type=c.standbyTypeName||"",i.hit=c.hit||0,i.typecode=c.standbyTypeCode||"",i.source=c.rank||"",i.StationName=c.typeName||"",i.Voltage="5"!=c.rank&&c.brand||"",i.transfomerName="5"==c.rank?c.brand:"",n.push(i)}o.pois=n}else if(3.2===map.Config.SERVICE_VERSION){o.count=e.total,o.pageIndex=t||1;n=[];if(e.list&&e.list.length>0)for(a=0;a<e.list.length;a++){i=new l.MinePoiInfo,c=e.list[a];i.id=c.id||"",i.name=r.default.ToCDB(c.name||""),i.address=r.default.ToCDB(c.address||""),i.location=c.location||"",i.naviLocation=c.naviLocation||"",i.tel=c.phone||"",i.citycode=e.currentDistrict.adcode||"",i.adcode=c.adcode||"",i.pname=c.province||"",i.cityname=c.city||"",i.adname=c.district||"",i.distance=c.distance||0,i.type=c.standbyTypeName||"",i.hit=c.hit||0,i.typecode=c.standbyTypeCode||"",i.source=c.source||"",i.StationName=c.stationName||"",i.Voltage=c.voltage||"",i.transfomerName=c.traName||"",n.push(i)}o.pois=n}return o},e.aroundSearch=function(e,t,o){var n=this,r=this.assemArroundUrl(e),a=new d.MinePoiSearchResult;map.Http.get(r,function(r){switch(map.Config.SERVICE_VERSION){case 2:case 3:if(!r||"0"!=r.errcode)return a.code="-1",a.errmsg=r.errmsg,void(o&&o(a));a.code="0";var i=r.data;(c=n.assemArroundData(i)).pageIndex=e.page||1,a.data=c;break;case 3.1:if("0"==r.statusCode||"2"==r.statusCode)return a.code="-1",a.errmsg=r.statusInfo,void(o&&o(a));a.code="0",(c=n.assemArroundData(r)).pageIndex=e.page||1,a.data=c;break;case 3.2:if("0"!=r.errcode)return a.code="-1",a.errmsg=r.statusInfo,void(o&&o(a));var c;a.code="0",(c=n.assemArroundData(r)).pageIndex=e.page||1,a.data=c}t&&t(a)},function(e){if(a.code="-1",a.errmsg="POI周边查询服务异常!",!o)throw new Error(e);o(a)})},e.assemArroundUrl=function(e){var t,o;return 2===map.Config.SERVICE_VERSION?(t={keywords:r.default.ToDBC(e.key),city:e.adCode||null,location:e.location,range:e.range||3e3,search_type:"for_around",page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/search/keyword2?"):3===map.Config.SERVICE_VERSION?(t={token:map.Config.MineAccessToken||"",range:e.range||3e3,key:r.default.ToDBC(e.key),adCode:e.adCode||null,cityName:e.cityName||null,location:e.location,page:e.page||1,count:e.count||10},o=map.Config.SERVICE_URL+"/search/around?"):3.1===map.Config.SERVICE_VERSION?(t={keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,curr_location:e.location,range:e.range||3e3,search_type:"for_around",type:e.type||"",page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/lbs/search/around?"):3.2===map.Config.SERVICE_VERSION&&(t={keywords:r.default.ToDBC(e.key),city:e.adCode||e.cityName||null,location:e.location,"filters.distance":e.range||3e3,"filters.kind":e.type||null,"filters.source":e.source||null,sort:e.sort||null,page_num:e.page||1,page_size:e.count||10},o=map.Config.SERVICE_URL+"/search/keyword?"),o+=a.UrlParamUtils.joinParamToUrl(t)},e.assemArroundData=function(e){var t=new u.MinePoiList;if(2===map.Config.SERVICE_VERSION){t.count=e.total;for(var o=[],n=0;n<e.pois.length;n++){var a=new l.MinePoiInfo,i=e.pois[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.location||"",a.naviLocation=i.location||"",a.tel=i.phone||"",a.adcode=i.adcode||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.type=i.typeName||"",a.distance=i.distance||0,o.push(a)}t.pois=o}else if(3===map.Config.SERVICE_VERSION){t.count=e.count;for(o=[],n=0;n<e.rows.length;n++){a=new l.MinePoiInfo,i=e.rows[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.coordinates||"",a.naviLocation=i.coordinates||"",a.tel=i.tel||"",a.adcode=i.adcode||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.country||"",o.push(a)}t.pois=o}else if(3.1===map.Config.SERVICE_VERSION){t.count=e.total;o=[];if(e.pois&&e.pois.length>0)for(n=0;n<e.pois.length;n++){a=new l.MinePoiInfo,i=e.pois[n];a.id=i.nid||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.location||"",a.naviLocation=i.naviLocation||"",a.tel=i.phone||"",a.citycode=e.currentDistrict.adcode||"",a.adcode=i.adcode||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.distance=i.distance||0,a.type=i.standbyTypeName||"",a.hit=i.hit||0,a.typecode=i.standbyTypeCode||"",a.source=i.rank||"",a.StationName=i.typeName||"",a.Voltage="5"!=i.rank&&i.brand||"",a.transfomerName="5"==i.rank&&i.brand||"",o.push(a)}t.pois=o}else if(3.2===map.Config.SERVICE_VERSION){t.count=e.total;o=[];if(e.list&&e.list.length>0)for(n=0;n<e.list.length;n++){a=new l.MinePoiInfo,i=e.list[n];a.id=i.id||"",a.name=r.default.ToCDB(i.name||""),a.address=r.default.ToCDB(i.address||""),a.location=i.location||"",a.naviLocation=i.naviLocation||"",a.tel=i.phone||"",a.citycode=e.currentDistrict.adcode||"",a.adcode=i.adcode||"",a.pname=i.province||"",a.cityname=i.city||"",a.adname=i.district||"",a.distance=i.distance||0,a.type=i.standbyTypeName||"",a.hit=i.hit||0,a.typecode=i.standbyTypeCode||"",a.source=i.source||"",a.StationName=i.stationName||"",a.Voltage=i.voltage||"",a.transfomerName=i.traName||"",o.push(a)}t.pois=o}return t},e.detailSearch=function(e,t,o){var n,r,i=this,c=new f.MinePoiDetail;if(3.1===map.Config.SERVICE_VERSION)r={id:e.id},n=map.Config.SERVICE_URL+"/lbs/search/detail?";else{if(3.2!==map.Config.SERVICE_VERSION)return c.code="-1",c.errmsg="当前服务版本太低,不支持该函数!",void(o&&o(c));r={id:e.id,token:map.Config.MineAccessToken||""},n=map.Config.SERVICE_URL+"/search/detail?"}n+=a.UrlParamUtils.joinParamToUrl(r),map.Http.get(n,function(e){switch(map.Config.SERVICE_VERSION){case 3.1:if("0"==e.statusCode||"2"==e.statusCode)return c.code="-1",c.errmsg=e.statusInfo,void(o&&o(c));c.code="0";var n=i.assemDetailtData(e);c.data=n;break;case 3.2:if(!e||"0"!=e.errcode)return c.code="-1",c.errmsg=e.statusInfo,void(o&&o(c));c.code="0";n=i.assemDetailtData(e);c.data=n}t&&t(c)},function(e){if(c.code="-1",c.errmsg="提示性查询服务异常!",!o)throw new Error(e);o(c)})},e.assemDetailtData=function(e){var t=new p.MinePoiDetailInfo;if(3.1===map.Config.SERVICE_VERSION){if(e.pois&&e.pois.length>0){var o=e.pois[0];t.id=o.nid||"",t.name=r.default.ToCDB(o.name||""),t.address=r.default.ToCDB(o.address||""),t.location=o.location||"",t.naviLocation=o.naviLocation||"",t.tel=o.phone||"",t.citycode=e.currentDistrict.adcode||"",t.adcode=o.adcode||"",t.pname=o.province||"",t.cityname=o.city||"",t.adname=o.district||"",t.type=o.standbyTypeName||"",t.typecode=o.standbyTypeCode||"",t.hit=o.hit||0,this.assemDetailCustomDat(t,o)}}else if(3.2===map.Config.SERVICE_VERSION){o=e.data;t.id=o.id||"",t.name=r.default.ToCDB(o.name||""),t.address=r.default.ToCDB(o.address||""),t.location=o.lon+","+o.lat,t.naviLocation=o.navLon+","+o.navLat,t.tel=o.phone||"",t.adcode=o.adcode||"",t.type=o.kindName||"",t.typecode=o.kind||"",t.pname=o.province||"",t.cityname=o.city||"",t.adname=o.district||"",t.hit=o.hit||0,this.assemDetailCustomDat(t,o)}return t},e.assemDetailCustomDat=function(e,t){switch(map.Config.SERVICE_VERSION){case 3.1:var o="5"!=t.rank?t.brand:"",n="5"==t.rank?t.brand:"";if(t.extds&&t.extds.length>0){var r=t.extds[0];if(r&&r.details){var a=r.details;e.transfomerName=a.transfomerName||n||"",e.source=a.source||"",e.deviceID=a.deviceID||a.deviceId||"",e.StationName=a.StationName||t.typeName||"",e.Voltage=a.Voltage||o||"",e.manager=a.manager||""}}break;case 3.2:var i=t;e.transfomerName=i.traName||"",e.deviceID=i.deviceId||"",e.StationName=i.stationName||"",e.Voltage=i.voltage||"",e.manager=i.managerName||"",e.source=i.source||"",e.brandCode=i.brandCode||"",e.brandName=i.brandName||"",e.rank=i.rank||"",e.tag=i.tag||"",e.level=i.level||"",e.kindRank=i.kindRank||"",e.shape=i.shape||"",e.addressId=i.addressId||"",e.userId=i.userId||"",e.userName=i.userName||"",e.traId=i.traId||"",e.deviceKind=i.deviceKind||"",e.pgridId=i.pgridId||"",e.pgridName=i.pgridName||"",e.pburId=i.pburId||"",e.pburName=i.pburName||"",e.pburBrId=i.pburBrId||"",e.pburBrName=i.pburBrName||"",e.stationId=i.stationId||"",e.managerId=i.managerId||"",e.formerName=i.formerName||"",e.alias=i.alias||""}},e}();t.MineSearchBseService=m},IKP3:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.province="",this.city="",this.country="",this.poiName="",this.poiAddr="",this.poiHouseNum="",this.poiTel="",this.roadname="",this.id=""};t.ReGeocodeInfo=n},JpjK:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={},t}return r(t,e),t}(o("Bw0s").BaseResult);t.SearchResult=a},K2nT:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Ahi2"),r=function(){this.type="",this.properties={},this.geometry=new n.Geometry};t.Feture=r},L6WO:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("kCcL"),r=o("1Csm"),a=function(){function e(){this.arc=new n.ArcAttributeWmsBaseService,this.geo=new r.GeoAttributeWfsBaseService}return e.prototype.search=function(e,t,o,n){t.extent,"arcgis"===e&&this.arc.attributeArcSearch(t,o,n),"geoserver"===e&&this.geo.attributeGeoSearch(t,o,n)},e}();t.AttributeData=a},Lpfv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.id="",this.name="",this.address="",this.type="",this.typecode="",this.location="",this.naviLocation="",this.tel="",this.pcode="",this.citycode="",this.adcode="",this.pname="",this.cityname="",this.adname="",this.hit=0};t.PoiDetailInfo=n},MDZM:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.ArctoGeojson=function(e,t){return Terraformer.ArcGIS.parse(e,t)},e.GeojsonToArc=function(e,t){return Terraformer.ArcGIS.convert(e,t)},e.GeoGeometryToWkt=function(e){return Terraformer.WKT.convert(e)},e.WktToGeoGeometry=function(e){return Terraformer.WKT.parse(e)},e.ArcToGeoCollection=function(t){if(null==t||t.length<0)return null;var o=[];return t.forEach(function(t){var n={},r=e.ArctoGeojson(t.geometry);n.properties=t.attributes,n.type="Feature",n.geometry=r,o.push(n)}),{type:"FeatureCollection",features:o}},e.ArcToGeoJson=function(e){if(null==e)return null;var t=this.ArctoGeojson(e.geometry);return{properties:e.attributes?e.attributes:{},type:"Feature",geometry:t}},e}();t.TerraformerUtils=n},MOZn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.level=0,this.route=""};t.DrivingTmc=n},Nfuz:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.id="",this.name="",this.address="",this.type="",this.typeinfo="",this.location="",this.naviLocation="",this.tel="",this.pcode="",this.citycode="",this.adcode="",this.pname="",this.cityname="",this.adname="",this.info=""};t.GeocodeInfo=n},PHc4:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o("QcOd")),a=o("nQbI"),i=o("IKP3"),c=o("fEPK"),s=o("6fU2"),d=o("Nfuz"),u=o("Y3Yv"),l=o("ofVz"),p=o("vifD"),f=function(){function e(){}return e.geocodeSearch=function(e,t,o){var n,a,i=map.Config.MineAccessToken;if(2===map.Config.SERVICE_VERSION)n={city:e.adCode,keywords:r.default.ToDBC(e.key)},a=map.Config.SERVICE_URL+"/coder/geocoding2?";else if(3===map.Config.SERVICE_VERSION)n={token:i||"",adCode:e.adCode,cityName:e.cityName,count:e.count||10,key:r.default.ToDBC(e.key)},a=map.Config.SERVICE_URL+"/search/geocoding?";else if(3.1===map.Config.SERVICE_VERSION){var l=e.cityName;l||(l=e.adCode),n={token:i||"",city:l,page_size:e.count||10,page_num:e.page||1,keywords:r.default.ToDBC(e.key)},a=map.Config.SERVICE_URL+"/lbs/coder/geocoding2?"}else 3.2===map.Config.SERVICE_VERSION&&(n={adcode:e.adCode||e.cityName,keywords:r.default.ToDBC(e.key),page_size:e.count||10,page_num:e.page||1},a=map.Config.SERVICE_URL+"/coder/geocoding?");a+=c.UrlParamUtils.joinParamToUrl(n);var p=new u.GeoSearchResult;map.Http.get(a,function(e){if(e&&"0"==e.errcode){p.code="0";var n=e.data,a=new s.GeocodeList;if(2===map.Config.SERVICE_VERSION){if(a.count=n.total,n.rows.length>0){for(var i=[],c=n.currentDistrict||{},u=0;u<n.rows.length;u++){var l=new d.GeocodeInfo,f=n.rows[u];l.id=f.nid,l.name=r.default.ToCDB(f.name),l.address=r.default.ToCDB(f.address),l.location=f.location,l.naviLocation=f.location,l.tel=f.phone,l.adcode=c.adcode,l.pname=f.province,l.cityname=f.city,l.adname=f.district,i.push(l)}a.pois=i}}else if(3===map.Config.SERVICE_VERSION){if(a.count=n.count,n.rows.length>0){for(i=[],u=0;u<n.rows.length;u++){l=new d.GeocodeInfo,f=n.rows[u];l.id=f.nid,l.name=r.default.ToCDB(f.name),l.address=r.default.ToCDB(f.address),l.location=f.coordinates,l.naviLocation=f.coordinates,l.tel=f.tel,l.adcode=f.adcode,l.pname=f.province,l.cityname=f.city,l.adname=f.country,l.score=f.score,i.push(l)}a.pois=i}}else if(3.1===map.Config.SERVICE_VERSION){if(a.count=n.total,n.rows.length>0){for(i=[],u=0;u<n.rows.length;u++){l=new d.GeocodeInfo,f=n.rows[u];l.id=f.nid,l.name=r.default.ToCDB(f.name),l.address=r.default.ToCDB(f.address),l.location=f.location,l.naviLocation=f.naviLocation,l.tel=f.phone,l.adcode=f.city,l.pname=f.province,l.cityname=f.city,l.adname=f.district,l.score=f.score,i.push(l)}a.pois=i}}else if(3.2===map.Config.SERVICE_VERSION&&(a.count=e.total,e.list.length>0)){for(i=[],u=0;u<e.list.length;u++){l=new d.GeocodeInfo,f=e.list[u];l.id=f.id,l.name=r.default.ToCDB(f.name),l.address=r.default.ToCDB(f.address),l.location=f.lon+","+f.lat,l.naviLocation=f.lon+","+f.lat,l.tel=f.tel,l.adcode=f.adcode,l.pname=f.province,l.cityname=f.city,l.adname=f.district,i.push(l)}a.pois=i}p.data=a,t&&t(p)}else p.code="-1",p.errmsg=e.errmsg||"地理编码查询失败！",o&&o(p)},function(e){if(p.code="-1",p.errmsg="地理编码查询失败!",!o)throw new Error(e);o(p)})},e.reverseGeoCodeSearch1204=function(e,t,o){var n,r,a=map.Config.MineAccessToken;2===map.Config.SERVICE_VERSION?(n={location:e.location},r=map.Config.SERVICE_URL+"/coder/reverse-geocoding?"):3===map.Config.SERVICE_VERSION?(n={token:a||"",location:e.location},r=map.Config.SERVICE_URL+"/coder/reverseGeocoding?"):3.1===map.Config.SERVICE_VERSION?(n={token:a||"",location:e.location,road:1,detail:1,rowNumber:5},r=map.Config.SERVICE_URL+"/lbs/coder/reverse-geocoding?"):3.2===map.Config.SERVICE_VERSION&&(n={location:e.location},r=map.Config.SERVICE_URL+"/coder/reverseGeocoding?"),r+=c.UrlParamUtils.joinParamToUrl(n);var i=new l.ReGeoSearchResult;map.Http.get(r,function(e){e&&"0"==e.errcode?(i.code="0",i.data=e.data,t&&t(i)):(i.code="-1",i.errmsg=e.errmsg||"地理逆编码查询失败！",o&&o(i))},function(e){if(i.code="-1",i.errmsg="地理逆编码查询失败!",!o)throw new Error(e);o(i)})},e.reverseGeoCodeSearch=function(e,t,o){var n,a,s=map.Config.MineAccessToken;2===map.Config.SERVICE_VERSION?(n={location:e.location},a=map.Config.SERVICE_URL+"/coder/reverse-geocoding?"):3===map.Config.SERVICE_VERSION?(n={token:s||"",location:e.location},a=map.Config.SERVICE_URL+"/coder/reverseGeocoding?"):3.1===map.Config.SERVICE_VERSION?(n={token:s||"",location:e.location,road:1,detail:1,rowNumber:5},a=map.Config.SERVICE_URL+"/lbs/coder/reverse-geocoding?"):3.2===map.Config.SERVICE_VERSION&&(n={location:e.location},a=map.Config.SERVICE_URL+"/coder/reverseGeocoding?"),a+=c.UrlParamUtils.joinParamToUrl(n);var d=new l.ReGeoSearchResult;map.Http.get(a,function(e){if(e&&"0"==e.errcode){d.code="0";var n=new i.ReGeocodeInfo;2===map.Config.SERVICE_VERSION?(n.province=e.data.province.value,n.city=e.data.city.value,n.country=e.data.dist.value,n.poiName=e.data.poi,n.poiAddr=e.data.address,n.roadname=e.data.road.roadname):3===map.Config.SERVICE_VERSION?(n.province=e.data.province,n.city=e.data.city,n.country=e.data.country,n.poiName=r.default.ToCDB(e.data.poiName),n.poiAddr=r.default.ToCDB(e.data.poiAddr),n.roadname=e.data.roadname):3.1===map.Config.SERVICE_VERSION?(n.province=e.data.province.value,n.city=e.data.city.value,n.country=e.data.dist.value,n.poiName=r.default.ToCDB(e.data.poi||e.data.village.value),n.poiAddr=e.data.address,n.roadname=e.data.road.roadname):3.2===map.Config.SERVICE_VERSION&&(n.province=e.data.province,n.city=e.data.city,n.country=e.data.district,n.poiName=r.default.ToCDB(e.data.name),n.poiAddr=e.data.address,n.roadname=e.data.roadname,n.poiTel=e.data.tel,n.id=e.data.id,n.poiHouseNum=e.data.houseNum),d.data=n,t&&t(d)}else d.code="-1",d.errmsg=e.errmsg||"地理逆编码查询失败！",o&&o(d)},function(e){if(d.code="-1",d.errmsg="地理逆编码查询失败!",!o)throw new Error(e);o(d)})},e.adminByPoint=function(e,t,o){var n,r,i=map.Config.MineAccessToken;2===map.Config.SERVICE_VERSION?(n={token:i,location:e.location,source:3},r=map.Config.SERVICE_URL+"/search/adminByPoint?"):3===map.Config.SERVICE_VERSION?(n={token:i,location:e.location,source:3},r=map.Config.SERVICE_URL+"/search/adminByPoint?"):3.1===map.Config.SERVICE_VERSION?(n={token:i,location:e.location,source:3},r=map.Config.SERVICE_URL+"/lbs/search/adminByPoint?"):3.2===map.Config.SERVICE_VERSION&&(n={token:i,location:e.location},r=map.Config.SERVICE_URL+"/search/adminByPoint?"),r+=c.UrlParamUtils.joinParamToUrl(n);var s=new p.AdminSearchResult;map.Http.get(r,function(e){if(e&&"0"==e.errcode){s.code="0";var n=new a.AdminInfo;2===map.Config.SERVICE_VERSION?(n.province=e.data.province,n.city=e.data.city,n.adname=e.data.areaname,n.adcode=e.data.adcode,n.conter=[e.data.centerlon,e.data.centerlat]):3===map.Config.SERVICE_VERSION?(n.province=e.data.province,n.city=e.data.city,n.adname=e.data.country,n.adcode=e.data.adcode,n.conter=null):3.1===map.Config.SERVICE_VERSION?(n.province=e.data.province,n.city=e.data.city,n.adname=e.data.areaname,n.adcode=e.data.adcode,n.conter=[e.data.centerlon,e.data.centerlat]):3.2===map.Config.SERVICE_VERSION&&(n.province=e.data.province,n.city=e.data.city,n.adname=e.data.district,n.pcode=e.data.provinceCode+"",n.citycode=e.data.cityCode+"",n.adcode=e.data.districtCode+"",n.conter=[e.data.centerLon,e.data.centerLat]),s.data=n,t&&t(s)}else s.code="-1",s.errmsg=e.errmsg||"定位取行政区划查询失败",o&&o(s)},function(e){if(s.code="-1",s.errmsg="定位取行政区划查询失败!",!o)throw new Error(e);o(s)})},e}();t.MineGeocodeSearchService=f},QcOd:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.ToCDB=function(e){for(var t="",o=0;o<e.length;o++)12288!=e.charCodeAt(o)?e.charCodeAt(o)>65280&&e.charCodeAt(o)<65375?t+=String.fromCharCode(e.charCodeAt(o)-65248):t+=String.fromCharCode(e.charCodeAt(o)):t+=String.fromCharCode(e.charCodeAt(o)-12256);return t},e.ToDBC=function(e){for(var t="",o=0;o<e.length;o++)32==e.charCodeAt(o)&&(t+=String.fromCharCode(12288)),e.charCodeAt(o)<127?t+=String.fromCharCode(e.charCodeAt(o)+65248):t+=String.fromCharCode(e.charCodeAt(o));return t},e}();t.default=n},Qepj:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=[],t}return r(t,e),t}(o("Bw0s").BaseResult);t.MinePoiSearchResult=a},QmK0:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.id="",this.name="",this.address="",this.type="",this.typecode="",this.location="",this.navLocation="",this.pname="",this.cityname="",this.adname="",this.adcode="",this.source="",this.isSearch=!1,this.tel="",this.pcode="",this.citycode="",this.typeinfo="",this.info=""};t.TipsInfo=n},SVZP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("oabJ"),r=o("gjGi"),a=o("MDZM"),i=function(){function e(){this.arc=new n.ArcSpatialWmsBaseService,this.geo=new r.GeoSpatialWfsBaseService}return e.prototype.search=function(e,t,o,n){if("arcgis"===e&&("GeometryCollection"===t.geometry.type||"FeatureCollection"===t.geometry.type?"Point"===t.geometry.geometry.type?this.arc.spatialArcSearch(t.baseUrl,t.geometry,t.geometry.geometryType,t.mapExtent,t.tolerance,t.imageDisplay,t.layerName,t.layerDefs,o,n):this.arc.spatialArcSearch(t.baseUrl,t.geometry.coordinates[0],t.geometry.coordinates[1],t.mapExtent,t.tolerance,t.imageDisplay,t.layerName,t.layerDefs,o,n):"Point"===t.geometry.type?this.arc.pointSearchSingle(t.baseUrl,t.layerName,t.geometry.coordinates[0],t.geometry.coordinates[1],t.spatialRel,t.queryFields,t.where,t.distance,"",o,n):this.arc.spatialArcSearchSingle(t.baseUrl,t.layerName,t.geometry,t.geometryType,t.spatialRel,t.queryFields,t.where,t.distance,t.units,o,n)),"geoserver"===e)if("Point"===t.geometry.type)this.geo.pointGeoSearch(t.baseUrl,t.layerName,t.geometry.coordinates[0],t.geometry.coordinates[1],t.geometryField,t.spatialRel,t.queryFields,o,n);else{var r=a.TerraformerUtils.GeoGeometryToWkt(t.geometry);this.geo.spatialGeoSearch(t.baseUrl,t.layerName,r,t.geometryField,t.spatialRel,t.queryFields,o,n)}},e}();t.SpatialData=i},UKqM:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("FX6T"),r=o("/VWe"),a=function(){function e(){this.arc=new n.ArcKeyWmsBaseService,this.geo=new r.GeoKeyWfsBaseService}return e.prototype.search=function(e,t,o,n){"arcgis"===e&&this.arc.keyArcSearch(t,o,n),"geoserver"===e&&this.geo.keyGeoSearch(t,o,n)},e}();t.KeyData=a},Vk3Q:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={count:0,rows:[]},t}return r(t,e),t}(o("Bw0s").BaseResult);t.DrivingResult=a},Y3Yv:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={},t}return r(t,e),t}(o("Bw0s").BaseResult);t.GeoSearchResult=a},fEPK:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.joinParamToUrl=function(e){var t="";return e&&(Object.keys(e).map(function(o){var n=e[o];null!=n&&("string"!=typeof n&&(n=JSON.stringify(n)),t+=o+"="+encodeURI(n)+"&")}),t.endsWith("&")&&(t=t.substr(0,t.length-1))),t},e}();t.UrlParamUtils=n},gjGi:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("sCEe"),r=o("K2nT"),a=o("JpjK"),i=function(){function e(){}return e.prototype.spatialGeoSearch=function(e,t,o,i,c,s,d,u){var l=e+"?service=WFS&request=GetFeature&version=1.0.0&typename="+t+"&outputFormat=application/json&exceptions=application/json";null!=s&&""!=s&&(l+="&propertyName="+s),l+="&cql_filter="+(c=c||"INTERSECTS")+"("+(i=i||"geom")+","+o+")";var p=new a.SearchResult;map.Http.get(l,function(e){if(e&&e.features&&e.features.length>0){var t=new n.GeoJson;t.type=e.geometryType;e.features.forEach(function(e){var o=new r.Feture;o.type=e.type,o.properties=e.properties,o.geometry=e.geometry,t.features[0]=o}),p.data=t,p.code="0"}d&&d(p)},function(e){if(p.code="-1",p.errmsg="空间查询失败!",!u)throw new Error(e);u(p)})},e.prototype.pointGeoSearch=function(e,t,o,n,r,a,i,c,s){var d="POINT("+o+" "+n+")";this.spatialGeoSearch(e,t,d,r,a,i,c,s)},e}();t.GeoSpatialWfsBaseService=i},hfLc:function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o("L6WO")),n(o("UKqM")),n(o("SVZP")),n(o("C37a")),n(o("k2JR")),n(o("z1TA"));var r=o("k2JR"),a=o("z1TA"),i=o("C37a"),c=o("L6WO"),s=o("UKqM"),d=o("SVZP");map.Container.set("GeocodeData",new r.GeocodeData),map.Container.set("PoiData",new a.PoiData),map.Container.set("LbsData",new i.LbsData),map.Container.set("AttributeData",new c.AttributeData),map.Container.set("KeyData",new s.KeyData),map.Container.set("SpatialData",new d.SpatialData)},k2JR:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("PHc4"),r=function(){function e(){}return e.prototype.geocodeSearch=function(e,t,o,r){"mine"===e&&n.MineGeocodeSearchService.geocodeSearch(t,o,r)},e.prototype.reverseGeoCodeSearch=function(e,t,o,r){"mine"===e&&n.MineGeocodeSearchService.reverseGeoCodeSearch(t,o,r)},e.prototype.reverseGeoCodeSearch1204=function(e,t,o,r){"mine"===e&&n.MineGeocodeSearchService.reverseGeoCodeSearch1204(t,o,r)},e.prototype.adminByPoint=function(e,t,o,r){"mine"===e&&n.MineGeocodeSearchService.adminByPoint(t,o,r)},e}();t.GeocodeData=r},kCcL:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("sCEe"),r=o("JpjK"),a=function(){function e(){}return e.prototype.attributeArcSearch=function(e,t,o){var a=e.where.replace(/%/gi,"%25"),i=e.baseUrl+"/"+e.layerName+"/query?f=json&where="+a+"&spatialRel=esriSpatialRelIntersects&returnGeometry=true";i=e.queryFields?i+"&outFields="+e.queryFields:i+"&outFields=*",e.inExtent&&e.extent&&(i+="&spatialRel=esriSpatialRelContains&geometry={xmin:"+e.extent.xmin+",ymin:"+e.extent.ymin+",xmax:"+e.extent.xmax+",ymax:"+e.extent.ymax+",spatialReference:{wkid:"+e.wkid||!1);var c=new r.SearchResult;map.Http.get(i,function(e){e&&e.features&&e.features.length>0&&(e.features.forEach(function(e){var t={};map.Factory.toLowerCopy(e.attributes,t,!0),e.attributes=t}),map.Factory.Utils("TerraformerUtils",function(o){var r=new n.GeoJson;r=o.ArcToGeoCollection(e.features),c.data=r,c.code="0",t&&t(c)}))},function(e){if(c.code="-1",c.errmsg="属性查询失败",!o)throw new Error(e);o(c)})},e}();t.ArcAttributeWmsBaseService=a},kfoI:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source="",t.brandCode="",t.brandName="",t.rank="",t.tag="",t.level="",t.kindRank="",t.shape="",t.deviceID="",t.Voltage="",t.transfomerName="",t.StationName="",t.manager="",t.addressId="",t.userId="",t.userName="",t.traId="",t.deviceKind="",t.pgridId="",t.pgridName="",t.pburId="",t.pburName="",t.pburBrId="",t.pburBrName="",t.stationId="",t.managerId="",t.formerName="",t.alias="",t}return r(t,e),t}(o("Lpfv").PoiDetailInfo);t.MinePoiDetailInfo=a},lteu:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pois=[],t}return r(t,e),t}(o("v3nP").PoiList);t.MinePoiList=a},n6ck:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hit="",t.source="",t.StationName="",t.Voltage="",t.transfomerName="",t.deviceID="",t.manager="",t}return r(t,e),t}(o("/Cjj").PoiInfo);t.MinePoiInfo=a},nQbI:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.province="",this.city="",this.adname="",this.adcode="",this.conter=null,this.pcode="",this.citycode=""};t.AdminInfo=n},oabJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("sCEe"),r=o("JpjK"),a=function(){function e(){}return e.prototype.spatialArcSearch=function(e,t,o,a,i,c,s,d,u,l){var p=e+"/identify?f=json&geometry="+JSON.stringify(t)+"&tolerance="+i+"&returnGeometry=true&mapExtent="+a+"&imageDisplay="+c;if(o)p=p+"&geometryType="+o;else switch(t.type){case"MultiPoint":o="esriGeometryMultipoint";break;case"LineString":o="esriGeometryLine";break;case"MultiLineString":o="esriGeometryPolyline";break;case"Polygon":o="esriGeometryPolygon";break;case"MultiPolygon":o="esriGeometryEnvelope"}s&&(p+="&layers="+s),d&&(p+="&layerDefs="+d);var f=new r.SearchResult;map.Http.get(p,function(e){e&&e.results&&e.results.length>0&&(e.features.forEach(function(e){var t={};map.Factory.toLowerCopy(e.attributes,t,!0),e.attributes=t}),map.Factory.Utils("TerraformerUtils",function(t){var o=new n.GeoJson;o=t.ArcToGeoCollection(e.features),f.data=o,f.code="0",u&&u(f)}))},function(e){if(f.code="-1",f.errmsg="空间查询失败!",!l)throw new Error(e);l(f)})},e.prototype.pointArcSearch=function(e,t,o,n,r,a,i,c,s,d){var u=t+","+o;this.spatialArcSearch(e,u,"esriGeometryPoint",n,r,a,i,c,s,d)},e.prototype.spatialArcSearchSingle=function(e,t,o,a,i,c,s,d,u,l,p){var f=e+"/"+t+"/query?f=json&outFields="+(c=c||"*")+"&geometry="+JSON.stringify(o)+"&returnGeometry=true";if(f=i?f+"&spatialRel="+i:f+"&spatialRel=esriSpatialRelIntersects",a)f=f+"&geometryType="+a;else switch(o.type){case"MultiPoint":a="esriGeometryMultipoint";break;case"LineString":a="esriGeometryLine";break;case"MultiLineString":a="esriGeometryPolyline";break;case"Polygon":a="esriGeometryPolygon";break;case"MultiPolygon":a="esriGeometryEnvelope"}d&&(f+="&distance="+d+"&units="+(u=u||"esriSRUnit_Meter")),s&&(f+="&where="+s);var m=new r.SearchResult;map.Http.get(f,function(e){e&&e.features&&e.features.length>0&&(e.features.forEach(function(e){var t={};map.Factory.toLowerCopy(e.attributes,t,!0),e.attributes=t}),map.Factory.Utils("TerraformerUtils",function(t){var o=new n.GeoJson;o=t.ArcToGeoCollection(e.features),m.data=o,m.code="0",l&&l(m)}))},function(e){if(m.code="-1",m.errmsg="空间查询失败",!p)throw new Error(e);p(m)})},e.prototype.pointSearchSingle=function(e,t,o,n,r,a,i,c,s,d,u){var l=o+","+n;this.spatialArcSearchSingle(e,t,l,"esriGeometryPoint",r,a,i,c,s,d,u)},e}();t.ArcSpatialWmsBaseService=a},ofVz:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={},t}return r(t,e),t}(o("Bw0s").BaseResult);t.ReGeoSearchResult=a},raKV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.type=0,this.duration=0,this.distance=0,this.redlight=null,this.routelatlon="",this.item=[]};t.DrivingInfo=n},sCEe:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.type="",this.features=[]};t.GeoJson=n},v0m7:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.count=0,this.pageIndex=1,this.recomadcode="",this.pois=[]};t.TipsList=n},v3nP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.count=0,this.pageIndex=1};t.PoiList=n},vifD:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={},t}return r(t,e),t}(o("Bw0s").BaseResult);t.AdminSearchResult=a},z1TA:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("GNuO"),r=function(){function e(){}return e.prototype.suggestSearch=function(e,t,o,r){"mine"===e&&n.MineSearchBseService.suggestSearch(t,o,r)},e.prototype.keySearch=function(e,t,o,r){"mine"===e&&n.MineSearchBseService.keySearch(t,o,r)},e.prototype.aroundSearch=function(e,t,o,r){"mine"===e&&n.MineSearchBseService.aroundSearch(t,o,r)},e.prototype.detailSearch=function(e,t,o,r){"mine"===e&&n.MineSearchBseService.detailSearch(t,o,r)},e}();t.PoiData=r}})});