!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):e.EimMobileJsSdk=o()}(this,function(){"use strict";var n=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")},i=function(){function n(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&n(e.prototype,o),t&&n(e,t),e}}(),o=function(){function o(e){n(this,o),this.protocolSwitch=e||"new"}return i(o,[{key:"firstUpperCase",value:function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})}},{key:"randomId",value:function(e){e=e||10;for(var o="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",t=o.length,n="",i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*t));return n}},{key:"judge",value:function(){return-1<window.navigator.userAgent.indexOf("eimAndroid")?"eimAndroid":"eimiOS"}},{key:"judgePlatform",value:function(){var e=navigator.userAgent.toLowerCase(),o="iphone os"==e.match(/iphone os/i),t="android"==e.match(/android/i);return o?"iOS":t?"Android":""}},{key:"getOption",value:function(e){return Object.assign({},this.opts,e)}},{key:"toJSON",value:function(o){if("string"==typeof o)try{return JSON.parse(o)}catch(e){return o}return o}},{key:"getCallbackName",value:function(e,o,t){var n=this.firstUpperCase(e),i=t?this.firstUpperCase(t):this.firstUpperCase(this.randomId(6));return"success"===o?"eimMobileJsSdk"+n+i+"Success":"eimMobileJsSdk"+n+i+"Faile"}},{key:"getProtocol",value:function(e,o,t,n){for(var i="",c="",a=arguments.length,s=Array(4<a?a-4:0),r=4;r<a;r++)s[r-4]=arguments[r];if("old"===e){c=s.join("_");var l=o.split("_");if(i="eim://"+l[0]+"_"+t+"_"+n,1<l.length)for(var p=1;p<o.split("_").length;p++)i+="_"+l[p];i+="/"+c}else i=(c=s.join("&"))?"eim://com.comtop.eim/"+o+"?succallback="+t+"&failcallback="+n+"&"+c:"eim://com.comtop.eim/"+o+"?succallback="+t+"&failcallback="+n;return i}},{key:"getProtocolSync",value:function(e,o){for(var t="",n="",i=arguments.length,c=Array(2<i?i-2:0),a=2;a<i;a++)c[a-2]=arguments[a];if("old"===e){n=c.join("_");var s=o.split("_");if(t="eim://"+s[0],1<s.length)for(var r=1;r<o.split("_").length;r++)t+="_"+s[r];t+="/"+n}else t=(n=c.join("&"))?"eim://com.comtop.eim/"+o+"?"+n:"eim://com.comtop.eim/"+o+"?";return t}},{key:"createCallbackFactory",value:function(e,o){var t=this.getCallbackName(o,"success",e.id),n=this.getCallbackName(o,"fail",e.id);return window[t]=e.success,window[n]=e.fail,{suc:t,fail:n}}},{key:"createProtocol",value:function(e,o,t){if(!("new"===t&&"has no this protocol"===e||"old"===t&&"has no this protocol"===o)){var n="new"===t?e:o;if("undefined"!=typeof comtopJssdk||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.comtopJssdk){var i=this.judgePlatform();"iOS"===i?window.webkit.messageHandlers.comtopJssdk.postMessage(n):"Android"===i&&comtopJssdk.exc(n,!1)}else window.location.href=n}}},{key:"createProtocolPrompt",value:function(e,o,t){"new"===t&&"has no this protocol"===e||"old"===t&&"has no this protocol"===o||prompt("new"===t?e:o)}},{key:"createProtocolSync",value:function(e,o,t){if(!("new"===t&&"has no this protocol"===e||"old"===t&&"has no this protocol"===o)){var n=prompt("new"===t?e:o);return this.toJSON(n)}}},{key:"createSimpleJssdkFuncFactory",value:function(e,o,t,n){var i=this.getOption(e),c=this.createCallbackFactory(i,o),a=""===t?"has no this protocol":this.getProtocol("new",t,c.suc,c.fail),s=""===n?"has no this protocol":this.getProtocol("old",n,c.suc,c.fail);this.createProtocol(a,s,this.protocolSwitch)}},{key:"createSimpleJssdkFuncFactorySync",value:function(e,o){var t=""===e?"has no this protocol":this.getProtocolSync("new",e),n=""===o?"has no this protocol":this.getProtocolSync("old",o);return this.createProtocolSync(t,n,this.protocolSwitch)}},{key:"createSingleParamJssdkFuncFactory",value:function(e,o,t,n,i,c){var a=this.createCallbackFactory(e,o),s=""===t?"has no this protocol":this.getProtocol("new",t,a.suc,a.fail,n),r=""===i?"has no this protocol":this.getProtocol("old",i,a.suc,a.fail,c);this.createProtocol(s,r,this.protocolSwitch)}},{key:"createSingleParamJssdkFuncFactorySync",value:function(e,o,t,n,i){var c=""===o?"has no this protocol":this.getProtocolSync("new",o,t),a=""===n?"has no this protocol":this.getProtocolSync("old",n,i);return this.createProtocolSync(c,a,this.protocolSwitch)}}]),o}();return function(e){function t(e){n(this,t);var o=function(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.protocolSwitch=e||"new",o}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(t,o),i(t,[{key:"selectPhoto",value:function(e){var o=this.getOption(e),t=o.count?o.count:1,n=o.isNeedVideo,i=0===o.singleCrop?o.singleCrop:1,c=this.createCallbackFactory(o,"selectPhoto");this.createProtocol(this.getProtocol("new","photo/select",c.suc,c.fail,"limit="+encodeURIComponent(t),"singlecrop="+encodeURIComponent(i),"isNeedVideo="+encodeURIComponent(n)),this.getProtocol("old","selectPhoto",c.suc,c.fail,t,i,n),this.protocolSwitch)}},{key:"imcrop",value:function(e){var o=this.getOption(e),t=o.aspectratio?o.aspectratio:1,n=o.quality?o.quality:0,i=o.shotonly?o.shotonly:0,c=this.createCallbackFactory(o,"imcrop");this.createProtocol(this.getProtocol("new","system/imcrop",c.suc,c.fail,"aspectratio="+encodeURIComponent(t),"quality="+encodeURIComponent(n),"shotonly="+encodeURIComponent(i)),this.getProtocol("old","imcrop",c.suc,c.fail,t,n,i),this.protocolSwitch)}},{key:"selectUser",value:function(e,o){var t=this.getOption(e),n=t.maxLimit||99,i=this.createCallbackFactory(t,"selectUser"),c=t.ignoreself?"/ignoreSelf":"",a=t.ignoreself?1:0,s=t.selecteduids&&0!==t.selecteduids.length?""+t.selecteduids.join("_"):"",r=t.selecteduids&&0!==t.selecteduids.length?""+t.selecteduids.join(","):"",l=o?"user/selectUserWith4A":"user/select";this.createProtocol(this.getProtocol("new",l,i.suc,i.fail,"maxlimit="+encodeURIComponent(n),"ignoreself="+encodeURIComponent(a),"selecteduids="+encodeURIComponent(r)),o?"has no this protocol":this.getProtocol("old","selectUser_"+n,i.suc,i.fail,""+s+c),this.protocolSwitch)}},{key:"select4AUser",value:function(e){this.selectUser(e,!0)}},{key:"selectDept",value:function(e){var o=this.getOption(e),t=o.maxLimit||99,n=this.createCallbackFactory(o,"selectDept"),i=o.ignoreself?"/ignoreself":"",c=o.ignoreself?1:0,a=o.selectedids&&0!==o.selectedids.length?o.selectedids.join("_"):"",s=o.selectedids&&0!==o.selectedids.length?""+o.selectedids.join(","):"";this.createProtocol(this.getProtocol("new","dept/select",n.suc,n.fail,"maxlimit="+encodeURIComponent(t),"ignoreself="+encodeURIComponent(c),"selectedids="+encodeURIComponent(s)),this.getProtocol("old","selectDept_"+t,n.suc,n.fail,""+a+i),this.protocolSwitch)}},{key:"screenRotation",value:function(e){var o=this.getOption(e),t=o.param?o.param:"vertical",n=this.createCallbackFactory(o,"screenRotation");this.createProtocol(this.getProtocol("new","system/screen",n.suc,n.fail,"action="+encodeURIComponent(t)),this.getProtocol("old","screenRotation",n.suc,n.fail,""+t),this.protocolSwitch)}},{key:"phoneCall",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"phoneCall","system/phonecall","phonenum="+encodeURIComponent(o.phoneNumber),"phoneCall",o.phoneNumber)}},{key:"openQRCode",value:function(e){var o=this.getOption(e),t=o.needResult?o.needResult:1;this.createSingleParamJssdkFuncFactory(o,"openQRCode","qrcode/scan","needresult="+encodeURIComponent(t),"openQRCode",t)}},{key:"scanQRCode",value:function(e){var o=this.getOption(e),t=1===o.needResult||0===o.needResult?o.needResult:1;this.createSingleParamJssdkFuncFactory(o,"scanQRCode","qrcode/scan","needresult="+encodeURIComponent(t),"scanQRCode",t)}},{key:"openEditText",value:function(e){var o=this.getOption(e),t=o.text?o.text:"发送",n=o.type?o.type:"number",i=o.content,c=this.createCallbackFactory(o,"openEditText");this.createProtocol(this.getProtocol("new","web/input/text",c.suc,c.fail,"type="+encodeURIComponent(n),"text="+encodeURIComponent(t),"content="+encodeURIComponent(i)),this.getProtocol("old","openEditText",c.suc,c.fail,t,n,i),this.protocolSwitch)}},{key:"openFile",value:function(e){var o=this.getOption(e),t=o.fileStr;this.createSingleParamJssdkFuncFactory(o,"openFile","file/open","json="+encodeURIComponent(t),"openFile",t)}},{key:"uploadFile",value:function(e){var o=this.getOption(e),t=o.fileStr;this.createSingleParamJssdkFuncFactory(o,"uploadFile","file/upload","json="+encodeURIComponent(t),"uploadFile",t)}},{key:"previewFile",value:function(e){var o=this.getOption(e),t=o.fileStr;this.createSingleParamJssdkFuncFactory(o,"previewFile","file/preview","json="+encodeURIComponent(t),"previewFile",t)}},{key:"getFileDownloadList",value:function(e){var o=this.getOption(e),t=o.fileStr;this.createSingleParamJssdkFuncFactory(o,"getFileDownloadList","file/getdownloadlist","json="+encodeURIComponent(t),"getFileDownloadList",t)}},{key:"menuList",value:function(e){var o=this.getOption(e),t=o.menulist&&0!==o.menulist.length?o.menulist.join("_"):"",n=o.menulist&&0!==o.menulist.length?o.menulist.join(","):"";this.createSingleParamJssdkFuncFactory(o,"menuList","menu/list","menulist="+encodeURIComponent(n),"menuList",t)}},{key:"onMenu",value:function(e){var o=this.getOption(e),t=o.type;this.createSingleParamJssdkFuncFactory(o,"onMenu","web/menu/action","name="+encodeURIComponent(t),"onMenu",t)}},{key:"logout",value:function(e){this.createSimpleJssdkFuncFactory(e,"logout","user/logout","logout")}},{key:"closeWindow",value:function(e){var o="eimAndroid"===this.judge()?"closecurrentwindow":"closeWindow";this.createSimpleJssdkFuncFactory(e,"closeWindow","web/close",o)}},{key:"banPull",value:function(e){var o=this.getOption(e),t=o?o.pull:"";this.createSingleParamJssdkFuncFactory(o,"banPull","web/banpull","pull="+encodeURIComponent(t),"banPull",null)}},{key:"goBack",value:function(e){var o="eimAndroid"===this.judge()?"closeWindow":"goBack";this.createSimpleJssdkFuncFactory(e,"goBack","web/goback",o)}},{key:"hiddenNavigationBar",value:function(e){var o=this.getOption(e),t=o?o.action:"";this.createSingleParamJssdkFuncFactory(o,"hiddenNavigationBar","web/navigationbar/toggler","action="+encodeURIComponent(t),"hiddenNavigationBar",null)}},{key:"closeShouldAutorotate",value:function(e){this.createSimpleJssdkFuncFactory(e,"closeShouldAutorotate","system/closerotate","closeShouldAutorotate")}},{key:"clipBoard",value:function(e){var o=this.getOption(e),t=o.text;this.createSingleParamJssdkFuncFactory(o,"clipBoard","system/clipboard","content="+encodeURIComponent(t),"clipBoard",t)}},{key:"refreshPubService",value:function(e){var o=this.getOption(e),t=o.action;this.createSingleParamJssdkFuncFactory(o,"refreshPubService","pubservice/refresh","action="+encodeURIComponent(t),"refreshpubservice",t)}},{key:"setEarpieceMode",value:function(e){this.createSimpleJssdkFuncFactory(e,"setEarpieceMode","system/earpiece","setEarpieceMode")}},{key:"isInstalled",value:function(e){var o=this.getOption(e),t=o.packageName;this.createSingleParamJssdkFuncFactory(o,"isInstalled","app/installed","name="+encodeURIComponent(t),"isInstalled",t)}},{key:"choosePhoto",value:function(e){var o=this.getOption(e),t=o.maxLimit;this.createSingleParamJssdkFuncFactory(o,"choosePhoto","photo/choose","maxlimit="+t,"choosePhoto",t)}},{key:"setTitleVisibility",value:function(e){var o=this.getOption(e),t=o.isShow||void 0===o.isShow?"visible":"gone",n=this.createCallbackFactory(o,"groupCreate");this.createProtocol("has no this protocol",this.getProtocol("old","setTitleVisibility",n.suc,n.fail,t),this.protocolSwitch)}},{key:"playVideo",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"playVideo","video/play","json="+encodeURIComponent(o.videoJson),"playVideo",o.videoJson)}},{key:"showVoiceInput",value:function(e){this.createSimpleJssdkFuncFactory(e,"showVoiceInput","voice/input","showVoiceInput")}},{key:"openZoom",value:function(e){this.createSimpleJssdkFuncFactory(e,"openZoom","system/zoom","openZoom")}},{key:"getLocation",value:function(e){this.createSimpleJssdkFuncFactory(e,"getLocation","system/getlocation","getLocation")}},{key:"groupCreate",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"groupCreate");this.createProtocol(this.getProtocol("new","group/create",t.suc,t.fail,"groupname="+encodeURIComponent(o.groupname),"groupmark="+encodeURIComponent(o.groupmark)),this.getProtocol("old","groupCreate",t.suc,t.fail),this.protocolSwitch)}},{key:"dissolve",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"dissolve","group/dissolve","roomid="+encodeURIComponent(o.roomId),"groupDissolveWithRoomId",o.roomId)}},{key:"groupOpen",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"groupOpen","group/open","roomid="+encodeURIComponent(o.roomId),"groupOpenWithRoomId",o.roomId)}},{key:"groupExit",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"groupExit","group/exit","roomid="+encodeURIComponent(o.roomId),"exitGroup",o.roomId)}},{key:"refreshMyInfo",value:function(e){this.createSimpleJssdkFuncFactory(e,"refreshMyInfo","user/refreshself","refreshMyInfo")}},{key:"showUserInfoWithUserId",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"showUserInfoWithUserId","user/showinfo","userid="+encodeURIComponent(o.userId),"showUserInfoWithUserId",o.userId)}},{key:"openApp",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"openApp","app/open","appid="+encodeURIComponent(o.appId),"openApp",o.appId)}},{key:"shareWebMessage",value:function(e){this.createSimpleJssdkFuncFactory(e,"shareWebMessage","web/share","shareWebMessage")}},{key:"getLocalWifiIP",value:function(e){this.createSimpleJssdkFuncFactory(e,"getLocalWifiIP","system/wifi/getip","getLocalWifiIP")}},{key:"getLocalWifiMac",value:function(e){this.createSimpleJssdkFuncFactory(e,"getLocalWifiMac","system/wifi/getmac","getLocalWifiMac")}},{key:"imcropUpload",value:function(e){var o=this.getOption(e),t=o.aspectratio?o.aspectratio:1;this.createSingleParamJssdkFuncFactory(o,"imcropUpload","system/imcrop/upload","aspectratio="+encodeURIComponent(t),"",{})}},{key:"showUserInfo",value:function(e){this.createSimpleJssdkFuncFactory(e,"getCurrentUserInfo","user/current/info","")}},{key:"sendCardToChat",value:function(e){var o=this.getOption(e),t=o.from,n=o.title,i=o.des,c=o.cover,a=o.link,s=this.createCallbackFactory(o,"sendCardToChat");this.createProtocol(this.getProtocol("new","chat/select/send/message",s.suc,s.fail,"from="+encodeURIComponent(t),"title="+encodeURIComponent(n),"des="+encodeURIComponent(i),"cover="+encodeURIComponent(c),"link="+encodeURIComponent(a)),"has no this protocol",this.protocolSwitch)}},{key:"sendCardToUser",value:function(e){var o=this.getOption(e),t=o.from,n=o.userid,i=o.title,c=o.des,a=o.cover,s=o.link,r=this.createCallbackFactory(o,"sendCardToUser");this.createProtocol(this.getProtocol("new","user/send/appmessage",r.suc,r.fail,"from="+encodeURIComponent(t),"userid="+encodeURIComponent(n),"title="+encodeURIComponent(i),"des="+encodeURIComponent(c),"cover="+encodeURIComponent(a),"link="+encodeURIComponent(s)),"has no this protocol",this.protocolSwitch)}},{key:"getImei",value:function(e){this.createSimpleJssdkFuncFactory(e,"getImei","system/imei","")}},{key:"audio",value:function(e){var o=this.getOption(e),t=o.action;this.createSingleParamJssdkFuncFactory(o,"audio","audio/record","action="+encodeURIComponent(t),"",{})}},{key:"audioPlay",value:function(e){var o=this.getOption(e),t=o.action,n=o.fileUrl,i=this.createCallbackFactory(o,"audioPlay");this.createProtocol(this.getProtocol("new","audio/play",i.suc,i.fail,"fileurl="+encodeURIComponent(n),"action="+encodeURIComponent(t)),"has no this protocol",this.protocolSwitch)}},{key:"openThirdApp",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"openThirdApp");"eimAndroid"===this.judge()?this.createProtocol(this.getProtocol("new","open/thirdapp",t.suc,t.fail,"pkg="+encodeURIComponent(o.pkg)),"has no this protocol",this.protocolSwitch):this.createProtocol(this.getProtocol("new","open/thirdapp",t.suc,t.fail,"scheme="+encodeURIComponent(o.scheme)),"has no this protocol",this.protocolSwitch)}},{key:"uploadAttachment",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"uploadAttachment");this.createProtocol(this.getProtocol("new","upload/attachment",t.suc,t.fail,"url="+encodeURIComponent(o.url),"key="+encodeURIComponent(o.key),"value="+encodeURIComponent(o.value)),"has no this protocol",this.protocolSwitch)}},{key:"selectMedia",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"selectMedia","media/select","limit="+encodeURIComponent(o.limit),"",{})}},{key:"uploadMedia",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"uploadMedia");this.createProtocol(this.getProtocol("new","media/upload",t.suc,t.fail,"url="+encodeURIComponent(o.url),"key="+encodeURIComponent(o.key),"value="+encodeURIComponent(o.value),"fileurl="+encodeURIComponent(o.fileurl)),"has no this protocol",this.protocolSwitch)}},{key:"ajax",value:function(e){this.ajaxComm(e,"system/network","ajax")}},{key:"ajax2",value:function(e){this.ajaxComm(e,"system/network2","ajax2")}},{key:"ajaxComm",value:function(e,o,t){var n=this.getOption(e),i=this.createCallbackFactory(n,t),c=encodeURIComponent(n.url),a=encodeURIComponent(n.cookieType),s=encodeURIComponent(n.timeout),r=n.method&&/^get|post|put|delete$/.test(n.method.toLowerCase())?n.method.toLowerCase():"get",l={},p=JSON.stringify({});try{l=JSON.stringify(n.data)}catch(e){l=p}var u={};try{u=JSON.stringify(n.header)}catch(e){u=p}var h=n.returnResponseHeader?1:0;this.createProtocol(this.getProtocol("new",o,i.suc,i.fail,"url="+c,"data="+encodeURIComponent(l),"method="+encodeURIComponent(r),"header="+encodeURIComponent(u),"is_return_response_without_cookie="+encodeURIComponent(h),"cookie_type="+a,"timeout="+s),"has no this protocol",this.protocolSwitch)}},{key:"ajaxGateway",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"ajaxGateway"),n=encodeURIComponent(o.url),i=o.method&&/^get|post|put|delete$/.test(o.method.toLowerCase())?o.method.toLowerCase():"get",c=o.appKey||"",a=o.appSecret||"",s=o.ekey||"",r={},l=JSON.stringify({});try{r=JSON.stringify(o.data||"")}catch(e){r=l}var p={};try{p=JSON.stringify(o.header)}catch(e){p=l}var u=o.returnResponseHeader?1:0;this.createProtocol(this.getProtocol("new","system/gateway",t.suc,t.fail,"url="+n,"data="+encodeURIComponent(r),"method="+encodeURIComponent(i),"appkey="+encodeURIComponent(c),"appsecret="+encodeURIComponent(a),"ekey="+encodeURIComponent(s),"header="+encodeURIComponent(p),"is_return_response_without_cookie="+encodeURIComponent(u)),"has no this protocol",this.protocolSwitch)}},{key:"ssoLogin",value:function(e){this.createSimpleJssdkFuncFactory(e,"ssoLogin","appstore/sso","")}},{key:"kv",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"kv");"get"===o.action||"delete"===o.action?this.createProtocol(this.getProtocol("new","system/kv",t.suc,t.fail,"action="+encodeURIComponent(o.action),"key="+encodeURIComponent(o.key)),"has no this protocol",this.protocolSwitch):this.createProtocol(this.getProtocol("new","system/kv",t.suc,t.fail,"action="+encodeURIComponent(o.action),"key="+encodeURIComponent(o.key),"value="+encodeURIComponent(o.value)),"has no this protocol",this.protocolSwitch)}},{key:"kvSync",value:function(e){var o=this.getOption(e);return"get"===o.action||"delete"===o.action?this.createProtocolSync(this.getProtocolSync("new","system/kv","action="+encodeURIComponent(o.action),"key="+encodeURIComponent(o.key)),"has no this protocol",this.protocolSwitch):this.createProtocolSync(this.getProtocolSync("new","system/kv","action="+encodeURIComponent(o.action),"key="+encodeURIComponent(o.key),"value="+encodeURIComponent(o.value)),"has no this protocol",this.protocolSwitch)}},{key:"network",value:function(e){this.createSimpleJssdkFuncFactory(e,"network","system/network/status","network")}},{key:"cache",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"cache","system/cache","action="+encodeURIComponent(o.action),"cache",o.action)}},{key:"cacheSync",value:function(e){var o=this.getOption(e);return this.createSingleParamJssdkFuncFactorySync(o,"system/cache","action="+encodeURIComponent(o.action),"cache",o.action)}},{key:"userAction",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"userAction");this.createProtocol(this.getProtocol("new","app/userAction",t.suc,t.fail,"actionCode="+encodeURIComponent(o.actionCode),"actionTime="+encodeURIComponent(o.actionTime),"actionResult="+encodeURIComponent(o.actionResult)),"has no this protocol",this.protocolSwitch)}},{key:"pushX",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"pushx","system/pushx","userid="+encodeURIComponent(o.userid),"pushx",o.userid)}},{key:"getDataFromThirdApp",value:function(e){this.createSimpleJssdkFuncFactory(e,"thirdApp","cache/thirdapp","")}},{key:"setcolor",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"setcolor");this.createProtocol(this.getProtocol("new","system/statusbar/setcolor",t.suc,t.fail,"value="+encodeURIComponent(o.value),"alpha="+encodeURIComponent(o.alpha),"titlecolor="+encodeURIComponent(o.titlecolor)),"has no this protocol",this.protocolSwitch)}},{key:"mapNavigateByBaidu",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"userAction");this.createProtocol(this.getProtocol("new","map/baidu/navigate",t.suc,t.fail,"location="+encodeURIComponent(o.location),"coord_type="+encodeURIComponent(o.coord_type),"query="+encodeURIComponent(o.query),"type="+encodeURIComponent(o.type),"via_points="+encodeURIComponent(o.via_points)),"has no this protocol",this.protocolSwitch)}},{key:"loginType",value:function(e){this.createSimpleJssdkFuncFactory(e,"loginType","appstore/loginType","loginType")}},{key:"vpnLinkedState",value:function(e){this.createSimpleJssdkFuncFactory(e,"vpnLinkedState","appstore/vpnLinkedState","vpnLinkedState")}},{key:"record",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"watermark");this.createProtocol(this.getProtocol("new","video/record",t.suc,t.fail,"quality="+encodeURIComponent(o.quality),"maxduration="+encodeURIComponent(o.maxduration)),"has no this protocol",this.protocolSwitch)}},{key:"watermark",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"watermark");this.createProtocol(this.getProtocol("new","safety/watermark",t.suc,t.fail,"content="+encodeURIComponent(o.content),"color="+encodeURIComponent(o.color),"alpha="+encodeURIComponent(o.alpha),"textsize="+encodeURIComponent(o.textsize)),"has no this protocol",this.protocolSwitch)}},{key:"keyboard",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"keyboard");this.createProtocol(this.getProtocol("new","safety/keyboard",t.suc,t.fail,"title="+encodeURIComponent(o.title),"content="+encodeURIComponent(o.content),"button_text="+encodeURIComponent(o.button_text)),"has no this protocol",this.protocolSwitch)}},{key:"selectSkyDriveFile",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"setcolor");this.createProtocol(this.getProtocol("new","skydrive/selectskydrivefile",t.suc,t.fail,"file="+encodeURIComponent(JSON.stringify(o.file))),"has no this protocol",this.protocolSwitch)}},{key:"selectSkyDriveFileForLink",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"setcolor");this.createProtocol(this.getProtocol("new","skydrive/selectskydrivefileforlink",t.suc,t.fail,"file="+encodeURIComponent(JSON.stringify(o.file))),"has no this protocol",this.protocolSwitch)}},{key:"opensystemurl",value:function(e){var o=this.getOption(e);this.createSingleParamJssdkFuncFactory(o,"opensystemurl","system/opensystemurl","url="+encodeURIComponent(o.url),"opensystemurl",o.url)}},{key:"getSystemVersion",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"setcolor");this.createProtocol(this.getProtocol("new","eimsystem/getsystemversion",t.suc,t.fail),"has no this protocol",this.protocolSwitch)}},{key:"getAppVersion",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"setcolor");this.createProtocol(this.getProtocol("new","eimsystem/getappversion",t.suc,t.fail),"has no this protocol",this.protocolSwitch)}},{key:"shareTextMsg",value:function(e){var o=this.getOption(e),t=o.text;this.createSingleParamJssdkFuncFactory(o,"shareTextMsg","eimsystem/sharetextmsg","text="+encodeURIComponent(t),"shareTextMsg",t)}},{key:"shoot",value:function(e){var o=this.getOption(e),t=this.createCallbackFactory(o,"uploadMedia");this.createProtocol(this.getProtocol("new","system/shoot",t.suc,t.fail,"type="+encodeURIComponent(o.type),"limit="+encodeURIComponent(o.limit),"maxduration="+encodeURIComponent(o.maxduration)),"has no this protocol",this.protocolSwitch)}}]),t}()});
